var SC=Object.defineProperty,IC=Object.defineProperties;var AC=Object.getOwnPropertyDescriptors;var Ga=Object.getOwnPropertySymbols;var cy=Object.prototype.hasOwnProperty,dy=Object.prototype.propertyIsEnumerable;var ri=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),TC=e=>{throw TypeError(e)};var uy=(e,t,n)=>t in e?SC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,be=(e,t)=>{for(var n in t||={})cy.call(t,n)&&uy(e,n,t[n]);if(Ga)for(var n of Ga(t))dy.call(t,n)&&uy(e,n,t[n]);return e},Oe=(e,t)=>IC(e,AC(t));var cd=(e,t)=>{var n={};for(var r in e)cy.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ga)for(var r of Ga(e))t.indexOf(r)<0&&dy.call(e,r)&&(n[r]=e[r]);return n};var Xe=(e,t,n)=>new Promise((r,o)=>{var i=l=>{try{a(n.next(l))}catch(u){o(u)}},s=l=>{try{a(n.throw(l))}catch(u){o(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);a((n=n.apply(e,t)).next())}),Yt=function(e,t){this[0]=e,this[1]=t},sr=(e,t,n)=>{var r=(s,a,l,u)=>{try{var c=n[s](a),d=(a=c.value)instanceof Yt,f=c.done;Promise.resolve(d?a[0]:a).then(h=>d?r(s==="return"?s:"next",a[1]?{done:h.done,value:h.value}:h,l,u):l({value:h,done:f})).catch(h=>r("throw",h,l,u))}catch(h){u(h)}},o=s=>i[s]=a=>new Promise((l,u)=>r(s,a,l,u)),i={};return n=n.apply(e,t),i[ri("asyncIterator")]=()=>i,o("next"),o("throw"),o("return"),i},jr=e=>{var t=e[ri("asyncIterator")],n=!1,r,o={};return t==null?(t=e[ri("iterator")](),r=i=>o[i]=s=>t[i](s)):(t=t.call(e),r=i=>o[i]=s=>{if(n){if(n=!1,i==="throw")throw s;return s}return n=!0,{done:!1,value:new Yt(new Promise(a=>{var l=t[i](s);l instanceof Object||TC("Object expected"),a(l)}),1)}}),o[ri("iterator")]=()=>o,r("next"),"throw"in t?r("throw"):o.throw=i=>{throw i},"return"in t&&r("return"),o},fn=(e,t,n)=>(t=e[ri("asyncIterator")])?t.call(e):(e=e[ri("iterator")](),t={},n=(r,o)=>(o=e[r])&&(t[r]=i=>new Promise((s,a,l)=>(i=o.call(e,i),l=i.done,Promise.resolve(i.value).then(u=>s({value:u,done:l}),a)))),n("next"),n("return"),t);var dd;function qa(){return dd}function Wn(e){let t=dd;return dd=e,t}var fy=Symbol("NotFound");function oi(e){return e===fy||e?.name==="\u0275NotFound"}var Ut=null,Ka=!1,fd=1,MC=null,Qt=Symbol("SIGNAL");function Pe(e){let t=Ut;return Ut=e,t}function Ja(){return Ut}var ii={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function si(e){if(Ka)throw new Error("");if(Ut===null)return;Ut.consumerOnSignalRead(e);let t=Ut.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ut.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ut.producers,n!==void 0&&n.producer===e)){Ut.producersTail=n,n.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===Ut&&(!r||NC(o,Ut)))return;let i=li(Ut),s={producer:e,consumer:Ut,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};Ut.producersTail=s,t!==void 0?t.nextProducer=s:Ut.producers=s,i&&my(e,s)}function hy(){fd++}function Xa(e){if(!(li(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===fd)){if(!e.producerMustRecompute(e)&&!vs(e)){Za(e);return}e.producerRecomputeValue(e),Za(e)}}function hd(e){if(e.consumers===void 0)return;let t=Ka;Ka=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||xC(r)}}finally{Ka=t}}function pd(){return Ut?.consumerAllowSignalWrites!==!1}function xC(e){e.dirty=!0,hd(e),e.consumerMarkedDirty?.(e)}function Za(e){e.dirty=!1,e.lastCleanEpoch=fd}function ai(e){return e&&py(e),Pe(e)}function py(e){e.producersTail=void 0,e.recomputing=!0}function ys(e,t){Pe(t),e&&gy(e)}function gy(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(li(e))do n=gd(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function vs(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Xa(n),r!==n.version))return!0}return!1}function bs(e){if(li(e)){let t=e.producers;for(;t!==void 0;)t=gd(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function my(e,t){let n=e.consumersTail,r=li(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)my(o.producer,o)}function gd(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:t.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(t.consumers=r,!li(t)){let i=t.producers;for(;i!==void 0;)i=gd(i)}return n}function li(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function el(e){MC?.(e)}function NC(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function tl(e,t){return Object.is(e,t)}function nl(e,t){let n=Object.create(RC);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Xa(n),si(n),n.value===ms)throw n.error;return n.value};return r[Qt]=n,el(n),r}var Ya=Symbol("UNSET"),Qa=Symbol("COMPUTING"),ms=Symbol("ERRORED"),RC=Oe(be({},ii),{value:Ya,dirty:!0,error:null,equal:tl,kind:"computed",producerMustRecompute(e){return e.value===Ya||e.value===Qa},producerRecomputeValue(e){if(e.value===Qa)throw new Error("");let t=e.value;e.value=Qa;let n=ai(e),r,o=!1;try{r=e.computation(),Pe(null),o=t!==Ya&&t!==ms&&r!==ms&&e.equal(t,r)}catch(i){r=ms,e.error=i}finally{ys(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function OC(){throw new Error}var yy=OC;function vy(e){yy(e)}function md(e){yy=e}var kC=null;function yd(e,t){let n=Object.create(rl);n.value=e,t!==void 0&&(n.equal=t);let r=()=>by(n);return r[Qt]=n,el(n),[r,s=>ui(n,s),s=>vd(n,s)]}function by(e){return si(e),e.value}function ui(e,t){pd()||vy(e),e.equal(e.value,t)||(e.value=t,PC(e))}function vd(e,t){pd()||vy(e),ui(e,t(e.value))}var rl=Oe(be({},ii),{equal:tl,value:void 0,kind:"signal"});function PC(e){e.version++,hy(),hd(e),kC?.(e)}function Be(e){return typeof e=="function"}function ci(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ol=ci(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ws(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var vt=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Be(r))try{r()}catch(i){t=i instanceof ol?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{wy(i)}catch(s){t=t??[],s instanceof ol?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ol(t)}}add(t){var n;if(t&&t!==this)if(this.closed)wy(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ws(n,t)}remove(t){let{_finalizers:n}=this;n&&ws(n,t),t instanceof e&&t._removeParent(this)}};vt.EMPTY=(()=>{let e=new vt;return e.closed=!0,e})();var bd=vt.EMPTY;function il(e){return e instanceof vt||e&&"closed"in e&&Be(e.remove)&&Be(e.add)&&Be(e.unsubscribe)}function wy(e){Be(e)?e():e.unsubscribe()}var xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var di={setTimeout(e,t,...n){let{delegate:r}=di;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=di;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function sl(e){di.setTimeout(()=>{let{onUnhandledError:t}=xn;if(t)t(e);else throw e})}function _s(){}var _y=wd("C",void 0,void 0);function Ey(e){return wd("E",void 0,e)}function Dy(e){return wd("N",e,void 0)}function wd(e,t,n){return{kind:e,value:t,error:n}}var go=null;function fi(e){if(xn.useDeprecatedSynchronousErrorHandling){let t=!go;if(t&&(go={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=go;if(go=null,n)throw r}}else e()}function Cy(e){xn.useDeprecatedSynchronousErrorHandling&&go&&(go.errorThrown=!0,go.error=e)}var mo=class extends vt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,il(t)&&t.add(this)):this.destination=jC}static create(t,n,r){return new hi(t,n,r)}next(t){this.isStopped?Ed(Dy(t),this):this._next(t)}error(t){this.isStopped?Ed(Ey(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ed(_y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FC=Function.prototype.bind;function _d(e,t){return FC.call(e,t)}var Dd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){al(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){al(r)}else al(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){al(n)}}},hi=class extends mo{constructor(t,n,r){super();let o;if(Be(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&xn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&_d(t.next,i),error:t.error&&_d(t.error,i),complete:t.complete&&_d(t.complete,i)}):o=t}this.destination=new Dd(o)}};function al(e){xn.useDeprecatedSynchronousErrorHandling?Cy(e):sl(e)}function LC(e){throw e}function Ed(e,t){let{onStoppedNotification:n}=xn;n&&di.setTimeout(()=>n(e,t))}var jC={closed:!0,next:_s,error:LC,complete:_s};var pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function hn(e){return e}function Cd(...e){return Sd(e)}function Sd(e){return e.length===0?hn:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var Ye=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=VC(n)?n:new hi(n,r,o);return fi(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Sy(r),new r((o,i)=>{let s=new hi({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pi](){return this}pipe(...n){return Sd(n)(this)}toPromise(n){return n=Sy(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Sy(e){var t;return(t=e??xn.Promise)!==null&&t!==void 0?t:Promise}function BC(e){return e&&Be(e.next)&&Be(e.error)&&Be(e.complete)}function VC(e){return e&&e instanceof mo||BC(e)&&il(e)}function Id(e){return Be(e?.lift)}function Qe(e){return t=>{if(Id(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(e,t,n,r,o){return new Ad(e,t,n,r,o)}var Ad=class extends mo{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function gi(){return Qe((e,t)=>{let n=null;e._refCount++;let r=qe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var mi=class extends Ye{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Id(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vt;let n=this.getSubject();t.add(this.source.subscribe(qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vt.EMPTY)}return t}refCount(){return gi()(this)}};var Iy=ci(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class e extends Ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ll(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Iy}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?bd:(this.currentObservers=null,i.push(n),new vt(()=>{this.currentObservers=null,ws(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Ye;return n.source=this,n}}return e.create=(t,n)=>new ll(t,n),e})(),ll=class extends ht{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:bd}};var bt=class extends ht{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var nn=new Ye(e=>e.complete());function Ay(e){return e&&Be(e.schedule)}function Ty(e){return e[e.length-1]}function ul(e){return Be(Ty(e))?e.pop():void 0}function Br(e){return Ay(Ty(e))?e.pop():void 0}function xy(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function My(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(e){return this instanceof yo?(this.v=e,this):new yo(e)}function Ny(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(v){return Promise.resolve(v).then(h,d)}}function a(h,v){r[h]&&(o[h]=function(g){return new Promise(function(m,b){i.push([h,g,m,b])>1||l(h,g)})},v&&(o[h]=v(o[h])))}function l(h,v){try{u(r[h](v))}catch(g){f(i[0][3],g)}}function u(h){h.value instanceof yo?Promise.resolve(h.value.v).then(c,d):f(i[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,v){h(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Ry(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof My=="function"?My(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},s)}}var cl=e=>e&&typeof e.length=="number"&&typeof e!="function";function dl(e){return Be(e?.then)}function fl(e){return Be(e[pi])}function hl(e){return Symbol.asyncIterator&&Be(e?.[Symbol.asyncIterator])}function pl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gl=UC();function ml(e){return Be(e?.[gl])}function yl(e){return Ny(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield yo(n.read());if(o)return yield yo(void 0);yield yield yo(r)}}finally{n.releaseLock()}})}function vl(e){return Be(e?.getReader)}function wt(e){if(e instanceof Ye)return e;if(e!=null){if(fl(e))return $C(e);if(cl(e))return HC(e);if(dl(e))return WC(e);if(hl(e))return Oy(e);if(ml(e))return zC(e);if(vl(e))return GC(e)}throw pl(e)}function $C(e){return new Ye(t=>{let n=e[pi]();if(Be(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HC(e){return new Ye(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function WC(e){return new Ye(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,sl)})}function zC(e){return new Ye(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Oy(e){return new Ye(t=>{qC(e,t).catch(n=>t.error(n))})}function GC(e){return Oy(yl(e))}function qC(e,t){var n,r,o,i;return xy(this,void 0,void 0,function*(){try{for(n=Ry(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function rn(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function bl(e,t=0){return Qe((n,r)=>{n.subscribe(qe(r,o=>rn(r,e,()=>r.next(o),t),()=>rn(r,e,()=>r.complete(),t),o=>rn(r,e,()=>r.error(o),t)))})}function wl(e,t=0){return Qe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ky(e,t){return wt(e).pipe(wl(t),bl(t))}function Py(e,t){return wt(e).pipe(wl(t),bl(t))}function Fy(e,t){return new Ye(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Ly(e,t){return new Ye(n=>{let r;return rn(n,t,()=>{r=e[gl](),rn(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>Be(r?.return)&&r.return()})}function _l(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ye(n=>{rn(n,t,()=>{let r=e[Symbol.asyncIterator]();rn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function jy(e,t){return _l(yl(e),t)}function By(e,t){if(e!=null){if(fl(e))return ky(e,t);if(cl(e))return Fy(e,t);if(dl(e))return Py(e,t);if(hl(e))return _l(e,t);if(ml(e))return Ly(e,t);if(vl(e))return jy(e,t)}throw pl(e)}function ft(e,t){return t?By(e,t):wt(e)}function Fe(...e){let t=Br(e);return ft(e,t)}function yi(e,t){let n=Be(e)?e:()=>e,r=o=>o.error(n());return new Ye(t?o=>t.schedule(r,0,o):r)}function Td(e){return!!e&&(e instanceof Ye||Be(e.lift)&&Be(e.subscribe))}var ar=ci(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ke(e,t){return Qe((n,r)=>{let o=0;n.subscribe(qe(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:KC}=Array;function YC(e,t){return KC(t)?e(...t):e(t)}function El(e){return Ke(t=>YC(e,t))}var{isArray:QC}=Array,{getPrototypeOf:ZC,prototype:JC,keys:XC}=Object;function Dl(e){if(e.length===1){let t=e[0];if(QC(t))return{args:t,keys:null};if(eS(t)){let n=XC(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function eS(e){return e&&typeof e=="object"&&ZC(e)===JC}function Cl(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Sl(...e){let t=Br(e),n=ul(e),{args:r,keys:o}=Dl(e);if(r.length===0)return ft([],t);let i=new Ye(tS(r,t,o?s=>Cl(o,s):hn));return n?i.pipe(El(n)):i}function tS(e,t,n=hn){return r=>{Vy(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let l=0;l<o;l++)Vy(t,()=>{let u=ft(e[l],t),c=!1;u.subscribe(qe(r,d=>{i[l]=d,c||(c=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Vy(e,t,n){e?rn(n,e,t):t()}function Uy(e,t,n,r,o,i,s,a){let l=[],u=0,c=0,d=!1,f=()=>{d&&!l.length&&!u&&t.complete()},h=g=>u<r?v(g):l.push(g),v=g=>{i&&t.next(g),u++;let m=!1;wt(n(g,c++)).subscribe(qe(t,b=>{o?.(b),i?h(b):t.next(b)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){let b=l.shift();s?rn(t,s,()=>v(b)):v(b)}f()}catch(b){t.error(b)}}))};return e.subscribe(qe(t,h,()=>{d=!0,f()})),()=>{a?.()}}function Ct(e,t,n=1/0){return Be(t)?Ct((r,o)=>Ke((i,s)=>t(r,i,o,s))(wt(e(r,o))),n):(typeof t=="number"&&(n=t),Qe((r,o)=>Uy(r,o,e,n)))}function $y(e=1/0){return Ct(hn,e)}function Hy(){return $y(1)}function vi(...e){return Hy()(ft(e,Br(e)))}function Es(e){return new Ye(t=>{wt(e()).subscribe(t)})}function Md(...e){let t=ul(e),{args:n,keys:r}=Dl(e),o=new Ye(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;wt(n[c]).subscribe(qe(i,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||i.next(r?Cl(r,a):a),i.complete())}))}});return t?o.pipe(El(t)):o}function wn(e,t){return Qe((n,r)=>{let o=0;n.subscribe(qe(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Vr(e){return Qe((t,n)=>{let r=null,o=!1,i;r=t.subscribe(qe(n,void 0,void 0,s=>{i=wt(e(s,Vr(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Wy(e,t,n,r,o){return(i,s)=>{let a=n,l=t,u=0;i.subscribe(qe(s,c=>{let d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function bi(e,t){return Be(t)?Ct(e,t,1):Ct(e,1)}function Ur(e){return Qe((t,n)=>{let r=!1;t.subscribe(qe(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function lr(e){return e<=0?()=>nn:Qe((t,n)=>{let r=0;t.subscribe(qe(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Il(e=nS){return Qe((t,n)=>{let r=!1;t.subscribe(qe(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function nS(){return new ar}function Ds(e){return Qe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function ur(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wn((o,i)=>e(o,i,r)):hn,lr(1),n?Ur(t):Il(()=>new ar))}function wi(e){return e<=0?()=>nn:Qe((t,n)=>{let r=[];t.subscribe(qe(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function xd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?wn((o,i)=>e(o,i,r)):hn,wi(1),n?Ur(t):Il(()=>new ar))}function Nd(e,t){return Qe(Wy(e,t,arguments.length>=2,!0))}function Rd(...e){let t=Br(e);return Qe((n,r)=>{(t?vi(e,n,t):vi(e,n)).subscribe(r)})}function on(e,t){return Qe((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(qe(r,l=>{o?.unsubscribe();let u=0,c=i++;wt(e(l,c)).subscribe(o=qe(r,d=>r.next(t?t(l,d,c,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function $r(e){return Qe((t,n)=>{wt(e).subscribe(qe(n,()=>n.complete(),_s)),!n.closed&&t.subscribe(n)})}function It(e,t,n){let r=Be(e)||t||n?{next:e,error:t,complete:n}:e;return r?Qe((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(qe(i,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):hn}function zy(e){let t=Pe(null);try{return e()}finally{Pe(t)}}var Wd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",xe=class extends Error{code;constructor(t,n){super(As(t,n)),this.code=t}};function rS(e){return`NG0${Math.abs(e)}`}function As(e,t){return`${rS(e)}${t?": "+t:""}`}function tt(e){for(let t in e)if(e[t]===tt)return t;throw Error("")}function Ky(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function dr(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(dr).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xl(e,t){return e?t?`${e} ${t}`:e:t||""}var oS=tt({__forward_ref__:tt});function Wr(e){return e.__forward_ref__=Wr,e.toString=function(){return dr(this())},e}function Pt(e){return zd(e)?e():e}function zd(e){return typeof e=="function"&&e.hasOwnProperty(oS)&&e.__forward_ref__===Wr}function Re(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ts(e){return iS(e,Nl)}function Gd(e){return Ts(e)!==null}function iS(e,t){return e.hasOwnProperty(t)&&e[t]||null}function sS(e){let t=e?.[Nl]??null;return t||null}function kd(e){return e&&e.hasOwnProperty(Tl)?e[Tl]:null}var Nl=tt({\u0275prov:tt}),Tl=tt({\u0275inj:tt}),Ne=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qd(e){return e&&!!e.\u0275providers}var Kd=tt({\u0275cmp:tt}),Yd=tt({\u0275dir:tt}),Qd=tt({\u0275pipe:tt}),Zd=tt({\u0275mod:tt}),Ss=tt({\u0275fac:tt}),Co=tt({__NG_ELEMENT_ID__:tt}),Gy=tt({__NG_ENV_ID__:tt});function Rl(e){return typeof e=="string"?e:e==null?"":String(e)}function Yy(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Rl(e)}var Qy=tt({ngErrorCode:tt}),aS=tt({ngErrorMessage:tt}),lS=tt({ngTokenPath:tt});function Jd(e,t){return Zy("",-200,t)}function Ol(e,t){throw new xe(-201,!1)}function Zy(e,t,n){let r=new xe(t,e);return r[Qy]=t,r[aS]=e,n&&(r[lS]=n),r}function uS(e){return e[Qy]}var Pd;function Jy(){return Pd}function pn(e){let t=Pd;return Pd=e,t}function Xd(e,t,n){let r=Ts(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Ol(e,"Injector")}var cS={},vo=cS,dS="__NG_DI_FLAG__",Fd=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=bo(n)||0;try{return this.injector.get(t,r&8?null:vo,r)}catch(o){if(oi(o))return o;throw o}}};function fS(e,t=0){let n=qa();if(n===void 0)throw new xe(-203,!1);if(n===null)return Xd(e,void 0,t);{let r=hS(t),o=n.retrieve(e,r);if(oi(o)){if(r.optional)return null;throw o}return o}}function He(e,t=0){return(Jy()||fS)(Pt(e),t)}function we(e,t){return He(e,bo(t))}function bo(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function hS(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Ld(e){let t=[];for(let n=0;n<e.length;n++){let r=Pt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new xe(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],l=pS(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}t.push(He(o,i))}else t.push(He(r))}return t}function pS(e){return e[dS]}function wo(e,t){let n=e.hasOwnProperty(Ss);return n?e[Ss]:null}function kl(e,t){e.forEach(n=>Array.isArray(n)?kl(n,t):t(n))}function ef(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ms(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Xy(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function Pl(e,t,n){let r=Ei(e,t);return r>=0?e[r|1]=n:(r=~r,Xy(e,r,t,n)),r}function Fl(e,t){let n=Ei(e,t);if(n>=0)return e[n|1]}function Ei(e,t){return gS(e,t,1)}function gS(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var zr={},Zt=[],hr=new Ne(""),tf=new Ne("",-1),nf=new Ne(""),Is=class{get(t,n=vo){if(n===vo){let o=Zy("",-201);throw o.name="\u0275NotFound",o}return n}};function rf(e){return e[Zd]||null}function Gr(e){return e[Kd]||null}function of(e){return e[Yd]||null}function ev(e){return e[Qd]||null}function So(e){return{\u0275providers:e}}function tv(e){return So([{provide:hr,multi:!0,useValue:e}])}function nv(...e){return{\u0275providers:sf(!0,e),\u0275fromNgModule:!0}}function sf(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return kl(t,s=>{let a=s;Ml(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&rv(o,i),n}function rv(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];af(o,i=>{t(i,r)})}}function Ml(e,t,n,r){if(e=Pt(e),!e)return!1;let o=null,i=kd(e),s=!i&&Gr(e);if(!i&&!s){let l=e.ngModule;if(i=kd(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Ml(u,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{kl(i.imports,c=>{Ml(c,t,n,r)&&(u||=[],u.push(c))})}finally{}u!==void 0&&rv(u,t)}if(!a){let u=wo(o)||(()=>new o);t({provide:o,useFactory:u,deps:Zt},o),t({provide:nf,useValue:o,multi:!0},o),t({provide:hr,useValue:()=>He(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let u=e;af(l,c=>{t(c,u)})}}else return!1;return o!==e&&e.providers!==void 0}function af(e,t){for(let n of e)qd(n)&&(n=n.\u0275providers),Array.isArray(n)?af(n,t):t(n)}var mS=tt({provide:String,useValue:tt});function ov(e){return e!==null&&typeof e=="object"&&mS in e}function yS(e){return!!(e&&e.useExisting)}function vS(e){return!!(e&&e.useFactory)}function _o(e){return typeof e=="function"}function iv(e){return!!e.useClass}var xs=new Ne(""),Al={},qy={},Od;function Ns(){return Od===void 0&&(Od=new Is),Od}var Ft=class{},Eo=class extends Ft{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Bd(t,s=>this.processProvider(s)),this.records.set(tf,_i(void 0,this)),o.has("environment")&&this.records.set(Ft,_i(void 0,this));let i=this.records.get(xs);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(nf,Zt,{self:!0}))}retrieve(t,n){let r=bo(n)||0;try{return this.get(t,vo,r)}catch(o){if(oi(o))return o;throw o}}destroy(){Cs(this),this._destroyed=!0;let t=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(t)}}onDestroy(t){return Cs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Cs(this);let n=Wn(this),r=pn(void 0),o;try{return t()}finally{Wn(n),pn(r)}}get(t,n=vo,r){if(Cs(this),t.hasOwnProperty(Gy))return t[Gy](this);let o=bo(r),i,s=Wn(this),a=pn(void 0);try{if(!(o&4)){let u=this.records.get(t);if(u===void 0){let c=DS(t)&&Ts(t);c&&this.injectableDefInScope(c)?u=_i(jd(t),Al):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,o)}let l=o&2?Ns():this.parent;return n=o&8&&n===vo?null:n,l.get(t,n)}catch(l){let u=uS(l);throw u===-200||u===-201?new xe(u,null):l}finally{pn(a),Wn(s)}}resolveInjectorInitializers(){let t=Pe(null),n=Wn(this),r=pn(void 0),o;try{let i=this.get(hr,Zt,{self:!0});for(let s of i)s()}finally{Wn(n),pn(r),Pe(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(dr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Pt(t);let n=_o(t)?t:Pt(t&&t.provide),r=wS(t);if(!_o(t)&&t.multi===!0){let o=this.records.get(n);o||(o=_i(void 0,Al,!0),o.factory=()=>Ld(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let o=Pe(null);try{if(n.value===qy)throw Jd(dr(t));return n.value===Al&&(n.value=qy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&ES(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Pe(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Pt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jd(e){let t=Ts(e),n=t!==null?t.factory:wo(e);if(n!==null)return n;if(e instanceof Ne)throw new xe(204,!1);if(e instanceof Function)return bS(e);throw new xe(204,!1)}function bS(e){if(e.length>0)throw new xe(204,!1);let n=sS(e);return n!==null?()=>n.factory(e):()=>new e}function wS(e){if(ov(e))return _i(void 0,e.useValue);{let t=lf(e);return _i(t,Al)}}function lf(e,t,n){let r;if(_o(e)){let o=Pt(e);return wo(o)||jd(o)}else if(ov(e))r=()=>Pt(e.useValue);else if(vS(e))r=()=>e.useFactory(...Ld(e.deps||[]));else if(yS(e))r=(o,i)=>He(Pt(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Pt(e&&(e.useClass||e.provide));if(_S(e))r=()=>new o(...Ld(e.deps));else return wo(o)||jd(o)}return r}function Cs(e){if(e.destroyed)throw new xe(205,!1)}function _i(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _S(e){return!!e.deps}function ES(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function DS(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Bd(e,t){for(let n of e)Array.isArray(n)?Bd(n,t):n&&qd(n)?Bd(n.\u0275providers,t):t(n)}function Jt(e,t){let n;e instanceof Eo?(Cs(e),n=e):n=new Fd(e);let r,o=Wn(n),i=pn(void 0);try{return t()}finally{Wn(o),pn(i)}}function sv(){return Jy()!==void 0||qa()!=null}var Rn=0,ke=1,Ve=2,At=3,_n=4,En=5,Di=6,Ci=7,pt=8,pr=9,gr=10,ut=11,Si=12,uf=13,Io=14,gn=15,Ao=16,To=17,Mo=18,Rs=19,cf=20,cr=21,Ll=22,Os=23,mn=24,jl=25,xo=26,Lt=27,av=1,df=6,qr=7,ks=8,Ps=9,gt=10;function Gn(e){return Array.isArray(e)&&typeof e[av]=="object"}function On(e){return Array.isArray(e)&&e[av]===!0}function ff(e){return(e.flags&4)!==0}function Kr(e){return e.componentOffset>-1}function Bl(e){return(e.flags&1)===1}function qn(e){return!!e.template}function Ii(e){return(e[Ve]&512)!==0}function No(e){return(e[Ve]&256)===256}var hf="svg",lv="math";function Dn(e){for(;Array.isArray(e);)e=e[Rn];return e}function pf(e,t){return Dn(t[e])}function Kn(e,t){return Dn(t[e.index])}function Fs(e,t){return e.data[t]}function Cn(e,t){let n=t[e];return Gn(n)?n:n[Rn]}function Vl(e){return(e[Ve]&128)===128}function uv(e){return On(e[At])}function Yn(e,t){return t==null?null:e[t]}function gf(e){e[To]=0}function mf(e){e[Ve]&1024||(e[Ve]|=1024,Vl(e)&&js(e))}function cv(e,t){for(;e>0;)t=t[Io],e--;return t}function Ls(e){return!!(e[Ve]&9216||e[mn]?.dirty)}function Ul(e){e[gr].changeDetectionScheduler?.notify(8),e[Ve]&64&&(e[Ve]|=1024),Ls(e)&&js(e)}function js(e){e[gr].changeDetectionScheduler?.notify(0);let t=Hr(e);for(;t!==null&&!(t[Ve]&8192||(t[Ve]|=8192,!Vl(t)));)t=Hr(t)}function yf(e,t){if(No(e))throw new xe(911,!1);e[cr]===null&&(e[cr]=[]),e[cr].push(t)}function dv(e,t){if(e[cr]===null)return;let n=e[cr].indexOf(t);n!==-1&&e[cr].splice(n,1)}function Hr(e){let t=e[At];return On(t)?t[At]:t}function fv(e){return e[Ci]??=[]}function hv(e){return e.cleanup??=[]}var ze={lFrame:Av(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Vd=!1;function pv(){return ze.lFrame.elementDepthCount}function gv(){ze.lFrame.elementDepthCount++}function vf(){ze.lFrame.elementDepthCount--}function mv(){return ze.bindingsEnabled}function yv(){return ze.skipHydrationRootTNode!==null}function bf(e){return ze.skipHydrationRootTNode===e}function wf(){ze.skipHydrationRootTNode=null}function Ze(){return ze.lFrame.lView}function Xt(){return ze.lFrame.tView}function _t(e){return ze.lFrame.contextLView=e,e[pt]}function Et(e){return ze.lFrame.contextLView=null,e}function sn(){let e=_f();for(;e!==null&&e.type===64;)e=e.parent;return e}function _f(){return ze.lFrame.currentTNode}function vv(){let e=ze.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ai(e,t){let n=ze.lFrame;n.currentTNode=e,n.isParent=t}function Ef(){return ze.lFrame.isParent}function bv(){ze.lFrame.isParent=!1}function Df(){return Vd}function Cf(e){let t=Vd;return Vd=e,t}function wv(){let e=ze.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function _v(e){return ze.lFrame.bindingIndex=e}function Ro(){return ze.lFrame.bindingIndex++}function Sf(e){let t=ze.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ev(){return ze.lFrame.inI18n}function Dv(e,t){let n=ze.lFrame;n.bindingIndex=n.bindingRootIndex=e,$l(t)}function Cv(){return ze.lFrame.currentDirectiveIndex}function $l(e){ze.lFrame.currentDirectiveIndex=e}function Sv(e){let t=ze.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function If(e){ze.lFrame.currentQueryIndex=e}function CS(e){let t=e[ke];return t.type===2?t.declTNode:t.type===1?e[En]:null}function Af(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=CS(i),o===null||(i=i[Io],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=ze.lFrame=Iv();return r.currentTNode=t,r.lView=e,!0}function Hl(e){let t=Iv(),n=e[ke];ze.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Iv(){let e=ze.lFrame,t=e===null?null:e.child;return t===null?Av(e):t}function Av(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Tv(){let e=ze.lFrame;return ze.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Tf=Tv;function Wl(){let e=Tv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Mv(e){return(ze.lFrame.contextLView=cv(e,ze.lFrame.contextLView))[pt]}function mr(){return ze.lFrame.selectedIndex}function Yr(e){ze.lFrame.selectedIndex=e}function Mf(){let e=ze.lFrame;return Fs(e.tView,e.selectedIndex)}function Ti(){ze.lFrame.currentNamespace=hf}function xv(){return ze.lFrame.currentNamespace}var Nv=!0;function zl(){return Nv}function Gl(e){Nv=e}function Ud(e,t=null,n=null,r){let o=xf(e,t,n,r);return o.resolveInjectorInitializers(),o}function xf(e,t=null,n=null,r,o=new Set){let i=[n||Zt,nv(e)];return r=r||(typeof e=="object"?void 0:dr(e)),new Eo(i,t||Ns(),r||null,o)}var Nn=class e{static THROW_IF_NOT_FOUND=vo;static NULL=new Is;static create(t,n){if(Array.isArray(t))return Ud({name:""},n,t,"");{let r=t.name??"";return Ud({name:r},t.parent,t.providers,r)}}static \u0275prov=Re({token:e,providedIn:"any",factory:()=>He(tf)});static __NG_ELEMENT_ID__=-1},Tt=new Ne(""),Qr=(()=>{class e{static __NG_ELEMENT_ID__=SS;static __NG_ENV_ID__=n=>n}return e})(),$d=class extends Qr{_lView;constructor(t){super(),this._lView=t}get destroyed(){return No(this._lView)}onDestroy(t){let n=this._lView;return yf(n,t),()=>dv(n,t)}};function SS(){return new $d(Ze())}var zn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Sn=new Ne("",{providedIn:"root",factory:()=>{let e=we(Ft),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(zn),t.handleError(n))}}}),Rv={provide:hr,useValue:()=>void we(zn),multi:!0},IS=new Ne("",{providedIn:"root",factory:()=>{let e=we(Tt).defaultView;if(!e)return;let t=we(Sn),n=i=>{t(i.reason),i.preventDefault()},r=i=>{i.error?t(i.error):t(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),we(Qr).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function Nf(){return So([tv(()=>void we(IS))])}function In(e,t){let[n,r,o]=yd(e,t?.equal),i=n,s=i[Qt];return i.set=r,i.update=o,i.asReadonly=Ov.bind(i),i}function Ov(){let e=this[Qt];if(e.readonlyFn===void 0){let t=()=>this();t[Qt]=e,e.readonlyFn=t}return e.readonlyFn}var Do=class{},Bs=new Ne("",{providedIn:"root",factory:()=>!1});var Rf=new Ne(""),Of=new Ne(""),yr=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new bt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ye(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Re({token:e,providedIn:"root",factory:()=>new e})}return e})();function Vs(...e){}var kf=(()=>{class e{static \u0275prov=Re({token:e,providedIn:"root",factory:()=>new Hd})}return e})(),Hd=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ks(e){return{toString:e}.toString()}function LS(e){return typeof e=="function"}var Jl=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cb(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Bo=(()=>{let e=()=>db;return e.ngInherit=!0,e})();function db(e){return e.type.prototype.ngOnChanges&&(e.setInput=BS),jS}function jS(){let e=hb(this),t=e?.current;if(t){let n=e.previous;if(n===zr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function BS(e,t,n,r,o){let i=this.declaredInputs[r],s=hb(e)||VS(e,{previous:zr,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[i];a[i]=new Jl(u&&u.currentValue,n,l===zr),cb(e,t,o,n)}var fb="__ngSimpleChanges__";function hb(e){return e[fb]||null}function VS(e,t){return e[fb]=t}var kv=[];var ot=function(e,t=null,n){for(let r=0;r<kv.length;r++){let o=kv[r];o(e,t,n)}};function US(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=db(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function $S(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),c!=null&&(e.destroyHooks??=[]).push(n,c)}}function Kl(e,t,n){pb(e,t,3,n)}function Yl(e,t,n,r){(e[Ve]&3)===n&&pb(e,t,n,r)}function Pf(e,t){let n=e[Ve];(n&3)===t&&(n&=16383,n+=1,e[Ve]=n)}function pb(e,t,n,r){let o=r!==void 0?e[To]&65535:0,i=r??-1,s=t.length-1,a=0;for(let l=o;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[To]+=65536),(a<i||i==-1)&&(HS(e,n,t,l),e[To]=(e[To]&4294901760)+l+2),l++}function Pv(e,t){ot(4,e,t);let n=Pe(null);try{t.call(e)}finally{Pe(n),ot(5,e,t)}}function HS(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[Ve]>>14<e[To]>>16&&(e[Ve]&3)===t&&(e[Ve]+=16384,Pv(a,i)):Pv(a,i)}var xi=-1,ko=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function WS(e){return(e.flags&8)!==0}function zS(e){return(e.flags&16)!==0}function GS(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];KS(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function qS(e){return e===3||e===4||e===6}function KS(e){return e.charCodeAt(0)===64}function Ni(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Fv(e,n,o,null,t[++r]):Fv(e,n,o,null,null))}}return e}function Fv(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function gb(e){return e!==xi}function Xl(e){return e&32767}function YS(e){return e>>16}function eu(e,t){let n=YS(e),r=t;for(;n>0;)r=r[Io],n--;return r}var zf=!0;function Lv(e){let t=zf;return zf=e,t}var QS=256,mb=QS-1,yb=5,ZS=0,Qn={};function JS(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Co)&&(r=n[Co]),r==null&&(r=n[Co]=ZS++);let o=r&mb,i=1<<o;t.data[e+(o>>yb)]|=i}function tu(e,t){let n=vb(e,t);if(n!==-1)return n;let r=t[ke];r.firstCreatePass&&(e.injectorIndex=t.length,Ff(r.data,e),Ff(t,null),Ff(r.blueprint,null));let o=vh(e,t),i=e.injectorIndex;if(gb(o)){let s=Xl(o),a=eu(o,t),l=a[ke].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|l[s+u]}return t[i+8]=o,i}function Ff(e,t){e.push(0,0,0,0,0,0,0,0,t)}function vb(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function vh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=Db(o),r===null)return xi;if(n++,o=o[Io],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xi}function Gf(e,t,n){JS(e,t,n)}function bb(e,t,n){if(n&8||e!==void 0)return e;Ol(t,"NodeInjector")}function wb(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[pr],i=pn(void 0);try{return o?o.get(t,r,n&8):Xd(t,r,n&8)}finally{pn(i)}}return bb(r,t,n)}function _b(e,t,n,r=0,o){if(e!==null){if(t[Ve]&2048&&!(r&2)){let s=rI(e,t,n,r,Qn);if(s!==Qn)return s}let i=Eb(e,t,n,r,Qn);if(i!==Qn)return i}return wb(t,n,r,o)}function Eb(e,t,n,r,o){let i=tI(n);if(typeof i=="function"){if(!Af(t,e,r))return r&1?bb(o,n,r):wb(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))Ol(n);else return s}finally{Tf()}}else if(typeof i=="number"){let s=null,a=vb(e,t),l=xi,u=r&1?t[gn][En]:null;for((a===-1||r&4)&&(l=a===-1?vh(e,t):t[a+8],l===xi||!Bv(r,!1)?a=-1:(s=t[ke],a=Xl(l),t=eu(l,t)));a!==-1;){let c=t[ke];if(jv(i,a,c.data)){let d=XS(a,t,n,s,r,u);if(d!==Qn)return d}l=t[a+8],l!==xi&&Bv(r,t[ke].data[a+8]===u)&&jv(i,a,t)?(s=c,a=Xl(l),t=eu(l,t)):a=-1}}return o}function XS(e,t,n,r,o,i){let s=t[ke],a=s.data[e+8],l=r==null?Kr(a)&&zf:r!=s&&(a.type&3)!==0,u=o&1&&i===a,c=eI(a,s,n,l,u);return c!==null?nu(t,s,c,a,o):Qn}function eI(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,l=e.directiveStart,u=e.directiveEnd,c=i>>20,d=r?a:a+c,f=o?a+c:u;for(let h=d;h<f;h++){let v=s[h];if(h<l&&n===v||h>=l&&v.type===n)return h}if(o){let h=s[l];if(h&&qn(h)&&h.type===n)return l}return null}function nu(e,t,n,r,o){let i=e[n],s=t.data;if(i instanceof ko){let a=i;if(a.resolving){let h=Yy(s[n]);throw Jd(h)}let l=Lv(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],c,d=a.injectImpl?pn(a.injectImpl):null,f=Af(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&US(n,s[n],t)}finally{d!==null&&pn(d),Lv(l),a.resolving=!1,Tf()}}return i}function tI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Co)?e[Co]:void 0;return typeof t=="number"?t>=0?t&mb:nI:t}function jv(e,t,n){let r=1<<e;return!!(n[t+(e>>yb)]&r)}function Bv(e,t){return!(e&2)&&!(e&1&&t)}var Oo=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _b(this._tNode,this._lView,t,bo(r),n)}};function nI(){return new Oo(sn(),Ze())}function Fi(e){return Ks(()=>{let t=e.prototype.constructor,n=t[Ss]||qf(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Ss]||qf(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function qf(e){return zd(e)?()=>{let t=qf(Pt(e));return t&&t()}:wo(e)}function rI(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[Ve]&2048&&!Ii(s);){let a=Eb(i,s,n,r|2,Qn);if(a!==Qn)return a;let l=i.parent;if(!l){let u=s[cf];if(u){let c=u.get(n,Qn,r);if(c!==Qn)return c}l=Db(s),s=s[Io]}i=l}return o}function Db(e){let t=e[ke],n=t.type;return n===2?t.declTNode:n===1?e[En]:null}function oI(){return bh(sn(),Ze())}function bh(e,t){return new wr(Kn(e,t))}var wr=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=oI}return e})();function Cb(e){return(e.flags&128)===128}var wh=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(wh||{}),Sb=new Map,iI=0;function sI(){return iI++}function aI(e){Sb.set(e[Rs],e)}function Kf(e){Sb.delete(e[Rs])}var Vv="__ngContext__";function Ri(e,t){Gn(t)?(e[Vv]=t[Rs],aI(t)):e[Vv]=t}function Ib(e){return Tb(e[Si])}function Ab(e){return Tb(e[_n])}function Tb(e){for(;e!==null&&!On(e);)e=e[_n];return e}var Yf;function _h(e){Yf=e}function Mb(){if(Yf!==void 0)return Yf;if(typeof document<"u")return document;throw new xe(210,!1)}var mu=new Ne("",{providedIn:"root",factory:()=>lI}),lI="ng",yu=new Ne(""),Ys=new Ne("",{providedIn:"platform",factory:()=>"unknown"});var vu=new Ne("",{providedIn:"root",factory:()=>Mb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uI="h",cI="b";var xb="r";var Nb="di";var Rb=!1,Ob=new Ne("",{providedIn:"root",factory:()=>Rb});var dI=(e,t,n,r)=>{};function fI(e,t,n,r){dI(e,t,n,r)}function Eh(e){return(e.flags&32)===32}var hI=()=>null;function kb(e,t,n=!1){return hI(e,t,n)}function Pb(e,t){let n=e.contentQueries;if(n!==null){let r=Pe(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];If(i),a.contentQueries(2,t[s],s)}}}finally{Pe(r)}}}function Qf(e,t,n){If(0);let r=Pe(null);try{t(e,n)}finally{Pe(r)}}function Fb(e,t,n){if(ff(t)){let r=Pe(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Pe(r)}}}var vr=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(vr||{});var Zf=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wd})`}};function Dh(e){return e instanceof Zf?e.changingThisBreaksApplicationSecurity:e}function pI(e,t){return e.createText(t)}function gI(e,t,n){e.setValue(t,n)}function Lb(e,t,n){return e.createElement(t,n)}function ru(e,t,n,r,o){e.insertBefore(t,n,r,o)}function jb(e,t,n){e.appendChild(t,n)}function Uv(e,t,n,r,o){r!==null?ru(e,t,n,r,o):jb(e,t,n)}function Bb(e,t,n,r){e.removeChild(null,t,n,r)}function mI(e,t,n){e.setAttribute(t,"style",n)}function yI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Vb(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&GS(e,t,r),o!==null&&yI(e,t,o),i!==null&&mI(e,t,i)}function Ch(e){return e.ownerDocument}function Ub(e){return e instanceof Function?e():e}function vI(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var $b="ng-template";function bI(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&vI(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Sh(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Sh(e){return e.type===4&&e.value!==$b}function wI(e,t,n){let r=e.type===4&&!n?$b:e.value;return t===r}function _I(e,t,n){let r=4,o=e.attrs,i=o!==null?CI(o):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!kn(r)&&!kn(l))return!1;if(s&&kn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!wI(e,l,n)||l===""&&t.length===1){if(kn(r))return!1;s=!0}}else if(r&8){if(o===null||!bI(e,o,l,n)){if(kn(r))return!1;s=!0}}else{let u=t[++a],c=EI(l,o,Sh(e),n);if(c===-1){if(kn(r))return!1;s=!0;continue}if(u!==""){let d;if(c>i?d="":d=o[c+1].toLowerCase(),r&2&&u!==d){if(kn(r))return!1;s=!0}}}}return kn(r)||s}function kn(e){return(e&1)===0}function EI(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return SI(t,e)}function DI(e,t,n=!1){for(let r=0;r<t.length;r++)if(_I(e,t[r],n))return!0;return!1}function CI(e){for(let t=0;t<e.length;t++){let n=e[t];if(qS(n))return t}return e.length}function SI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function $v(e,t){return e?":not("+t.trim()+")":t}function II(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!kn(s)&&(t+=$v(i,o),o=""),r=s,i=i||!kn(r);n++}return o!==""&&(t+=$v(i,o)),t}function AI(e){return e.map(II).join(",")}function TI(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!kn(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var yn={};function Ih(e,t,n,r,o,i,s,a,l,u,c){let d=Lt+r,f=d+o,h=MI(d,f),v=typeof u=="function"?u():u;return h[ke]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:c}}function MI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:yn);return n}function xI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ih(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ah(e,t,n,r,o,i,s,a,l,u,c){let d=t.blueprint.slice();return d[Rn]=o,d[Ve]=r|4|128|8|64|1024,(u!==null||e&&e[Ve]&2048)&&(d[Ve]|=2048),gf(d),d[At]=d[Io]=e,d[pt]=n,d[gr]=s||e&&e[gr],d[ut]=a||e&&e[ut],d[pr]=l||e&&e[pr]||null,d[En]=i,d[Rs]=sI(),d[Di]=c,d[cf]=u,d[gn]=t.type==2?e[gn]:d,d}function NI(e,t,n){let r=Kn(t,e),o=xI(n),i=e[gr].rendererFactory,s=Th(e,Ah(e,o,null,Hb(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function Hb(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Wb(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Th(e,t){return e[Si]?e[uf][_n]=t:e[Si]=t,e[uf]=t,t}function Ue(e=1){zb(Xt(),Ze(),mr()+e,!1)}function zb(e,t,n,r){if(!r)if((t[Ve]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Kl(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Yl(t,i,0,n)}Yr(n)}var bu=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(bu||{});function Jf(e,t,n,r){let o=Pe(null);try{let[i,s,a]=e.inputs[n],l=null;(s&bu.SignalBased)!==0&&(l=t[i][Qt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,i):cb(t,l,i,r)}finally{Pe(o)}}var br=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(br||{}),RI;function Mh(e,t){return RI(e,t)}var Po=new Set,xh=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(xh||{}),Qs=new Ne(""),Hv=new Set;function Zr(e){Hv.has(e)||(Hv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Gb=!1,Xf=class extends ht{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,sv()&&(this.destroyRef=we(Qr,{optional:!0})??void 0,this.pendingTasks=we(yr,{optional:!0})??void 0)}emit(t){let n=Pe(null);try{super.next(t)}finally{Pe(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof vt&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},st=Xf;function qb(e){let t,n;function r(){e=Vs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Wv(e){return queueMicrotask(()=>e()),()=>{e=Vs}}var Nh="isAngularZone",ou=Nh+"_ID",OI=0,St=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new st(!1);onMicrotaskEmpty=new st(!1);onStable=new st(!1);onError=new st(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Gb}=t;if(typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,FI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Nh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new xe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,kI,Vs,Vs);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},kI={};function Rh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function PI(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){qb(()=>{e.callbackScheduled=!1,eh(e),e.isCheckStableRunning=!0,Rh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),eh(e)}function FI(e){let t=()=>{PI(e)},n=OI++;e._inner=e._inner.fork({name:"angular",properties:{[Nh]:!0,[ou]:n,[ou+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(LI(l))return r.invokeTask(i,s,a,l);try{return zv(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Gv(e)}},onInvoke:(r,o,i,s,a,l,u)=>{try{return zv(e),r.invoke(i,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!jI(l)&&t(),Gv(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,eh(e),Rh(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function eh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Gv(e){e._nesting--,Rh(e)}var iu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new st;onMicrotaskEmpty=new st;onStable=new st;onError=new st;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function LI(e){return Kb(e,"__ignore_ng_zone__")}function jI(e){return Kb(e,"__scheduler_tick__")}function Kb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Yb=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Re({token:e,providedIn:"root",factory:()=>new e})}return e})();var Qb=new Ne("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Zb(e,t,n){let r=e.get(Qb);if(Array.isArray(t))for(let o of t)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function BI(e,t){let n=e.get(Qb);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function VI(e,t){for(let[n,r]of t)Zb(e,r.animateFns)}function qv(e,t,n,r){let o=e?.[xo]?.enter;t!==null&&o&&o.has(n.index)&&VI(r,o)}function Mi(e,t,n,r,o,i,s,a){if(o!=null){let l,u=!1;On(o)?l=o:Gn(o)&&(u=!0,o=o[Rn]);let c=Dn(o);e===0&&r!==null?(qv(a,r,i,n),s==null?jb(t,r,c):ru(t,r,c,s||null,!0)):e===1&&r!==null?(qv(a,r,i,n),ru(t,r,c,s||null,!0)):e===2?Kv(a,i,n,d=>{Bb(t,c,u,d)}):e===3&&Kv(a,i,n,()=>{t.destroyNode(c)}),l!=null&&XI(t,e,n,l,i,r,s)}}function UI(e,t){Jb(e,t),t[Rn]=null,t[En]=null}function $I(e,t,n,r,o,i){r[Rn]=o,r[En]=t,_u(e,r,n,1,o,i)}function Jb(e,t){t[gr].changeDetectionScheduler?.notify(9),_u(e,t,t[ut],2,null,null)}function HI(e){let t=e[Si];if(!t)return Lf(e[ke],e);for(;t;){let n=null;if(Gn(t))n=t[Si];else{let r=t[gt];r&&(n=r)}if(!n){for(;t&&!t[_n]&&t!==e;)Gn(t)&&Lf(t[ke],t),t=t[At];t===null&&(t=e),Gn(t)&&Lf(t[ke],t),n=t&&t[_n]}t=n}}function Oh(e,t){let n=e[Ps],r=n.indexOf(t);n.splice(r,1)}function wu(e,t){if(No(t))return;let n=t[ut];n.destroyNode&&_u(e,t,n,3,null,null),HI(t)}function Lf(e,t){if(No(t))return;let n=Pe(null);try{t[Ve]&=-129,t[Ve]|=256,t[mn]&&bs(t[mn]),GI(e,t),zI(e,t),t[ke].type===1&&t[ut].destroy();let r=t[Ao];if(r!==null&&On(t[At])){r!==t[At]&&Oh(r,t);let o=t[Mo];o!==null&&o.detachView(e)}Kf(t)}finally{Pe(n)}}function Kv(e,t,n,r){let o=e?.[xo];if(o==null||o.leave==null||!o.leave.has(t.index))return r(!1);e&&Po.add(e),Zb(n,()=>{if(o.leave&&o.leave.has(t.index)){let s=o.leave.get(t.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:c}=u();a.push(c)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),WI(e,r)}else e&&Po.delete(e),r(!1)},o)}function WI(e,t){let n=e[xo]?.running;if(n){n.then(()=>{e[xo].running=void 0,Po.delete(e),t(!0)});return}t(!1)}function zI(e,t){let n=e.cleanup,r=t[Ci];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Ci]=null);let o=t[cr];if(o!==null){t[cr]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Os];if(i!==null){t[Os]=null;for(let s of i)s.destroy()}}function GI(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof ko)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];ot(4,a,l);try{l.call(a)}finally{ot(5,a,l)}}else{ot(4,o,i);try{i.call(o)}finally{ot(5,o,i)}}}}}function qI(e,t,n){return KI(e,t.parent,n)}function KI(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Rn];if(Kr(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===vr.None||o===vr.Emulated)return null}return Kn(r,n)}function YI(e,t,n){return ZI(e,t,n)}function QI(e,t,n){return e.type&40?Kn(e,n):null}var ZI=QI,Yv;function kh(e,t,n,r){let o=qI(e,r,t),i=t[ut],s=r.parent||t[En],a=YI(s,r,t);if(o!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Uv(i,o,n[l],a,!1);else Uv(i,o,n,a,!1);Yv!==void 0&&Yv(i,r,t,n,o)}function Us(e,t){if(t!==null){let n=t.type;if(n&3)return Kn(t,e);if(n&4)return th(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Us(e,r);{let o=e[t.index];return On(o)?th(-1,o):Dn(o)}}else{if(n&128)return Us(e,t.next);if(n&32)return Mh(t,e)()||Dn(e[t.index]);{let r=Xb(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=Hr(e[gn]);return Us(o,r)}else return Us(e,t.next)}}}return null}function Xb(e,t){if(t!==null){let r=e[gn][En],o=t.projection;return r.projection[o]}return null}function th(e,t){let n=gt+e+1;if(n<t.length){let r=t[n],o=r[ke].firstChild;if(o!==null)return Us(r,o)}return t[qr]}function Ph(e,t,n,r,o,i,s){for(;n!=null;){let a=r[pr];if(n.type===128){n=n.next;continue}let l=r[n.index],u=n.type;if(s&&t===0&&(l&&Ri(Dn(l),r),n.flags|=2),!Eh(n))if(u&8)Ph(e,t,n.child,r,o,i,!1),Mi(t,e,a,o,l,n,i,r);else if(u&32){let c=Mh(n,r),d;for(;d=c();)Mi(t,e,a,o,d,n,i,r);Mi(t,e,a,o,l,n,i,r)}else u&16?JI(e,t,r,n,o,i):Mi(t,e,a,o,l,n,i,r);n=s?n.projectionNext:n.next}}function _u(e,t,n,r,o,i){Ph(n,r,e.firstChild,t,o,i,!1)}function JI(e,t,n,r,o,i){let s=n[gn],l=s[En].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];Mi(t,e,n[pr],o,c,r,i,n)}else{let u=l,c=s[At];Cb(r)&&(u.flags|=128),Ph(e,t,u,c,o,i,!0)}}function XI(e,t,n,r,o,i,s){let a=r[qr],l=Dn(r);a!==l&&Mi(t,e,n,i,a,o,s);for(let u=gt;u<r.length;u++){let c=r[u];_u(c[ke],c,e,t,i,a)}}function eA(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:br.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=br.Important),e.setStyle(n,r,o,i))}}function ew(e,t,n,r,o){let i=mr(),s=r&2;try{Yr(-1),s&&t.length>Lt&&zb(e,t,Lt,!1),ot(s?2:0,o,n),n(r,o)}finally{Yr(i),ot(s?3:1,o,n)}}function tw(e,t,n){aA(e,t,n),(n.flags&64)===64&&lA(e,t,n)}function Fh(e,t,n=Kn){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function tA(e,t,n,r){let i=r.get(Ob,Rb)||n===vr.ShadowDom,s=e.selectRootElement(t,i);return nA(s),s}function nA(e){rA(e)}var rA=()=>null;function oA(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function iA(e,t,n,r,o,i){let s=t[ke];if(Lh(e,s,t,n,r)){Kr(e)&&sA(t,e.index);return}e.type&3&&(n=oA(n)),nw(e,t,n,r,o,i)}function nw(e,t,n,r,o,i){if(e.type&3){let s=Kn(e,t);r=i!=null?i(r,e.value||"",n):r,o.setProperty(s,n,r)}else e.type&12}function sA(e,t){let n=Cn(t,e);n[Ve]&16||(n[Ve]|=64)}function aA(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Kr(n)&&NI(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||tu(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],l=nu(t,e,s,n);if(Ri(l,t),i!==null&&dA(t,s-r,l,a,n,i),qn(a)){let u=Cn(n.index,t);u[pt]=nu(t,e,s,n)}}}function lA(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Cv();try{Yr(i);for(let a=r;a<o;a++){let l=e.data[a],u=t[a];$l(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&uA(l,u)}}finally{Yr(-1),$l(s)}}function uA(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function cA(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];DI(t,i.selectors,!1)&&(r??=[],qn(i)?r.unshift(i):r.push(i))}return r}function dA(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Jf(r,n,l,u)}}function rw(e,t,n,r,o){let i=Lt+n,s=t[ke],a=o(s,t,e,r,n);t[i]=a,Ai(e,!0);let l=e.type===2;return l?(Vb(t[ut],a,e),(pv()===0||Bl(e))&&Ri(a,t),gv()):Ri(a,t),zl()&&(!l||!Eh(e))&&kh(s,t,a,e),e}function ow(e){let t=e;return Ef()?bv():(t=t.parent,Ai(t,!1)),t}function fA(e,t){let n=e[pr];if(!n)return;let r;try{r=n.get(Sn,null)}catch{r=null}r?.(t)}function Lh(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],c=s[l+1],d=t.data[u];Jf(d,n[u],c,o),a=!0}if(i)for(let l of i){let u=n[l],c=t.data[l];Jf(c,u,r,o),a=!0}return a}function hA(e,t){let n=Cn(t,e),r=n[ke];pA(r,n);let o=n[Rn];o!==null&&n[Di]===null&&(n[Di]=kb(o,n[pr])),ot(18),jh(r,n,n[pt]),ot(19,n[pt])}function pA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function jh(e,t,n){Hl(t);try{let r=e.viewQuery;r!==null&&Qf(1,r,n);let o=e.template;o!==null&&ew(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Mo]?.finishViewCreation(e),e.staticContentQueries&&Pb(e,t),e.staticViewQueries&&Qf(2,e.viewQuery,n);let i=e.components;i!==null&&gA(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ve]&=-5,Wl()}}function gA(e,t){for(let n=0;n<t.length;n++)hA(e,t[n])}function Bh(e,t,n,r){let o=Pe(null);try{let i=t.tView,a=e[Ve]&4096?4096:16,l=Ah(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];l[Ao]=u;let c=e[Mo];return c!==null&&(l[Mo]=c.createEmbeddedView(i)),jh(i,l,n),l}finally{Pe(o)}}function Hs(e,t){return!t||t.firstChild===null||Cb(e)}function Ws(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(Dn(i)),On(i)&&iw(i,r);let s=n.type;if(s&8)Ws(e,t,n.child,r);else if(s&32){let a=Mh(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Xb(t,n);if(Array.isArray(a))r.push(...a);else{let l=Hr(t[gn]);Ws(l[ke],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function iw(e,t){for(let n=gt;n<e.length;n++){let r=e[n],o=r[ke].firstChild;o!==null&&Ws(r[ke],r,o,t)}e[qr]!==e[Rn]&&t.push(e[qr])}function sw(e){if(e[jl]!==null){for(let t of e[jl])t.impl.addSequence(t);e[jl].length=0}}var aw=[];function mA(e){return e[mn]??yA(e)}function yA(e){let t=aw.pop()??Object.create(bA);return t.lView=e,t}function vA(e){e.lView[mn]!==e&&(e.lView=null,aw.push(e))}var bA=Oe(be({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{js(e.lView)},consumerOnSignalRead(){this.lView[mn]=this}});function wA(e){let t=e[mn]??Object.create(_A);return t.lView=e,t}var _A=Oe(be({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Hr(e.lView);for(;t&&!lw(t[ke]);)t=Hr(t);t&&mf(t)},consumerOnSignalRead(){this.lView[mn]=this}});function lw(e){return e.type!==2}function uw(e){if(e[Os]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Os])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[Ve]&8192)}}var EA=100;function cw(e,t=0){let r=e[gr].rendererFactory,o=!1;o||r.begin?.();try{DA(e,t)}finally{o||r.end?.()}}function DA(e,t){let n=Df();try{Cf(!0),nh(e,t);let r=0;for(;Ls(e);){if(r===EA)throw new xe(103,!1);r++,nh(e,1)}}finally{Cf(n)}}function CA(e,t,n,r){if(No(t))return;let o=t[Ve],i=!1,s=!1;Hl(t);let a=!0,l=null,u=null;i||(lw(e)?(u=mA(t),l=ai(u)):Ja()===null?(a=!1,u=wA(t),l=ai(u)):t[mn]&&(bs(t[mn]),t[mn]=null));try{gf(t),_v(e.bindingStartIndex),n!==null&&ew(e,t,n,2,r);let c=(o&3)===3;if(!i)if(c){let h=e.preOrderCheckHooks;h!==null&&Kl(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Yl(t,h,0,null),Pf(t,0)}if(s||SA(t),uw(t),dw(t,0),e.contentQueries!==null&&Pb(e,t),!i)if(c){let h=e.contentCheckHooks;h!==null&&Kl(t,h)}else{let h=e.contentHooks;h!==null&&Yl(t,h,1),Pf(t,1)}AA(e,t);let d=e.components;d!==null&&hw(t,d,0);let f=e.viewQuery;if(f!==null&&Qf(2,f,r),!i)if(c){let h=e.viewCheckHooks;h!==null&&Kl(t,h)}else{let h=e.viewHooks;h!==null&&Yl(t,h,2),Pf(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ll]){for(let h of t[Ll])h();t[Ll]=null}i||(sw(t),t[Ve]&=-73)}catch(c){throw i||js(t),c}finally{u!==null&&(ys(u,l),a&&vA(u)),Wl()}}function dw(e,t){for(let n=Ib(e);n!==null;n=Ab(n))for(let r=gt;r<n.length;r++){let o=n[r];fw(o,t)}}function SA(e){for(let t=Ib(e);t!==null;t=Ab(t)){if(!(t[Ve]&2))continue;let n=t[Ps];for(let r=0;r<n.length;r++){let o=n[r];mf(o)}}}function IA(e,t,n){ot(18);let r=Cn(t,e);fw(r,n),ot(19,r[pt])}function fw(e,t){Vl(e)&&nh(e,t)}function nh(e,t){let r=e[ke],o=e[Ve],i=e[mn],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&vs(i)),s||=!1,i&&(i.dirty=!1),e[Ve]&=-9217,s)CA(r,e,r.template,e[pt]);else if(o&8192){let a=Pe(null);try{uw(e),dw(e,1);let l=r.components;l!==null&&hw(e,l,1),sw(e)}finally{Pe(a)}}}function hw(e,t,n){for(let r=0;r<t.length;r++)IA(e,t[r],n)}function AA(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Yr(~o);else{let i=o,s=n[++r],a=n[++r];Dv(s,i);let l=t[i];ot(24,l),a(2,l),ot(25,l)}}}finally{Yr(-1)}}function Vh(e,t){let n=Df()?64:1088;for(e[gr].changeDetectionScheduler?.notify(t);e;){e[Ve]|=n;let r=Hr(e);if(Ii(e)&&!r)return e;e=r}return null}function pw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function gw(e,t){let n=gt+t;if(n<e.length)return e[n]}function Eu(e,t,n,r=!0){let o=t[ke];if(TA(o,t,e,n),r){let s=th(n,e),a=t[ut],l=a.parentNode(e[qr]);l!==null&&$I(o,e[En],a,t,l,s)}let i=t[Di];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function mw(e,t){let n=zs(e,t);return n!==void 0&&wu(n[ke],n),n}function zs(e,t){if(e.length<=gt)return;let n=gt+t,r=e[n];if(r){let o=r[Ao];o!==null&&o!==e&&Oh(o,r),t>0&&(e[n-1][_n]=r[_n]);let i=Ms(e,gt+t);UI(r[ke],r);let s=i[Mo];s!==null&&s.detachView(i[ke]),r[At]=null,r[_n]=null,r[Ve]&=-129}return r}function TA(e,t,n,r){let o=gt+r,i=n.length;r>0&&(n[o-1][_n]=t),r<i-gt?(t[_n]=n[o],ef(n,gt+r,t)):(n.push(t),t[_n]=null),t[At]=n;let s=t[Ao];s!==null&&n!==s&&yw(s,t);let a=t[Mo];a!==null&&a.insertView(e),Ul(t),t[Ve]|=128}function yw(e,t){let n=e[Ps],r=t[At];if(Gn(r))e[Ve]|=2;else{let o=r[At][gn];t[gn]!==o&&(e[Ve]|=2)}n===null?e[Ps]=[t]:n.push(t)}var Fo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[ke];return Ws(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[pt]}set context(t){this._lView[pt]=t}get destroyed(){return No(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[At];if(On(t)){let n=t[ks],r=n?n.indexOf(this):-1;r>-1&&(zs(t,r),Ms(n,r))}this._attachedToViewContainer=!1}wu(this._lView[ke],this._lView)}onDestroy(t){yf(this._lView,t)}markForCheck(){Vh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ve]&=-129}reattach(){Ul(this._lView),this._lView[Ve]|=128}detectChanges(){this._lView[Ve]|=1024,cw(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Ii(this._lView),n=this._lView[Ao];n!==null&&!t&&Oh(n,this._lView),Jb(this._lView[ke],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=t;let n=Ii(this._lView),r=this._lView[Ao];r!==null&&!n&&yw(r,this._lView),Ul(this._lView)}};function Du(e,t,n,r,o){let i=e.data[t];if(i===null)i=MA(e,t,n,r,o),Ev()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=vv();i.injectorIndex=s===null?-1:s.injectorIndex}return Ai(i,!0),i}function MA(e,t,n,r,o){let i=_f(),s=Ef(),a=s?i:i&&i.parent,l=e.data[t]=NA(e,a,n,t,r,o);return xA(e,l,i,s),l}function xA(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function NA(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return yv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var vV=new RegExp(`^(\\d+)*(${cI}|${uI})*(.*)`);function RA(e){let t=e[df]??[],r=e[At][ut],o=[];for(let i of t)i.data[Nb]!==void 0?o.push(i):OA(i,r);e[df]=o}function OA(e,t){let n=0,r=e.firstChild;if(r){let o=e.data[xb];for(;n<o;){let i=r.nextSibling;Bb(t,r,!1),r=i,n++}}}var kA=()=>null,PA=()=>null;function rh(e,t){return kA(e,t)}function vw(e,t,n){return PA(e,t,n)}var bw=class{},Cu=class{},oh=class{resolveComponentFactory(t){throw new xe(917,!1)}},Zs=class{static NULL=new oh},Lo=class{},Li=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>FA()}return e})();function FA(){let e=Ze(),t=sn(),n=Cn(t.index,e);return(Gn(n)?n:e)[ut]}var ww=(()=>{class e{static \u0275prov=Re({token:e,providedIn:"root",factory:()=>null})}return e})();var Ql={},ih=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,Ql,r);return o!==Ql||n===Ql?o:this.parentInjector.get(t,n,r)}};function su(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=xl(o,a);else if(i==2){let l=a,u=t[++s];r=xl(r,l+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ct(e,t=0){let n=Ze();if(n===null)return He(e,t);let r=sn();return _b(r,n,Pt(e),t)}function LA(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a=s,l=null,u=null;for(let c of s)if(c.resolveHostDirectives!==null){[a,l,u]=c.resolveHostDirectives(s);break}VA(e,t,n,a,i,l,u)}i!==null&&r!==null&&jA(n,r,i)}function jA(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new xe(-301,!1);r.push(t[o],i)}}function BA(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function VA(e,t,n,r,o,i,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&qn(h)&&(l=!0,BA(e,n,f)),Gf(tu(n,t),e,h.type)}GA(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let u=!1,c=!1,d=Wb(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=Ni(n.mergedAttrs,h.hostAttrs),$A(e,n,t,d,h),zA(d,h,o),s!==null&&s.has(h)){let[g,m]=s.get(h);n.directiveToIndex.set(h.type,[d,g+n.directiveStart,m+n.directiveStart])}else(i===null||!i.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let v=h.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!c&&(v.ngOnChanges||v.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}UA(e,n,i)}function UA(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Qv(0,t,o,r),Qv(1,t,o,r),Jv(t,r,!1);else{let i=n.get(o);Zv(0,t,i,r),Zv(1,t,i,r),Jv(t,r,!0)}}}function Qv(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),_w(t,i)}}function Zv(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),_w(t,s)}}function _w(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Jv(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||Sh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&o.hasOwnProperty(l)){let u=o[l];for(let c of u)if(c===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){let u=i[l];for(let c=0;c<u.length;c+=2)if(u[c]===t){s??=[],s.push(u[c+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function $A(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=wo(o.type,!0)),s=new ko(i,qn(o),ct,null);e.blueprint[r]=s,n[r]=s,HA(e,t,r,Wb(e,n,o.hostVars,yn),o)}function HA(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;WA(s)!=a&&s.push(a),s.push(n,r,i)}}function WA(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function zA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;qn(t)&&(n[""]=e)}}function GA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ew(e,t,n,r,o,i,s,a){let l=t[ke],u=l.consts,c=Yn(u,s),d=Du(l,e,n,r,c);return i&&LA(l,t,d,Yn(u,a),o),d.mergedAttrs=Ni(d.mergedAttrs,d.attrs),d.attrs!==null&&su(d,d.attrs,!1),d.mergedAttrs!==null&&su(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function Dw(e,t){$S(e,t),ff(t)&&e.queries.elementEnd(t)}function qA(e,t,n,r,o,i){let s=t.consts,a=Yn(s,o),l=Du(t,e,n,r,a);if(l.mergedAttrs=Ni(l.mergedAttrs,l.attrs),i!=null){let u=Yn(s,i);l.localNames=[];for(let c=0;c<u.length;c+=2)l.localNames.push(u[c],-1)}return l.attrs!==null&&su(l,l.attrs,!1),l.mergedAttrs!==null&&su(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function KA(e,t,n){return e[t]=n}function YA(e,t){return e[t]}function Jr(e,t,n){if(n===yn)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Zl(e,t,n){return function r(o){let i=Kr(e)?Cn(e.index,t):t;Vh(i,5);let s=t[pt],a=Xv(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Xv(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Xv(e,t,n,r){let o=Pe(null);try{return ot(6,t,n),n(r)!==!1}catch(i){return fA(e,i),!1}finally{ot(7,t,n),Pe(o)}}function Cw(e,t,n,r,o,i,s,a){let l=Bl(e),u=!1,c=null;if(!r&&l&&(c=ZA(t,n,i,e.index)),c!==null){let d=c.__ngLastListenerFn__||c;d.__ngNextListenerFn__=s,c.__ngLastListenerFn__=s,u=!0}else{let d=Kn(e,n),f=r?r(d):d;fI(n,f,i,a);let h=o.listen(f,i,a);if(!QA(i)){let v=r?g=>r(Dn(g[e.index])):e.index;Sw(v,t,n,i,a,h,!1)}}return u}function QA(e){return e.startsWith("animation")||e.startsWith("transition")}function ZA(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Ci],l=o[i+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function Sw(e,t,n,r,o,i,s){let a=t.firstCreatePass?hv(t):null,l=fv(n),u=l.length;l.push(o,i),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function eb(e,t,n,r,o,i){let s=t[n],a=t[ke],u=a.data[n].outputs[r],d=s[u].subscribe(i);Sw(e.index,a,t,o,i,d,!0)}var sh=Symbol("BINDING");var au=class extends Zs{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Gr(t);return new Oi(n,this.ngModule)}};function JA(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&bu.SignalBased)!==0};return o&&(i.transform=o),i})}function XA(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function eT(e,t,n){let r=t instanceof Ft?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new ih(n,r):n}function tT(e){let t=e.get(Lo,null);if(t===null)throw new xe(407,!1);let n=e.get(ww,null),r=e.get(Do,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function nT(e,t){let n=Iw(e);return Lb(t,n,n==="svg"?hf:n==="math"?lv:null)}function Iw(e){return(e.selectors[0][0]||"div").toLowerCase()}var Oi=class extends Cu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=JA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=XA(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=AI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){ot(22);let a=Pe(null);try{let l=this.componentDef,u=rT(r,l,s,i),c=eT(l,o||this.ngModule,t),d=tT(c),f=d.rendererFactory.createRenderer(null,l),h=r?tA(f,r,l.encapsulation,c):nT(l,f),v=s?.some(tb)||i?.some(b=>typeof b!="function"&&b.bindings.some(tb)),g=Ah(null,u,null,512|Hb(l),null,null,d,f,c,null,kb(h,c,!0));g[Lt]=h,Hl(g);let m=null;try{let b=Ew(Lt,g,2,"#host",()=>u.directiveRegistry,!0,0);Vb(f,h,b),Ri(h,g),tw(u,g,b),Fb(u,b,g),Dw(u,b),n!==void 0&&iT(b,this.ngContentSelectors,n),m=Cn(b.index,g),g[pt]=m[pt],jh(u,g,null)}catch(b){throw m!==null&&Kf(m),Kf(g),b}finally{ot(23),Wl()}return new lu(this.componentType,g,!!v)}finally{Pe(a)}}};function rT(e,t,n,r){let o=e?["ng-version","20.3.15"]:TI(t.selectors[0]),i=null,s=null,a=0;if(n)for(let c of n)a+=c[sh].requiredVars,c.create&&(c.targetIdx=0,(i??=[]).push(c)),c.update&&(c.targetIdx=0,(s??=[]).push(c));if(r)for(let c=0;c<r.length;c++){let d=r[c];if(typeof d!="function")for(let f of d.bindings){a+=f[sh].requiredVars;let h=c+1;f.create&&(f.targetIdx=h,(i??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let l=[t];if(r)for(let c of r){let d=typeof c=="function"?c:c.type,f=of(d);l.push(f)}return Ih(0,null,oT(i,s),1,a,l,null,null,null,[o],null)}function oT(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function tb(e){let t=e[sh].kind;return t==="input"||t==="twoWay"}var lu=class extends bw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Fs(n[ke],Lt),this.location=bh(this._tNode,n),this.instance=Cn(this._tNode.index,n)[pt],this.hostView=this.changeDetectorRef=new Fo(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=Lh(r,o[ke],o,t,n);this.previousInputValues.set(t,n);let s=Cn(r.index,o);Vh(s,1)}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function iT(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Js=(()=>{class e{static __NG_ELEMENT_ID__=sT}return e})();function sT(){let e=sn();return lT(e,Ze())}var aT=Js,Aw=class extends aT{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return bh(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){let t=vh(this._hostTNode,this._hostLView);if(gb(t)){let n=eu(t,this._hostLView),r=Xl(t),o=n[ke].data[r+8];return new Oo(o,n)}else return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=nb(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=rh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Hs(this._hostTNode,s)),a}createComponent(t,n,r,o,i,s,a){let l=t&&!LS(t),u;if(l)u=n;else{let m=n||{};u=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let c=l?t:new Oi(Gr(t)),d=r||this.parentInjector;if(!i&&c.ngModule==null){let b=(l?d:this.parentInjector).get(Ft,null);b&&(i=b)}let f=Gr(c.componentType??{}),h=rh(this._lContainer,f?.id??null),v=h?.firstChild??null,g=c.create(d,o,v,i,s,a);return this.insertImpl(g.hostView,u,Hs(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(uv(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=o[At],u=new Aw(l,l[En],l[At]);u.detach(u.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Eu(s,o,i,r),t.attachToViewContainerRef(),ef(jf(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=nb(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);r&&(Ms(jf(this._lContainer),n),wu(r[ke],r))}detach(t){let n=this._adjustIndex(t,-1),r=zs(this._lContainer,n);return r&&Ms(jf(this._lContainer),n)!=null?new Fo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function nb(e){return e[ks]}function jf(e){return e[ks]||(e[ks]=[])}function lT(e,t){let n,r=t[e.index];return On(r)?n=r:(n=pw(r,t,null,e),t[e.index]=n,Th(t,n)),cT(n,t,e,r),new Aw(n,e,t)}function uT(e,t){let n=e[ut],r=n.createComment(""),o=Kn(t,e),i=n.parentNode(o);return ru(n,i,r,n.nextSibling(o),!1),r}var cT=hT,dT=()=>!1;function fT(e,t,n){return dT(e,t,n)}function hT(e,t,n,r){if(e[qr])return;let o;n.type&8?o=Dn(r):o=uT(t,n),e[qr]=o}var ki=class{},Su=class{};var uu=class extends ki{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new au(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=rf(t);this._bootstrapComponents=Ub(i.bootstrap),this._r3Injector=xf(t,n,[{provide:ki,useValue:this},{provide:Zs,useValue:this.componentFactoryResolver},...r],dr(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},cu=class extends Su{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new uu(this.moduleType,t,[])}};var Gs=class extends ki{injector;componentFactoryResolver=new au(this);instance=null;constructor(t){super();let n=new Eo([...t.providers,{provide:ki,useValue:this},{provide:Zs,useValue:this.componentFactoryResolver}],t.parent||Ns(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Xs(e,t,n=null){return new Gs({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var pT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=sf(!1,n.type),o=r.length>0?Xs([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Re({token:e,providedIn:"environment",factory:()=>new e(He(Ft))})}return e})();function at(e){return Ks(()=>{let t=Tw(e),n=Oe(be({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(pT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vr.Emulated,styles:e.styles||Zt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Zr("NgStandalone"),Mw(n);let r=e.dependencies;return n.directiveDefs=rb(r,gT),n.pipeDefs=rb(r,ev),n.id=vT(n),n})}function gT(e){return Gr(e)||of(e)}function Xr(e){return Ks(()=>({type:e.type,bootstrap:e.bootstrap||Zt,declarations:e.declarations||Zt,imports:e.imports||Zt,exports:e.exports||Zt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function mT(e,t){if(e==null)return zr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=bu.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function yT(e){if(e==null)return zr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function an(e){return Ks(()=>{let t=Tw(e);return Mw(t),t})}function Tw(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||zr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Zt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:mT(e.inputs,t),outputs:yT(e.outputs),debugInfo:null}}function Mw(e){e.features?.forEach(t=>t(e))}function rb(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let o of n){let i=t(o);i!==null&&r.push(i)}return r}:null}function vT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function bT(e){return Object.getPrototypeOf(e.prototype).constructor}function _r(e){let t=bT(e.type),n=!0,r=[e];for(;t;){let o;if(qn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new xe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Bf(e.inputs),s.declaredInputs=Bf(e.declaredInputs),s.outputs=Bf(e.outputs);let a=o.hostBindings;a&&CT(e,a);let l=o.viewQuery,u=o.contentQueries;if(l&&ET(e,l),u&&DT(e,u),wT(e,o),Ky(e.outputs,o.outputs),qn(o)&&o.data.animation){let c=e.data;c.animation=(c.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===_r&&(n=!1)}}t=Object.getPrototypeOf(t)}_T(r)}function wT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function _T(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Ni(o.hostAttrs,n=Ni(n,o.hostAttrs))}}function Bf(e){return e===zr?{}:e===Zt?[]:e}function ET(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function DT(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function CT(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function ST(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=Ni(e.mergedAttrs,e.attrs);let c=e.tView=Ih(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),c.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Ai(e,!1);let l=IT(n,t,e,r);zl()&&kh(n,t,l,e),Ri(l,t);let u=pw(l,t,l,e);t[r+Lt]=u,Th(t,u),fT(u,e,t)}function du(e,t,n,r,o,i,s,a,l,u,c){let d=n+Lt,f;if(t.firstCreatePass){if(f=Du(t,d,4,s||null,a||null),u!=null){let h=Yn(t.consts,u);f.localNames=[];for(let v=0;v<h.length;v+=2)f.localNames.push(h[v],-1)}}else f=t.data[d];return ST(f,e,t,n,r,o,i,l),u!=null&&Fh(e,f,c),f}var IT=AT;function AT(e,t,n,r){return Gl(!0),t[ut].createComment("")}var Uh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var $h=new Ne("");function Vo(e){return!!e&&typeof e.then=="function"}function xw(e){return!!e&&typeof e.subscribe=="function"}var Nw=new Ne("");var Hh=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=we(Nw,{optional:!0})??[];injector=we(Nn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Jt(this.injector,o);if(Vo(i))n.push(i);else if(xw(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iu=new Ne("");function Rw(){md(()=>{let e="";throw new xe(600,e)})}function Ow(e){return e.isBoundToModule}var TT=10;var eo=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=we(Sn);afterRenderManager=we(Yb);zonelessEnabled=we(Bs);rootEffectScheduler=we(kf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ht;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=we(yr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ke(n=>!n))}constructor(){we(Qs,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=we(Ft);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Nn.NULL){return this._injector.get(St).run(()=>{ot(10);let s=n instanceof Cu;if(!this._injector.get(Hh).done){let v="";throw new xe(405,v)}let l;s?l=n:l=this._injector.get(Zs).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let u=Ow(l)?void 0:this._injector.get(ki),c=r||l.selector,d=l.create(o,[],c,u),f=d.location.nativeElement,h=d.injector.get($h,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),$s(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),ot(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ot(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(xh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new xe(101,!1);let n=Pe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Pe(n),this.afterTick.next(),ot(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Lo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<TT;)ot(14),this.synchronizeOnce(),ot(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ls(o))continue;let i=r&&!this.zonelessEnabled?0:1;cw(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ls(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$s(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Iu,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$s(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new xe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $s(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var SV=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ah=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),o=Math.max(t,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(t,n){this.attach(n,this.detach(t))}};function Vf(e,t,n,r,o){return e===n&&Object.is(t,r)?1:Object.is(o(e,t),o(n,r))?-1:0}function MT(e,t,n){let r,o,i=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;i<=s&&i<=l;){let u=e.at(i),c=t[i],d=Vf(i,u,i,c,n);if(d!==0){d<0&&e.updateValue(i,c),i++;continue}let f=e.at(s),h=t[l],v=Vf(s,f,l,h,n);if(v!==0){v<0&&e.updateValue(s,h),s--,l--;continue}let g=n(i,u),m=n(s,f),b=n(i,c);if(Object.is(b,m)){let y=n(l,h);Object.is(y,g)?(e.swap(i,s),e.updateValue(s,h),l--,s--):e.move(s,i),e.updateValue(i,c),i++;continue}if(r??=new fu,o??=ib(e,i,s,n),lh(e,r,i,b))e.updateValue(i,c),i++,s++;else if(o.has(b))r.set(g,e.detach(i)),s--;else{let y=e.create(i,t[i]);e.attach(i,y),i++,s++}}for(;i<=l;)ob(e,r,n,i,t[i]),i++}else if(t!=null){let l=t[Symbol.iterator](),u=l.next();for(;!u.done&&i<=s;){let c=e.at(i),d=u.value,f=Vf(i,c,i,d,n);if(f!==0)f<0&&e.updateValue(i,d),i++,u=l.next();else{r??=new fu,o??=ib(e,i,s,n);let h=n(i,d);if(lh(e,r,i,h))e.updateValue(i,d),i++,s++,u=l.next();else if(!o.has(h))e.attach(i,e.create(i,d)),i++,s++,u=l.next();else{let v=n(i,c);r.set(v,e.detach(i)),s--}}}for(;!u.done;)ob(e,r,n,e.length,u.value),u=l.next()}for(;i<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function lh(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function ob(e,t,n,r,o){if(lh(e,t,r,n(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function ib(e,t,n,r){let o=new Set;for(let i=t;i<=n;i++)o.add(r(i,e.at(i)));return o}var fu=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),t(r,n)}}};function $t(e,t,n,r,o,i,s,a){Zr("NgControlFlow");let l=Ze(),u=Xt(),c=Yn(u.consts,i);return du(l,u,e,t,n,r,o,c,256,s,a),Wh}function Wh(e,t,n,r,o,i,s,a){Zr("NgControlFlow");let l=Ze(),u=Xt(),c=Yn(u.consts,i);return du(l,u,e,t,n,r,o,c,512,s,a),Wh}function Ht(e,t){Zr("NgControlFlow");let n=Ze(),r=Ro(),o=n[r]!==yn?n[r]:-1,i=o!==-1?hu(n,Lt+o):void 0,s=0;if(Jr(n,r,e)){let a=Pe(null);try{if(i!==void 0&&mw(i,s),e!==-1){let l=Lt+e,u=hu(n,l),c=fh(n[ke],l),d=vw(u,c,n),f=Bh(n,c,t,{dehydratedView:d});Eu(u,f,s,Hs(c,d))}}finally{Pe(a)}}else if(i!==void 0){let a=gw(i,s);a!==void 0&&(a[pt]=t)}}var uh=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-gt}};function Uo(e){return e}var ch=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Er(e,t,n,r,o,i,s,a,l,u,c,d,f){Zr("NgControlFlow");let h=Ze(),v=Xt(),g=l!==void 0,m=Ze(),b=a?s.bind(m[gn][pt]):s,y=new ch(g,b);m[Lt+e]=y,du(h,v,e+1,t,n,r,o,Yn(v.consts,i),256),g&&du(h,v,e+2,l,u,c,d,Yn(v.consts,f),512)}var dh=class extends ah{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-gt}at(t){return this.getLView(t)[pt].$implicit}attach(t,n){let r=n[Di];this.needsIndexUpdate||=t!==this.length,Eu(this.lContainer,n,t,Hs(this.templateTNode,r)),xT(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,NT(this.lContainer,t),RT(this.lContainer,t)}create(t,n){let r=rh(this.lContainer,this.templateTNode.tView.ssrId),o=Bh(this.hostLView,this.templateTNode,new uh(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(t){wu(t[ke],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[pt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[pt].$index=t}getLView(t){return OT(this.lContainer,t)}};function Dr(e){let t=Pe(null),n=mr();try{let r=Ze(),o=r[ke],i=r[n],s=n+1,a=hu(r,s);if(i.liveCollection===void 0){let u=fh(o,s);i.liveCollection=new dh(a,r,u)}else i.liveCollection.reset();let l=i.liveCollection;if(MT(l,e,i.trackByFn),l.updateIndexes(),i.hasEmptyBlock){let u=Ro(),c=l.length===0;if(Jr(r,u,c)){let d=n+2,f=hu(r,d);if(c){let h=fh(o,d),v=vw(f,h,r),g=Bh(r,h,void 0,{dehydratedView:v});Eu(f,g,0,Hs(h,v))}else o.firstUpdatePass&&RA(f),mw(f,0)}}}finally{Pe(t)}}function hu(e,t){return e[t]}function xT(e,t){if(e.length<=gt)return;let n=gt+t,r=e[n],o=r?r[xo]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[pr];BI(i,o),Po.delete(r),o.detachedLeaveAnimationFns=void 0}}function NT(e,t){if(e.length<=gt)return;let n=gt+t,r=e[n],o=r?r[xo]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function RT(e,t){return zs(e,t)}function OT(e,t){return gw(e,t)}function fh(e,t){return Fs(e,t)}function Mt(e,t,n){let r=Ze(),o=Ro();if(Jr(r,o,t)){let i=Xt(),s=Mf();iA(s,r,e,t,r[ut],n)}return Mt}function hh(e,t,n,r,o){Lh(t,e,n,o?"class":"style",r)}function We(e,t,n,r){let o=Ze(),i=o[ke],s=e+Lt,a=i.firstCreatePass?Ew(s,o,2,t,cA,mv(),n,r):i.data[s];if(rw(a,o,e,t,kw),Bl(a)){let l=o[ke];tw(l,o,a),Fb(l,a,o)}return r!=null&&Fh(o,a),We}function Ge(){let e=Xt(),t=sn(),n=ow(t);return e.firstCreatePass&&Dw(e,n),bf(n)&&wf(),vf(),n.classesWithoutHost!=null&&WS(n)&&hh(e,n,Ze(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&zS(n)&&hh(e,n,Ze(),n.stylesWithoutHost,!1),Ge}function jt(e,t,n,r){return We(e,t,n,r),Ge(),jt}function xt(e,t,n,r){let o=Ze(),i=o[ke],s=e+Lt,a=i.firstCreatePass?qA(s,i,2,t,n,r):i.data[s];return rw(a,o,e,t,kw),r!=null&&Fh(o,a),xt}function Nt(){let e=sn(),t=ow(e);return bf(t)&&wf(),vf(),Nt}function ji(e,t,n,r){return xt(e,t,n,r),Nt(),ji}var kw=(e,t,n,r,o)=>(Gl(!0),Lb(t[ut],r,xv()));function ln(){return Ze()}function Bi(e,t,n){let r=Ze(),o=Ro();if(Jr(r,o,t)){let i=Xt(),s=Mf();nw(s,r,e,t,r[ut],n)}return Bi}var ea="en-US";var kT=ea;function Pw(e){typeof e=="string"&&(kT=e.toLowerCase().replace(/_/g,"-"))}function mt(e,t,n){let r=Ze(),o=Xt(),i=sn();return PT(o,r,r[ut],i,e,t,n),mt}function Au(e,t,n){let r=Ze(),o=Xt(),i=sn();return(i.type&3||n)&&Cw(i,o,r,n,r[ut],e,t,Zl(i,r,t)),Au}function PT(e,t,n,r,o,i,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Zl(r,t,i),Cw(r,e,t,s,n,o,i,l)&&(a=!1)),a){let u=r.outputs?.[o],c=r.hostDirectiveOutputs?.[o];if(c&&c.length)for(let d=0;d<c.length;d+=2){let f=c[d],h=c[d+1];l??=Zl(r,t,i),eb(r,t,f,h,o,l)}if(u&&u.length)for(let d of u)l??=Zl(r,t,i),eb(r,t,d,o,o,l)}}function nt(e=1){return Mv(e)}function ql(e,t){return e<<17|t<<2}function jo(e){return e>>17&32767}function FT(e){return(e&2)==2}function LT(e,t){return e&131071|t<<17}function ph(e){return e|2}function Pi(e){return(e&131068)>>2}function Uf(e,t){return e&-131069|t<<2}function jT(e){return(e&1)===1}function gh(e){return e|1}function BT(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=jo(s),l=Pi(s);e[r]=n;let u=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||Ei(d,c)>0)&&(u=!0)}else c=n;if(o)if(l!==0){let f=jo(e[a+1]);e[r+1]=ql(f,a),f!==0&&(e[f+1]=Uf(e[f+1],r)),e[a+1]=LT(e[a+1],r)}else e[r+1]=ql(a,0),a!==0&&(e[a+1]=Uf(e[a+1],r)),a=r;else e[r+1]=ql(l,0),a===0?a=r:e[l+1]=Uf(e[l+1],r),l=r;u&&(e[r+1]=ph(e[r+1])),sb(e,c,r,!0),sb(e,c,r,!1),VT(t,c,e,r,i),s=ql(a,l),i?t.classBindings=s:t.styleBindings=s}function VT(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Ei(i,t)>=0&&(n[r+1]=gh(n[r+1]))}function sb(e,t,n,r){let o=e[n+1],i=t===null,s=r?jo(o):Pi(o),a=!1;for(;s!==0&&(a===!1||i);){let l=e[s],u=e[s+1];UT(l,t)&&(a=!0,e[s+1]=r?gh(u):ph(u)),s=r?jo(u):Pi(u)}a&&(e[n+1]=r?ph(o):gh(o))}function UT(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ei(e,t)>=0:!1}var Pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $T(e){return e.substring(Pn.key,Pn.keyEnd)}function HT(e){return WT(e),Fw(e,Lw(e,0,Pn.textEnd))}function Fw(e,t){let n=Pn.textEnd;return n===t?-1:(t=Pn.keyEnd=zT(e,Pn.key=t,n),Lw(e,t,n))}function WT(e){Pn.key=0,Pn.keyEnd=0,Pn.value=0,Pn.valueEnd=0,Pn.textEnd=e.length}function Lw(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function zT(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function $o(e,t){return qT(e,t,null,!0),$o}function zh(e){KT(eM,GT,e,!0)}function GT(e,t){for(let n=HT(t);n>=0;n=Fw(t,n))Pl(e,$T(t),!0)}function qT(e,t,n,r){let o=Ze(),i=Xt(),s=Sf(2);if(i.firstUpdatePass&&Bw(i,e,s,r),t!==yn&&Jr(o,s,t)){let a=i.data[mr()];Vw(i,a,o,o[ut],e,o[s+1]=nM(t,n),r,s)}}function KT(e,t,n,r){let o=Xt(),i=Sf(2);o.firstUpdatePass&&Bw(o,null,i,r);let s=Ze();if(n!==yn&&Jr(s,i,n)){let a=o.data[mr()];if(Uw(a,r)&&!jw(o,i)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=xl(l,n||"")),hh(o,a,s,n,r)}else tM(o,a,s,s[ut],s[i+1],s[i+1]=XT(e,t,n),r,i)}}function jw(e,t){return t>=e.expandoStartIndex}function Bw(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[mr()],s=jw(e,n);Uw(i,r)&&t===null&&!s&&(t=!1),t=YT(o,i,t,r),BT(o,i,t,n,s,r)}}function YT(e,t,n,r){let o=Sv(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=$f(null,e,t,n,r),n=qs(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=$f(o,e,t,n,r),i===null){let l=QT(e,t,r);l!==void 0&&Array.isArray(l)&&(l=$f(null,e,t,l[1],r),l=qs(l,t.attrs,r),ZT(e,t,r,l))}else i=JT(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function QT(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Pi(r)!==0)return e[jo(r)]}function ZT(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[jo(o)]=r}function JT(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=qs(r,s,n)}return qs(r,t.attrs,n)}function $f(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=qs(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function qs(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Pl(e,s,n?!0:t[++i]))}return e===void 0?null:e}function XT(e,t,n){if(n==null||n==="")return Zt;let r=[],o=Dh(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function eM(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Pl(e,r,n)}function tM(e,t,n,r,o,i,s,a){o===yn&&(o=Zt);let l=0,u=0,c=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;c!==null||d!==null;){let f=l<o.length?o[l+1]:void 0,h=u<i.length?i[u+1]:void 0,v=null,g;c===d?(l+=2,u+=2,f!==h&&(v=d,g=h)):d===null||c!==null&&c<d?(l+=2,v=c):(u+=2,v=d,g=h),v!==null&&Vw(e,t,n,r,v,g,s,a),c=l<o.length?o[l]:null,d=u<i.length?i[u]:null}}function Vw(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let l=e.data,u=l[a+1],c=jT(u)?ab(l,t,n,o,Pi(u),s):void 0;if(!pu(c)){pu(i)||FT(u)&&(i=ab(l,null,n,o,a,s));let d=pf(mr(),n);eA(r,s,d,o,i)}}function ab(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let l=e[o],u=Array.isArray(l),c=u?l[1]:l,d=c===null,f=n[o+1];f===yn&&(f=d?Zt:void 0);let h=d?Fl(f,r):c===r?f:void 0;if(u&&!pu(h)&&(h=Fl(l,r)),pu(h)&&(a=h,s))return a;let v=e[o+1];o=s?jo(v):Pi(v)}if(t!==null){let l=i?t.residualClasses:t.residualStyles;l!=null&&(a=Fl(l,r))}return a}function pu(e){return e!==void 0}function nM(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=dr(Dh(e)))),e}function Uw(e,t){return(e.flags&(t?8:16))!==0}function Je(e,t=""){let n=Ze(),r=Xt(),o=e+Lt,i=r.firstCreatePass?Du(r,o,1,t,null):r.data[o],s=rM(r,n,i,t,e);n[o]=s,zl()&&kh(r,n,s,i),Ai(i,!1)}var rM=(e,t,n,r,o)=>(Gl(!0),pI(t[ut],r));function $w(e,t,n,r=""){return Jr(e,Ro(),n)?t+Rl(n)+r:yn}function Bt(e){return Cr("",e),Bt}function Cr(e,t,n){let r=Ze(),o=$w(r,e,t,n);return o!==yn&&oM(r,mr(),o),Cr}function oM(e,t,n){let r=pf(t,e);gI(e[ut],r,n)}function Gh(e){return Jr(Ze(),Ro(),e)?Rl(e):yn}function qh(e,t,n=""){return $w(Ze(),e,t,n)}function iM(e,t,n){let r=Xt();if(r.firstCreatePass){let o=qn(e);mh(n,r.data,r.blueprint,o,!0),mh(t,r.data,r.blueprint,o,!1)}}function mh(e,t,n,r,o){if(e=Pt(e),Array.isArray(e))for(let i=0;i<e.length;i++)mh(e[i],t,n,r,o);else{let i=Xt(),s=Ze(),a=sn(),l=_o(e)?e:Pt(e.provide),u=lf(e),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(_o(e)||!e.multi){let h=new ko(u,o,ct,null),v=Wf(l,t,o?c:c+f,d);v===-1?(Gf(tu(a,s),i,l),Hf(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[v]=h,s[v]=h)}else{let h=Wf(l,t,c+f,d),v=Wf(l,t,c,c+f),g=h>=0&&n[h],m=v>=0&&n[v];if(o&&!m||!o&&!g){Gf(tu(a,s),i,l);let b=lM(o?aM:sM,n.length,o,r,u,e);!o&&m&&(n[v].providerFactory=b),Hf(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=Hw(n[o?v:h],u,!o&&r);Hf(i,e,h>-1?h:v,b)}!o&&r&&m&&n[v].componentProviders++}}}function Hf(e,t,n,r){let o=_o(t),i=iv(t);if(o||i){let l=(i?Pt(t.useClass):t).prototype.ngOnDestroy;if(l){let u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let c=u.indexOf(n);c===-1?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function Hw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Wf(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function sM(e,t,n,r,o){return yh(this.multi,[])}function aM(e,t,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=nu(r,r[ke],this.providerFactory.index,o);s=l.slice(0,a),yh(i,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],yh(i,s);return s}function yh(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function lM(e,t,n,r,o,i){let s=new ko(e,n,ct,null);return s.multi=[],s.index=t,s.componentProviders=0,Hw(s,o,r&&!n),s}function ta(e,t=[]){return n=>{n.providersResolver=(r,o)=>iM(r,o?o(e):e,t)}}function Kh(e,t,n){let r=wv()+e,o=Ze();return o[r]===yn?KA(o,r,n?t.call(n):t()):YA(o,r)}var gu=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Yh=(()=>{class e{compileModuleSync(n){return new cu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=rf(n),i=Ub(o.declarations).reduce((s,a)=>{let l=Gr(a);return l&&s.push(new Oi(l)),s},[]);return new gu(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var uM=(()=>{class e{zone=we(St);changeDetectionScheduler=we(Do);applicationRef=we(eo);applicationErrorHandler=we(Sn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ww=new Ne("",{factory:()=>!1});function Qh({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new St(Oe(be({},Jh()),{scheduleInRootZone:n})),[{provide:St,useFactory:e},{provide:hr,multi:!0,useFactory:()=>{let r=we(uM,{optional:!0});return()=>r.initialize()}},{provide:hr,multi:!0,useFactory:()=>{let r=we(cM);return()=>{r.initialize()}}},t===!0?{provide:Rf,useValue:!0}:[],{provide:Of,useValue:n??Gb},{provide:Sn,useFactory:()=>{let r=we(St),o=we(Ft),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(zn),i.handleError(s))})}}}]}function Zh(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Qh({ngZoneFactory:()=>{let o=Jh(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&Zr("NgZone_CoalesceEvent"),new St(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return So([{provide:Ww,useValue:!0},{provide:Bs,useValue:!1},r])}function Jh(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var cM=(()=>{class e{subscription=new vt;initialized=!1;zone=we(St);pendingTasks=we(yr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{St.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{St.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zw=(()=>{class e{applicationErrorHandler=we(Sn);appRef=we(eo);taskService=we(yr);ngZone=we(St);zonelessEnabled=we(Bs);tracing=we(Qs,{optional:!0});disableScheduling=we(Rf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new vt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ou):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(we(Of,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof iu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Wv:qb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ou+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Wv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dM(){return typeof $localize<"u"&&$localize.locale||ea}var Xh=new Ne("",{providedIn:"root",factory:()=>we(Xh,{optional:!0,skipSelf:!0})||dM()});function Wt(e){return zy(e)}function Vi(e,t){return nl(e,t?.equal)}var Gw=class{[Qt];constructor(t){this[Qt]=t}destroy(){this[Qt].destroy()}};var Yw=Symbol("InputSignalNode#UNSET"),SM=Oe(be({},rl),{transformFn:void 0,applyValueToInputSignal(e,t){ui(e,t)}});function Qw(e,t){let n=Object.create(SM);n.value=e,n.transformFn=t?.transform;function r(){if(si(n),n.value===Yw){let o=null;throw new xe(-950,o)}return n.value}return r[Qt]=n,r}var IM=new Ne("");IM.__NG_ELEMENT_ID__=e=>{let t=sn();if(t===null)throw new xe(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new xe(204,!1)};function qw(e,t){return Qw(e,t)}function AM(e){return Qw(Yw,e)}var Zn=(qw.required=AM,qw);var ep=new Ne(""),TM=new Ne("");function na(e){return!e.moduleRef}function MM(e){let t=na(e)?e.r3Injector:e.moduleRef.injector,n=t.get(St);return n.run(()=>{na(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Sn),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),na(e)){let i=()=>t.destroy(),s=e.platformInjector.get(ep);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(ep);s.add(i),e.moduleRef.onDestroy(()=>{$s(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return NM(r,n,()=>{let i=t.get(yr),s=i.add(),a=t.get(Hh);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(Xh,ea);if(Pw(l||ea),!t.get(TM,!0))return na(e)?t.get(eo):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(na(e)){let c=t.get(eo);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return xM?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var xM;function NM(e,t,n){try{let r=n();return Vo(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Tu=null;function RM(e=[],t){return Nn.create({name:t,providers:[{provide:xs,useValue:"platform"},{provide:ep,useValue:new Set([()=>Tu=null])},...e]})}function OM(e=[]){if(Tu)return Tu;let t=RM(e);return Tu=t,Rw(),kM(t),t}function kM(e){let t=e.get(yu,null);Jt(e,()=>{t?.forEach(n=>n())})}var Ui=(()=>{class e{static __NG_ELEMENT_ID__=PM}return e})();function PM(e){return FM(sn(),Ze(),(e&16)===16)}function FM(e,t,n){if(Kr(e)&&!n){let r=Cn(e.index,t);return new Fo(r,r)}else if(e.type&175){let r=t[gn];return new Fo(r,t)}return null}function Zw(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;ot(8);try{let i=o?.injector??OM(r),s=[Qh({}),{provide:Do,useExisting:zw},Rv,...n||[]],a=new Gs({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return MM({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}finally{ot(9)}}var e0=null;function An(){return e0}function tp(e){e0??=e}var ra=class{},np=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>we(t0),providedIn:"platform"})}return e})();var t0=(()=>{class e extends np{_location;_history;_doc=we(Tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(n){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function n0(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Jw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function to(e){return e&&e[0]!=="?"?`?${e}`:e}var Mu=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>we(o0),providedIn:"root"})}return e})(),r0=new Ne(""),o0=(()=>{class e extends Mu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??we(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return n0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+to(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+to(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+to(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(He(np),He(r0,8))};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$i=(()=>{class e{_subject=new ht;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=BM(Jw(Xw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+to(r))}normalize(n){return e.stripTrailingSlash(jM(this._basePath,Xw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+to(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+to(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=to;static joinWithSlash=n0;static stripTrailingSlash=Jw;static \u0275fac=function(r){return new(r||e)(He(Mu))};static \u0275prov=Re({token:e,factory:()=>LM(),providedIn:"root"})}return e})();function LM(){return new $i(He(Mu))}function jM(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Xw(e){return e.replace(/\/index.html$/,"")}function BM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var rp=/\s+/,i0=[],op=(()=>{class e{_ngEl;_renderer;initialClasses=i0;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(rp):i0}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(rp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(rp).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(ct(wr),ct(Li))};static \u0275dir=an({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var xu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Xr({type:e});static \u0275inj=fr({})}return e})();function ip(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var oa=class{};var s0="browser";var ia=class{_doc;constructor(t){this._doc=t}manager},Nu=(()=>{class e extends ia{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(He(Tt))};static \u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),Ou=new Ne(""),cp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof Nu));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof Nu);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new xe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(He(Ou),He(St))};static \u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),sp="ng-app-id";function a0(e){for(let t of e)t.remove()}function l0(e,t){let n=t.createElement("style");return n.textContent=e,n}function UM(e,t,n,r){let o=e.head?.querySelectorAll(`style[${sp}="${t}"],link[${sp}="${t}"]`);if(o)for(let i of o)i.removeAttribute(sp),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function lp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var dp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,UM(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,l0);r?.forEach(o=>this.addUsage(o,this.external,lp))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(a0(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])a0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,l0(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,lp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(He(Tt),He(mu),He(vu,8),He(Ys))};static \u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fp=/%COMP%/g;var c0="%COMP%",$M=`_nghost-${c0}`,HM=`_ngcontent-${c0}`,WM=!0,zM=new Ne("",{providedIn:"root",factory:()=>WM});function GM(e){return HM.replace(fp,e)}function qM(e){return $M.replace(fp,e)}function d0(e,t){return t.map(n=>n.replace(fp,e))}var hp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new sa(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Ru?o.applyToHost(n):o instanceof aa&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case vr.Emulated:i=new Ru(l,u,r,this.appId,c,s,a,d,f);break;case vr.ShadowDom:return new up(l,u,n,r,s,a,this.nonce,d,f);default:i=new aa(l,u,r,c,s,a,d,f);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(He(cp),He(dp),He(mu),He(zM),He(Tt),He(St),He(vu),He(Qs,8))};static \u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),sa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(ap[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(u0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(u0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new xe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=ap[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=ap[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(br.DashCase|br.Important)?t.style.setProperty(n,r,o&br.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&br.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=An().getGlobalEventTarget(this.doc,t),!t))throw new xe(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function u0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var up=class extends sa{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,u){super(t,i,s,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=o.styles;c=d0(o.id,c);for(let f of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=o.getExternalStyles?.();if(d)for(let f of d){let h=lp(f,i);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},aa=class extends sa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,s,a,l,u){super(t,i,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let c=r.styles;this.styles=u?d0(u,c):c,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Po.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ru=class extends aa{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,u){let c=o+"-"+r.id;super(t,n,r,i,s,a,l,u,c),this.contentAttr=GM(c),this.hostAttr=qM(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var ku=class e extends ra{supportsDOMEvents=!0;static makeCurrent(){tp(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=KM();return n==null?null:YM(n)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ip(document.cookie,t)}},la=null;function KM(){return la=la||document.head.querySelector("base"),la?la.getAttribute("href"):null}function YM(e){return new URL(e,document.baseURI).pathname}var QM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac})}return e})(),f0=["alt","control","meta","shift"],ZM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},h0=(()=>{class e extends ia{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),f0.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=ZM[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),f0.forEach(s=>{if(s!==o){let a=JM[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(He(Tt))};static \u0275prov=Re({token:e,factory:e.\u0275fac})}return e})();function pp(e,t,n){let r=be({rootComponent:e,platformRef:n?.platformRef},XM(t));return Zw(r)}function XM(e){return{appProviders:[...o1,...e?.providers??[]],platformProviders:r1}}function e1(){ku.makeCurrent()}function t1(){return new zn}function n1(){return _h(document),document}var r1=[{provide:Ys,useValue:s0},{provide:yu,useValue:e1,multi:!0},{provide:Tt,useFactory:n1}];var o1=[{provide:xs,useValue:"root"},{provide:zn,useFactory:t1},{provide:Ou,useClass:Nu,multi:!0,deps:[Tt]},{provide:Ou,useClass:h0,multi:!0,deps:[Tt]},hp,dp,cp,{provide:Lo,useExisting:hp},{provide:oa,useClass:QM},[]];var p0=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(He(Tt))};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var je="primary",Da=Symbol("RouteTitle"),bp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zo(e){return new bp(e)}function E0(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function s1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Jn(e[n],t[n]))return!1;return!0}function Jn(e,t){let n=e?wp(e):void 0,r=t?wp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!D0(e[o],t[o]))return!1;return!0}function wp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function D0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}else return e===t}function C0(e){return e.length>0?e[e.length-1]:null}function Ar(e){return Td(e)?e:Vo(e)?ft(Promise.resolve(e)):Fe(e)}var a1={exact:I0,subset:A0},S0={exact:l1,subset:u1,ignored:()=>!0};function g0(e,t,n){return a1[n.paths](e.root,t.root,n.matrixParams)&&S0[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function l1(e,t){return Jn(e,t)}function I0(e,t,n){if(!Ho(e.segments,t.segments)||!Lu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!I0(e.children[r],t.children[r],n))return!1;return!0}function u1(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>D0(e[n],t[n]))}function A0(e,t,n){return T0(e,t,t.segments,n)}function T0(e,t,n,r){if(e.segments.length>n.length){let o=e.segments.slice(0,n.length);return!(!Ho(o,n)||t.hasChildren()||!Lu(o,n,r))}else if(e.segments.length===n.length){if(!Ho(e.segments,n)||!Lu(e.segments,n,r))return!1;for(let o in t.children)if(!e.children[o]||!A0(e.children[o],t.children[o],r))return!1;return!0}else{let o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!Ho(e.segments,o)||!Lu(e.segments,o,r)||!e.children[je]?!1:T0(e.children[je],t,i,r)}}function Lu(e,t,n){return t.every((r,o)=>S0[n](e[o].parameters,r.parameters))}var er=class{root;queryParams;fragment;_queryParamMap;constructor(t=new et([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){return f1.serialize(this)}},et=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ju(this)}},no=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=zo(this.parameters),this._parameterMap}toString(){return x0(this)}};function c1(e,t){return Ho(e,t)&&e.every((n,r)=>Jn(n.parameters,t[r].parameters))}function Ho(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function d1(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===je&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==je&&(n=n.concat(t(o,r)))}),n}var Ca=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>new Go,providedIn:"root"})}return e})(),Go=class{parse(t){let n=new Ep(t);return new er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ua(t.root,!0)}`,r=g1(t.queryParams),o=typeof t.fragment=="string"?`#${h1(t.fragment)}`:"";return`${n}${r}${o}`}},f1=new Go;function ju(e){return e.segments.map(t=>x0(t)).join("/")}function ua(e,t){if(!e.hasChildren())return ju(e);if(t){let n=e.children[je]?ua(e.children[je],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==je&&r.push(`${o}:${ua(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=d1(e,(r,o)=>o===je?[ua(e.children[je],!1)]:[`${o}:${ua(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[je]!=null?`${ju(e)}/${n[0]}`:`${ju(e)}/(${n.join("//")})`}}function M0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pu(e){return M0(e).replace(/%3B/gi,";")}function h1(e){return encodeURI(e)}function _p(e){return M0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bu(e){return decodeURIComponent(e)}function m0(e){return Bu(e.replace(/\+/g,"%20"))}function x0(e){return`${_p(e.path)}${p1(e.parameters)}`}function p1(e){return Object.entries(e).map(([t,n])=>`;${_p(t)}=${_p(n)}`).join("")}function g1(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Pu(n)}=${Pu(o)}`).join("&"):`${Pu(n)}=${Pu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var m1=/^[^\/()?;#]+/;function gp(e){let t=e.match(m1);return t?t[0]:""}var y1=/^[^\/()?;=#]+/;function v1(e){let t=e.match(y1);return t?t[0]:""}var b1=/^[^=?&#]+/;function w1(e){let t=e.match(b1);return t?t[0]:""}var _1=/^[^&#]+/;function E1(e){let t=e.match(_1);return t?t[0]:""}var Ep=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new et([],{}):new et([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[je]=new et(t,n)),r}parseSegment(){let t=gp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new xe(4009,!1);return this.capture(t),new no(Bu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=v1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=gp(this.remaining);o&&(r=o,this.capture(r))}t[Bu(n)]=Bu(r)}parseQueryParam(t){let n=w1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=E1(this.remaining);s&&(r=s,this.capture(r))}let o=m0(n),i=m0(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gp(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new xe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=je);let s=this.parseChildren();n[i??je]=Object.keys(s).length===1&&s[je]?s[je]:new et([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new xe(4011,!1)}};function N0(e){return e.segments.length>0?new et([],{[je]:e}):e}function R0(e){let t={};for(let[r,o]of Object.entries(e.children)){let i=R0(o);if(r===je&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}let n=new et(e.segments,t);return D1(n)}function D1(e){if(e.numberOfChildren===1&&e.children[je]){let t=e.children[je];return new et(e.segments.concat(t.segments),t.children)}return e}function qi(e){return e instanceof er}function O0(e,t,n=null,r=null){let o=k0(e);return P0(o,t,n,r)}function k0(e){let t;function n(i){let s={};for(let l of i.children){let u=n(l);s[l.outlet]=u}let a=new et(i.url,s);return i===e&&(t=a),a}let r=n(e.root),o=N0(r);return t??o}function P0(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return mp(o,o,o,n,r);let i=C1(t);if(i.toRoot())return mp(o,o,new et([],{}),n,r);let s=S1(i,o,e),a=s.processChildren?da(s.segmentGroup,s.index,i.commands):L0(s.segmentGroup,s.index,i.commands);return mp(o,s.segmentGroup,a,n,r)}function Vu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function pa(e){return typeof e=="object"&&e!=null&&e.outlets}function mp(e,t,n,r,o){let i={};r&&Object.entries(r).forEach(([l,u])=>{i[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;e===t?s=n:s=F0(e,t,n);let a=N0(R0(s));return new er(a,i,o)}function F0(e,t,n){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===t?r[o]=n:r[o]=F0(i,t,n)}),new et(e.segments,r)}var Uu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Vu(r[0]))throw new xe(4003,!1);let o=r.find(pa);if(o&&o!==C0(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function C1(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Uu(!0,0,e);let t=0,n=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Uu(n,t,r)}var zi=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function S1(e,t,n){if(e.isAbsolute)return new zi(t,!0,0);if(!n)return new zi(t,!1,NaN);if(n.parent===null)return new zi(n,!0,0);let r=Vu(e.commands[0])?0:1,o=n.segments.length-1+r;return I1(n,o,e.numberOfDoubleDots)}function I1(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new xe(4005,!1);o=r.segments.length}return new zi(r,!1,o-i)}function A1(e){return pa(e[0])?e[0].outlets:{[je]:e}}function L0(e,t,n){if(e??=new et([],{}),e.segments.length===0&&e.hasChildren())return da(e,t,n);let r=T1(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new et(e.segments.slice(0,r.pathIndex),{});return i.children[je]=new et(e.segments.slice(r.pathIndex),e.children),da(i,0,o)}else return r.match&&o.length===0?new et(e.segments,{}):r.match&&!e.hasChildren()?Dp(e,t,n):r.match?da(e,0,o):Dp(e,t,n)}function da(e,t,n){if(n.length===0)return new et(e.segments,{});{let r=A1(n),o={};if(Object.keys(r).some(i=>i!==je)&&e.children[je]&&e.numberOfChildren===1&&e.children[je].segments.length===0){let i=da(e.children[je],t,n);return new et(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=L0(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new et(e.segments,o)}}function T1(e,t,n){let r=0,o=t,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;let s=e.segments[o],a=n[r];if(pa(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!v0(l,u,s))return i;r+=2}else{if(!v0(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Dp(e,t,n){let r=e.segments.slice(0,t),o=0;for(;o<n.length;){let i=n[o];if(pa(i)){let l=M1(i.outlets);return new et(r,l)}if(o===0&&Vu(n[0])){let l=e.segments[t];r.push(new no(l.path,y0(n[0]))),o++;continue}let s=pa(i)?i.outlets[je]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Vu(a)?(r.push(new no(s,y0(a))),o+=2):(r.push(new no(s,{})),o++)}return new et(r,{})}function M1(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Dp(new et([],{}),0,r))}),t}function y0(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function v0(e,t,n){return e==n.path&&Jn(t,n.parameters)}var fa="imperative",Rt=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Rt||{}),bn=class{id;url;constructor(t,n){this.id=t,this.url=n}},qo=class extends bn{type=Rt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sr=class extends bn{urlAfterRedirects;type=Rt.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(en||{}),ga=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(ga||{}),Xn=class extends bn{reason;code;type=Rt.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends bn{reason;code;type=Rt.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}},Ki=class extends bn{error;target;type=Rt.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ma=class extends bn{urlAfterRedirects;state;type=Rt.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$u=class extends bn{urlAfterRedirects;state;type=Rt.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class extends bn{urlAfterRedirects;state;shouldActivate;type=Rt.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wu=class extends bn{urlAfterRedirects;state;type=Rt.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zu=class extends bn{urlAfterRedirects;state;type=Rt.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gu=class{route;type=Rt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qu=class{route;type=Rt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ku=class{snapshot;type=Rt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yu=class{snapshot;type=Rt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qu=class{snapshot;type=Rt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zu=class{snapshot;type=Rt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ya=class{},Yi=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function x1(e){return!(e instanceof ya)&&!(e instanceof Yi)}function N1(e,t){return e.providers&&!e._injector&&(e._injector=Xs(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ln(e){return e.outlet||je}function R1(e,t){let n=e.filter(r=>Ln(r)===t);return n.push(...e.filter(r=>Ln(r)!==t)),n}function Ji(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ju=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ji(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Xi(this.rootInjector)}},Xi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ju(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(He(Ft))};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Cp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Cp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Sp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Sp(t,this._root).map(n=>n.value)}};function Cp(e,t){if(e===t.value)return t;for(let n of t.children){let r=Cp(e,n);if(r)return r}return null}function Sp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Sp(e,n);if(r.length)return r.unshift(t),r}return[]}var vn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var va=class extends Xu{snapshot;constructor(t,n){super(t),this.snapshot=n,Op(this,t)}toString(){return this.snapshot.toString()}};function j0(e){let t=O1(e),n=new bt([new no("",{})]),r=new bt({}),o=new bt({}),i=new bt({}),s=new bt(""),a=new ro(n,r,i,s,o,je,e,t.root);return a.snapshot=t.root,new va(new vn(a,[]),t)}function O1(e){let t={},n={},r={},i=new Wo([],t,r,"",n,je,e,null,{});return new ba("",new vn(i,[]))}var ro=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ke(u=>u[Da]))??Fe(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ke(t=>zo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ke(t=>zo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ec(e,t,n="emptyOnly"){let r,{routeConfig:o}=e;return t!==null&&(n==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:be(be({},t.params),e.params),data:be(be({},t.data),e.data),resolve:be(be(be(be({},e.data),t.data),o?.data),e._resolvedData)}:r={params:be({},e.params),data:be({},e.data),resolve:be(be({},e.data),e._resolvedData??{})},o&&V0(o)&&(r.resolve[Da]=o.title),r}var Wo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Da]}constructor(t,n,r,o,i,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ba=class extends Xu{url;constructor(t,n){super(n),this.url=t,Op(this,n)}toString(){return B0(this._root)}};function Op(e,t){t.value._routerState=e,t.children.forEach(n=>Op(e,n))}function B0(e){let t=e.children.length>0?` { ${e.children.map(B0).join(", ")} } `:"";return`${e.value}${t}`}function yp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Jn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Jn(t.params,n.params)||e.paramsSubject.next(n.params),s1(t.url,n.url)||e.urlSubject.next(n.url),Jn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ip(e,t){let n=Jn(e.params,t.params)&&c1(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Ip(e.parent,t.parent))}function V0(e){return typeof e.title=="string"||e.title===null}var U0=new Ne(""),Sa=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=je;activateEvents=new st;deactivateEvents=new st;attachEvents=new st;detachEvents=new st;routerOutletData=Zn();parentContexts=we(Xi);location=we(Js);changeDetector=we(Ui);inputBinder=we(oc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new xe(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ap(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=an({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bo]})}return e})(),Ap=class{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===ro?this.route:t===Xi?this.childContexts:t===U0?this.outletData:this.parent.get(t,n)}},oc=new Ne("");var kp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=at({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&jt(0,"router-outlet")},dependencies:[Sa],encapsulation:2})}return e})();function Pp(e){let t=e.children&&e.children.map(Pp),n=t?Oe(be({},e),{children:t}):be({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==je&&(n.component=kp),n}function k1(e,t,n){let r=wa(e,t._root,n?n._root:void 0);return new va(r,t)}function wa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let o=P1(e,t,n);return new vn(r,o)}else{if(e.shouldAttach(t.value)){let i=e.retrieve(t.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>wa(e,a)),s}}let r=F1(t.value),o=t.children.map(i=>wa(e,i));return new vn(r,o)}}function P1(e,t,n){return t.children.map(r=>{for(let o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return wa(e,r,o);return wa(e,r)})}function F1(e){return new ro(new bt(e.url),new bt(e.params),new bt(e.queryParams),new bt(e.fragment),new bt(e.data),e.outlet,e.component,e)}var Qi=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},$0="ngNavigationCancelingError";function tc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=qi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=H0(!1,en.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function H0(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[$0]=!0,n.cancellationCode=t,n}function L1(e){return W0(e)&&qi(e.url)}function W0(e){return!!e&&e[$0]}var j1=(e,t,n,r)=>Ke(o=>(new Tp(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)),Tp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),yp(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let o=Wi(n);t.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Wi(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Wi(t);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let o=Wi(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Zu(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Yu(t.value.snapshot))}activateRoutes(t,n,r){let o=t.value,i=n?n.value:null;if(yp(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),yp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},nc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Gi=class{component;route;constructor(t,n){this.component=t,this.route=n}};function B1(e,t,n){let r=e._root,o=t?t._root:null;return ca(r,o,n,[r.value])}function V1(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function es(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Gd(e)?e:t.get(e):r}function ca(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Wi(t);return e.children.forEach(s=>{U1(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ha(a,n.getContext(s),o)),o}function U1(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=$1(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new nc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ca(e,t,a?a.children:null,r,o):ca(e,t,n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Gi(a.outlet.component,s))}else s&&ha(t,a,o),o.canActivateChecks.push(new nc(r)),i.component?ca(e,null,a?a.children:null,r,o):ca(e,null,n,r,o);return o}function $1(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ho(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ho(e.url,t.url)||!Jn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ip(e,t)||!Jn(e.queryParams,t.queryParams);case"paramsChange":default:return!Ip(e,t)}}function ha(e,t,n){let r=Wi(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?t?ha(s,t.children.getContext(i),n):ha(s,null,n):ha(s,t,n)}),o.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Gi(t.outlet.component,o)):n.canDeactivateChecks.push(new Gi(null,o)):n.canDeactivateChecks.push(new Gi(null,o))}function Ia(e){return typeof e=="function"}function H1(e){return typeof e=="boolean"}function W1(e){return e&&Ia(e.canLoad)}function z1(e){return e&&Ia(e.canActivate)}function G1(e){return e&&Ia(e.canActivateChild)}function q1(e){return e&&Ia(e.canDeactivate)}function K1(e){return e&&Ia(e.canMatch)}function z0(e){return e instanceof ar||e?.name==="EmptyError"}var Fu=Symbol("INITIAL_VALUE");function Zi(){return on(e=>Sl(e.map(t=>t.pipe(lr(1),Rd(Fu)))).pipe(Ke(t=>{for(let n of t)if(n!==!0){if(n===Fu)return Fu;if(n===!1||Y1(n))return n}return!0}),wn(t=>t!==Fu),lr(1)))}function Y1(e){return qi(e)||e instanceof Qi}function Q1(e,t){return Ct(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?Fe(Oe(be({},n),{guardsResult:!0})):Z1(s,r,o,e).pipe(Ct(a=>a&&H1(a)?J1(r,i,e,t):Fe(a)),Ke(a=>Oe(be({},n),{guardsResult:a})))})}function Z1(e,t,n,r){return ft(e).pipe(Ct(o=>rx(o.component,o.route,n,t,r)),ur(o=>o!==!0,!0))}function J1(e,t,n,r){return ft(t).pipe(bi(o=>vi(ex(o.route.parent,r),X1(o.route,r),nx(e,o.path,n),tx(e,o.route,n))),ur(o=>o!==!0,!0))}function X1(e,t){return e!==null&&t&&t(new Qu(e)),Fe(!0)}function ex(e,t){return e!==null&&t&&t(new Ku(e)),Fe(!0)}function tx(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return Fe(!0);let o=r.map(i=>Es(()=>{let s=Ji(t)??n,a=es(i,s),l=z1(a)?a.canActivate(t,e):Jt(s,()=>a(t,e));return Ar(l).pipe(ur())}));return Fe(o).pipe(Zi())}function nx(e,t,n){let r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>V1(s)).filter(s=>s!==null).map(s=>Es(()=>{let a=s.guards.map(l=>{let u=Ji(s.node)??n,c=es(l,u),d=G1(c)?c.canActivateChild(r,e):Jt(u,()=>c(r,e));return Ar(d).pipe(ur())});return Fe(a).pipe(Zi())}));return Fe(i).pipe(Zi())}function rx(e,t,n,r,o){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return Fe(!0);let s=i.map(a=>{let l=Ji(t)??o,u=es(a,l),c=q1(u)?u.canDeactivate(e,t,n,r):Jt(l,()=>u(e,t,n,r));return Ar(c).pipe(ur())});return Fe(s).pipe(Zi())}function ox(e,t,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return Fe(!0);let i=o.map(s=>{let a=es(s,e),l=W1(a)?a.canLoad(t,n):Jt(e,()=>a(t,n));return Ar(l)});return Fe(i).pipe(Zi(),G0(r))}function G0(e){return Cd(It(t=>{if(typeof t!="boolean")throw tc(e,t)}),Ke(t=>t===!0))}function ix(e,t,n,r){let o=t.canMatch;if(!o||o.length===0)return Fe(!0);let i=o.map(s=>{let a=es(s,e),l=K1(a)?a.canMatch(t,n):Jt(e,()=>a(t,n));return Ar(l)});return Fe(i).pipe(Zi(),G0(r))}var _a=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ea=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Hi(e){return yi(new _a(e))}function sx(e){return yi(new xe(4e3,!1))}function ax(e){return yi(H0(!1,en.GuardRejected))}var Mp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return Fe(r);if(o.numberOfChildren>1||!o.children[je])return sx(`${t.redirectTo}`);o=o.children[je]}}applyRedirectCommands(t,n,r,o,i){return lx(n,o,i).pipe(Ke(s=>{if(s instanceof er)throw new Ea(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Ea(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){let i=this.createSegmentGroup(t,n.root,r,o);return new er(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){let i=this.createSegments(t,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new et(i,s)}createSegments(t,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){let o=r[n.path.substring(1)];if(!o)throw new xe(4001,!1);return o}findOrReturn(t,n){let r=0;for(let o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}};function lx(e,t,n){if(typeof e=="string")return Fe(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:u,data:c,title:d}=t;return Ar(Jt(n,()=>r({params:u,data:c,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:d})))}var xp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ux(e,t,n,r,o){let i=q0(e,t,n);return i.matched?(r=N1(t,r),ix(r,t,n,o).pipe(Ke(s=>s===!0?i:be({},xp)))):Fe(i)}function q0(e,t,n){if(t.path==="**")return cx(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?be({},xp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(t.matcher||E0)(n,e,t);if(!o)return be({},xp);let i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});let s=o.consumed.length>0?be(be({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function cx(e){return{matched:!0,parameters:e.length>0?C0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function b0(e,t,n,r){return n.length>0&&hx(e,n,r)?{segmentGroup:new et(t,fx(r,new et(n,e.children))),slicedSegments:[]}:n.length===0&&px(e,n,r)?{segmentGroup:new et(e.segments,dx(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new et(e.segments,e.children),slicedSegments:n}}function dx(e,t,n,r){let o={};for(let i of n)if(ic(e,t,i)&&!r[Ln(i)]){let s=new et([],{});o[Ln(i)]=s}return be(be({},r),o)}function fx(e,t){let n={};n[je]=t;for(let r of e)if(r.path===""&&Ln(r)!==je){let o=new et([],{});n[Ln(r)]=o}return n}function hx(e,t,n){return n.some(r=>ic(e,t,r)&&Ln(r)!==je)}function px(e,t,n){return n.some(r=>ic(e,t,r))}function ic(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gx(e,t,n){return t.length===0&&!e.children[n]}var Np=class{};function mx(e,t,n,r,o,i,s="emptyOnly"){return new Rp(e,t,n,r,o,s,i).recognize()}var yx=31,Rp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mp(this.urlSerializer,this.urlTree)}noMatchError(t){return new xe(4002,`'${t.segmentGroup}'`)}recognize(){let t=b0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ke(({children:n,rootSnapshot:r})=>{let o=new vn(r,n),i=new ba("",o),s=O0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){let n=new Wo([],Object.freeze({}),Object.freeze(be({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),je,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,je,n).pipe(Ke(r=>({children:r,rootSnapshot:n})),Vr(r=>{if(r instanceof Ea)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _a?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(Ke(s=>s instanceof vn?[s]:[]))}processChildren(t,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ft(i).pipe(bi(s=>{let a=r.children[s],l=R1(n,s);return this.processSegmentGroup(t,l,a,s,o)}),Nd((s,a)=>(s.push(...a),s)),Ur(null),xd(),Ct(s=>{if(s===null)return Hi(r);let a=K0(s);return vx(a),Fe(a)}))}processSegment(t,n,r,o,i,s,a){return ft(n).pipe(bi(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,o,i,s,a).pipe(Vr(u=>{if(u instanceof _a)return Fe(null);throw u}))),ur(l=>!!l),Vr(l=>{if(z0(l))return gx(r,o,i)?Fe(new Np):Hi(r);throw l}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,l){return Ln(r)!==s&&(s===je||!ic(o,i,r))?Hi(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,l):Hi(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){let{matched:l,parameters:u,consumedSegments:c,positionalParamSegments:d,remainingSegments:f}=q0(n,o,i);if(!l)return Hi(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yx&&(this.allowRedirects=!1));let h=new Wo(i,u,Object.freeze(be({},this.urlTree.queryParams)),this.urlTree.fragment,w0(o),Ln(o),o.component??o._loadedComponent??null,o,_0(o)),v=ec(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(v.params),h.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(c,o.redirectTo,d,h,t).pipe(on(m=>this.applyRedirects.lineralizeSegments(o,m)),Ct(m=>this.processSegment(t,r,n,m.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){let a=ux(n,r,o,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(on(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,o).pipe(on(({routes:u})=>{let c=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,v=new Wo(f,d,Object.freeze(be({},this.urlTree.queryParams)),this.urlTree.fragment,w0(r),Ln(r),r.component??r._loadedComponent??null,r,_0(r)),g=ec(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(g.params),v.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:b}=b0(n,f,h,u);if(b.length===0&&m.hasChildren())return this.processChildren(c,u,m,v).pipe(Ke(_=>new vn(v,_)));if(u.length===0&&b.length===0)return Fe(new vn(v,[]));let y=Ln(r)===i;return this.processSegment(c,u,m,b,y?je:i,!0,v).pipe(Ke(_=>new vn(v,_ instanceof vn?[_]:[])))}))):Hi(n)))}getChildConfig(t,n,r){return n.children?Fe({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Fe({routes:n._loadedRoutes,injector:n._loadedInjector}):ox(t,n,r,this.urlSerializer).pipe(Ct(o=>o?this.configLoader.loadChildren(t,n).pipe(It(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):ax(n))):Fe({routes:[],injector:t})}};function vx(e){e.sort((t,n)=>t.value.outlet===je?-1:n.value.outlet===je?1:t.value.outlet.localeCompare(n.value.outlet))}function bx(e){let t=e.value.routeConfig;return t&&t.path===""}function K0(e){let t=[],n=new Set;for(let r of e){if(!bx(r)){t.push(r);continue}let o=t.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):t.push(r)}for(let r of n){let o=K0(r.children);t.push(new vn(r.value,o))}return t.filter(r=>!n.has(r))}function w0(e){return e.data||{}}function _0(e){return e.resolve||{}}function _x(e,t,n,r,o,i){return Ct(s=>mx(e,t,n,r,s.extractedUrl,o,i).pipe(Ke(({state:a,tree:l})=>Oe(be({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Ex(e,t){return Ct(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Fe(n);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let u of Y0(l))s.add(u);let a=0;return ft(s).pipe(bi(l=>i.has(l)?Dx(l,r,e,t):(l.data=ec(l,l.parent,e).resolve,Fe(void 0))),It(()=>a++),wi(1),Ct(l=>a===s.size?Fe(n):nn))})}function Y0(e){let t=e.children.map(n=>Y0(n)).flat();return[e,...t]}function Dx(e,t,n,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!V0(o)&&(i[Da]=o.title),Es(()=>(e.data=ec(e,e.parent,n).resolve,Cx(i,e,t,r).pipe(Ke(s=>(e._resolvedData=s,e.data=be(be({},e.data),s),null)))))}function Cx(e,t,n,r){let o=wp(e);if(o.length===0)return Fe({});let i={};return ft(o).pipe(Ct(s=>Sx(e[s],t,n,r).pipe(ur(),It(a=>{if(a instanceof Qi)throw tc(new Go,a);i[s]=a}))),wi(1),Ke(()=>i),Vr(s=>z0(s)?nn:yi(s)))}function Sx(e,t,n,r){let o=Ji(t)??r,i=es(e,o),s=i.resolve?i.resolve(t,n):Jt(o,()=>i(t,n));return Ar(s)}function vp(e){return on(t=>{let n=e(t);return n?ft(n).pipe(Ke(()=>t)):Fe(t)})}var Fp=(()=>{class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===je);return r}getResolvedTitleForRoute(n){return n.data[Da]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>we(Q0),providedIn:"root"})}return e})(),Q0=(()=>{class e extends Fp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(He(p0))};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Aa=new Ne("",{providedIn:"root",factory:()=>({})}),Ta=new Ne(""),Z0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=we(Yh);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Fe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Ar(Jt(n,()=>r.loadComponent())).pipe(Ke(X0),on(e_),It(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ds(()=>{this.componentLoaders.delete(r)})),i=new mi(o,()=>new ht).pipe(gi());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Fe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=J0(r,this.compiler,n,this.onLoadEndListener).pipe(Ds(()=>{this.childrenLoaders.delete(r)})),s=new mi(i,()=>new ht).pipe(gi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function J0(e,t,n,r){return Ar(Jt(n,()=>e.loadChildren())).pipe(Ke(X0),on(e_),Ct(o=>o instanceof Su||Array.isArray(o)?Fe(o):ft(t.compileModuleAsync(o))),Ke(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(Ta,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pp),injector:i}}))}function Ix(e){return e&&typeof e=="object"&&"default"in e}function X0(e){return Ix(e)?e.default:e}function e_(e){return Fe(e)}var sc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>we(Ax),providedIn:"root"})}return e})(),Ax=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),t_=new Ne("");var n_=new Ne(""),r_=(()=>{class e{currentNavigation=In(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ht;transitionAbortWithErrorSubject=new ht;configLoader=we(Z0);environmentInjector=we(Ft);destroyRef=we(Qr);urlSerializer=we(Ca);rootContexts=we(Xi);location=we($i);inputBindingEnabled=we(oc,{optional:!0})!==null;titleStrategy=we(Fp);options=we(Aa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=we(sc);createViewTransition=we(t_,{optional:!0});navigationErrorHandler=we(n_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Fe(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Gu(o)),r=o=>this.events.next(new qu(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Wt(()=>{this.transitions?.next(Oe(be({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new bt(null),this.transitions.pipe(wn(r=>r!==null),on(r=>{let o=!1;return Fe(r).pipe(on(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",en.SupersededByNewNavigation),nn;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?Oe(be({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Ir(i.id,this.urlSerializer.serialize(i.rawUrl),"",ga.IgnoredSameUrlNavigation)),i.resolve(!1),nn;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return Fe(i).pipe(on(l=>(this.events.next(new qo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?nn:Promise.resolve(l))),_x(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),It(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(c=>(c.finalUrl=l.urlAfterRedirects,c));let u=new ma(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:l,extractedUrl:u,source:c,restoredState:d,extras:f}=i,h=new qo(l,this.urlSerializer.serialize(u),c,d);this.events.next(h);let v=j0(this.rootComponentType).snapshot;return this.currentTransition=r=Oe(be({},i),{targetSnapshot:v,urlAfterRedirects:u,extras:Oe(be({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(g=>(g.finalUrl=u,g)),Fe(r)}else return this.events.next(new Ir(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ga.IgnoredByUrlHandlingStrategy)),i.resolve(!1),nn}),It(i=>{let s=new $u(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),Ke(i=>(this.currentTransition=r=Oe(be({},i),{guards:B1(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),Q1(this.environmentInjector,i=>this.events.next(i)),It(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw tc(this.urlSerializer,i.guardsResult);let s=new Hu(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),wn(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",en.GuardRejected),!1)),vp(i=>{if(i.guards.canActivateChecks.length!==0)return Fe(i).pipe(It(s=>{let a=new Wu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),on(s=>{let a=!1;return Fe(s).pipe(Ex(this.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",en.NoDataFromResolver)}}))}),It(s=>{let a=new zu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),vp(i=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let u=Ji(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(It(c=>{a.component=c}),Ke(()=>{})))}for(let u of a.children)l.push(...s(u));return l};return Sl(s(i.targetSnapshot.root)).pipe(Ur(null),lr(1))}),vp(()=>this.afterPreactivation()),on(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?ft(a).pipe(Ke(()=>r)):Fe(r)}),Ke(i=>{let s=k1(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=Oe(be({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),It(()=>{this.events.next(new ya)}),j1(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),lr(1),$r(new Ye(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(wn(()=>!o&&!r.targetRouterState),It(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",en.Aborted)}))),It({next:i=>{o=!0,this.lastSuccessfulNavigation=Wt(this.currentNavigation),this.events.next(new Sr(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),$r(this.transitionAbortWithErrorSubject.pipe(It(i=>{throw i}))),Ds(()=>{o||this.cancelNavigationTransition(r,"",en.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Vr(i=>{if(this.destroyed)return r.resolve(!1),nn;if(o=!0,W0(i))this.events.next(new Xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),L1(i)?this.events.next(new Yi(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ki(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Jt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Qi){let{message:l,cancellationCode:u}=tc(this.urlSerializer,a);this.events.next(new Xn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Yi(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return nn}))}))}cancelNavigationTransition(n,r,o){let i=new Xn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Wt(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Tx(e){return e!==fa}var o_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>we(Mx),providedIn:"root"})}return e})(),rc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Mx=(()=>{class e extends rc{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Fi(e)))(o||e)}})();static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),i_=(()=>{class e{urlSerializer=we(Ca);options=we(Aa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=we($i);urlHandlingStrategy=we(sc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new er;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof er?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=j0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:()=>we(xx),providedIn:"root"})}return e})(),xx=(()=>{class e extends i_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof qo?this.updateStateMemento():n instanceof Ir?this.commitTransition(r):n instanceof ma?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ya?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Xn&&n.code!==en.SupersededByNewNavigation&&n.code!==en.Redirect?this.restoreHistory(r):n instanceof Ki?this.restoreHistory(r,!0):n instanceof Sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,l=be(be({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",l)}else{let a=be(be({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Fi(e)))(o||e)}})();static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lp(e,t){e.events.pipe(wn(n=>n instanceof Sr||n instanceof Xn||n instanceof Ki||n instanceof Ir),Ke(n=>n instanceof Sr||n instanceof Ir?0:(n instanceof Xn?n.code===en.Redirect||n.code===en.SupersededByNewNavigation:!1)?2:1),wn(n=>n!==2),lr(1)).subscribe(()=>{t()})}var Nx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ac=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=we(Uh);stateManager=we(i_);options=we(Aa,{optional:!0})||{};pendingTasks=we(yr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=we(r_);urlSerializer=we(Ca);location=we($i);urlHandlingStrategy=we(sc);injector=we(Ft);_events=new ht;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=we(o_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=we(Ta,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!we(oc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new vt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Wt(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Xn&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Sr)this.navigated=!0;else if(r instanceof Yi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=be({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Tx(o.source)},s);this.scheduleNavigation(a,fa,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}x1(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=be({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(Sn)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Wt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Pp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,c=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":c=be(be({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let f=o?o.snapshot:this.routerState.snapshot.root;d=k0(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return P0(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=qi(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,fa,null,r)}navigate(n,r={skipLocationChange:!1}){return Ox(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(As(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=be({},Nx):r===!1?o=be({},Rx):o=r,qi(n))return g0(this.currentUrlTree,n,o);let i=this.parseUrl(n);return g0(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,l=f});let c=this.pendingTasks.add();return Lp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ox(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new xe(4008,!1)}var Fx=new Ne("");function jp(e,...t){return So([{provide:Ta,multi:!0,useValue:e},[],{provide:ro,useFactory:Lx,deps:[ac]},{provide:Iu,multi:!0,useFactory:jx},t.map(n=>n.\u0275providers)])}function Lx(e){return e.routerState.root}function jx(){let e=we(Nn);return t=>{let n=e.get(eo);if(t!==n.components[0])return;let r=e.get(ac),o=e.get(Bx);e.get(Vx)===1&&r.initialNavigation(),e.get(Ux,null,{optional:!0})?.setUpPreloading(),e.get(Fx,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Bx=new Ne("",{factory:()=>new ht}),Vx=new Ne("",{providedIn:"root",factory:()=>1});var Ux=new Ne("");var oo=class e{type=Zn("submit");text=Zn("Modifier");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-btn-primary"]],inputs:{type:[1,"type"],text:[1,"text"]},decls:2,vars:3,consts:[[1,"px-4","py-2","w-full","text-sm","cursor-pointer","text-slate-300","border","border-slate-300","font-semibold","rounded-lg","shadow-md","hover:bg-slate-950","hover:text-slate-300","focus:outline-none","transition",3,"type"]],template:function(n,r){n&1&&(xt(0,"button",0),Je(1),Nt()),n&2&&(Bi("type",Gh(r.type())),Ue(),Bt(r.text()))},encapsulation:2})};var lc=class e{text=Zn("carte-piece");icon=Zn("bi bi-plus");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-carte-piece"]],inputs:{text:[1,"text"],icon:[1,"icon"]},decls:3,vars:4,consts:[[1,"mb-3","px-4","py-2","w-full","cursor-pointer","flex","items-center","justify-center","gap-2","text-slate-300","border","border-slate-300","font-semibold","rounded-lg","hover:bg-slate-950","hover:text-slate-300"]],template:function(n,r){n&1&&(xt(0,"button",0),ji(1,"i"),Je(2),Nt()),n&2&&(Ue(),zh(qh("",r.icon()," text-2xl")),Ue(),Bt(r.text()))},encapsulation:2})};var Hx=(e,t)=>t.id;function Wx(e,t){e&1&&(We(0,"p",2),Je(1,"Aucune pi\xE8ce d\xE9tect\xE9e"),Ge())}function zx(e,t){if(e&1){let n=ln();We(0,"app-carte-piece",4),mt("click",function(){let o=_t(n).$implicit,i=nt();return Et(i.selectPiece(o))}),Ge()}if(e&2){let n=t.$implicit,r=nt();$o("active",n===r.pieceActive),Mt("text",r.formatString(n.nom)||"Pas de pi\xE8ce")("icon","bi bi-box-fill")}}var uc=class e{pieces=[];pieceSelected=new st;pieceActive;selectPiece(t){this.pieceActive=t,this.pieceSelected.emit(t)}formatString(t){if(!t)return;let n=t.substring(0,1),r=t.substring(1);return n.toUpperCase()+r}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-pieces"]],inputs:{pieces:"pieces"},outputs:{pieceSelected:"pieceSelected"},decls:6,vars:1,consts:[[1,"p-4","border","border-slate-300","rounded-lg","overflow-auto","max-h-[75%]"],[1,"text-2xl","mb-3","text-slate-300"],[1,"text-slate-300","mb-3"],[3,"text","icon","active"],[3,"click","text","icon"]],template:function(n,r){n&1&&(We(0,"div",0)(1,"h2",1),Je(2,"Pi\xE8ces"),Ge(),$t(3,Wx,2,0,"p",2),Er(4,zx,1,4,"app-carte-piece",3,Hx),Ge()),n&2&&(Ue(3),Ht(r.pieces.length===0?3:-1),Ue(),Dr(r.pieces))},dependencies:[lc],encapsulation:2})};var Bm=Object.defineProperty,Gx=Object.getOwnPropertyDescriptor,qx=Object.getOwnPropertyNames,Kx=Object.prototype.hasOwnProperty,cn=(e,t)=>()=>(e&&(t=e(e=0)),t),he=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),os=(e,t)=>{for(var n in t)Bm(e,n,{get:t[n],enumerable:!0})},Yx=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qx(t))!Kx.call(e,o)&&o!==n&&Bm(e,o,{get:()=>t[o],enumerable:!(r=Gx(t,o))||r.enumerable});return e},rt=e=>Yx(Bm({},"__esModule",{value:!0}),e),ue=cn(()=>{}),it={};os(it,{_debugEnd:()=>_g,_debugProcess:()=>wg,_events:()=>Fg,_eventsCount:()=>Lg,_exiting:()=>sg,_fatalExceptions:()=>yg,_getActiveHandles:()=>_E,_getActiveRequests:()=>wE,_kill:()=>ug,_linkedBinding:()=>vE,_maxListeners:()=>Pg,_preload_modules:()=>Og,_rawDebug:()=>rg,_startProfilerIdleNotifier:()=>Eg,_stopProfilerIdleNotifier:()=>Dg,_tickCallback:()=>bg,abort:()=>Ag,addListener:()=>jg,allowedNodeEnvironmentFlags:()=>gg,arch:()=>Hp,argv:()=>Gp,argv0:()=>Rg,assert:()=>EE,binding:()=>Zp,browser:()=>ng,chdir:()=>eg,config:()=>ag,cpuUsage:()=>Ma,cwd:()=>Xp,debugPort:()=>Ng,default:()=>Um,dlopen:()=>bE,domain:()=>ig,emit:()=>Hg,emitWarning:()=>Qp,env:()=>zp,execArgv:()=>qp,execPath:()=>xg,exit:()=>hg,features:()=>mg,hasUncaughtExceptionCaptureCallback:()=>DE,hrtime:()=>fc,kill:()=>fg,listeners:()=>SE,memoryUsage:()=>dg,moduleLoadList:()=>og,nextTick:()=>mE,off:()=>Vg,on:()=>Tr,once:()=>Bg,openStdin:()=>pg,pid:()=>Tg,platform:()=>Wp,ppid:()=>Mg,prependListener:()=>Wg,prependOnceListener:()=>zg,reallyExit:()=>lg,release:()=>tg,removeAllListeners:()=>$g,removeListener:()=>Ug,resourceUsage:()=>cg,setSourceMapsEnabled:()=>kg,setUncaughtExceptionCaptureCallback:()=>vg,stderr:()=>Sg,stdin:()=>Ig,stdout:()=>Cg,title:()=>$p,umask:()=>Jp,uptime:()=>CE,version:()=>Kp,versions:()=>Yp});function Vm(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Qx(){!Qo||!Ko||(Qo=!1,Ko.length?tr=Ko.concat(tr):Oa=-1,tr.length&&gE())}function gE(){if(!Qo){var e=setTimeout(Qx,0);Qo=!0;for(var t=tr.length;t;){for(Ko=tr,tr=[];++Oa<t;)Ko&&Ko[Oa].run();Oa=-1,t=tr.length}Ko=null,Qo=!1,clearTimeout(e)}}function mE(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];tr.push(new yE(e,t)),tr.length===1&&!Qo&&setTimeout(gE,0)}function yE(e,t){this.fun=e,this.array=t}function zt(){}function vE(e){Vm("_linkedBinding")}function bE(e){Vm("dlopen")}function wE(){return[]}function _E(){return[]}function EE(e,t){if(!e)throw new Error(t||"assertion error")}function DE(){return!1}function CE(){return xr.now()/1e3}function fc(e){var t=Math.floor((Date.now()-xr.now())*.001),n=xr.now()*.001,r=Math.floor(n)+t,o=Math.floor(n%1*1e9);return e&&(r=r-e[0],o=o-e[1],o<0&&(r--,o+=hc)),[r,o]}function Tr(){return Um}function SE(e){return[]}var tr,Qo,Ko,Oa,$p,Hp,Wp,zp,Gp,qp,Kp,Yp,Qp,Zp,Jp,Xp,eg,tg,ng,rg,og,ig,sg,ag,lg,ug,Ma,cg,dg,fg,hg,pg,gg,mg,yg,vg,bg,wg,_g,Eg,Dg,Cg,Sg,Ig,Ag,Tg,Mg,xg,Ng,Rg,Og,kg,xr,Bp,hc,Pg,Fg,Lg,jg,Bg,Vg,Ug,$g,Hg,Wg,zg,Um,Zx=cn(()=>{ue(),de(),ce(),tr=[],Qo=!1,Oa=-1,yE.prototype.run=function(){this.fun.apply(null,this.array)},$p="browser",Hp="x64",Wp="browser",zp={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},Gp=["/usr/bin/node"],qp=[],Kp="v16.8.0",Yp={},Qp=function(e,t){console.warn((t?t+": ":"")+e)},Zp=function(e){Vm("binding")},Jp=function(e){return 0},Xp=function(){return"/"},eg=function(e){},tg={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},ng=!0,rg=zt,og=[],ig={},sg=!1,ag={},lg=zt,ug=zt,Ma=function(){return{}},cg=Ma,dg=Ma,fg=zt,hg=zt,pg=zt,gg={},mg={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},yg=zt,vg=zt,bg=zt,wg=zt,_g=zt,Eg=zt,Dg=zt,Cg=void 0,Sg=void 0,Ig=void 0,Ag=zt,Tg=2,Mg=1,xg="/bin/usr/node",Ng=9229,Rg="node",Og=[],kg=zt,xr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},xr.now===void 0&&(Bp=Date.now(),xr.timing&&xr.timing.navigationStart&&(Bp=xr.timing.navigationStart),xr.now=()=>Date.now()-Bp),hc=1e9,fc.bigint=function(e){var t=fc(e);return typeof BigInt>"u"?t[0]*hc+t[1]:BigInt(t[0]*hc)+BigInt(t[1])},Pg=10,Fg={},Lg=0,jg=Tr,Bg=Tr,Vg=Tr,Ug=Tr,$g=Tr,Hg=zt,Wg=Tr,zg=Tr,Um={version:Kp,versions:Yp,arch:Hp,platform:Wp,browser:ng,release:tg,_rawDebug:rg,moduleLoadList:og,binding:Zp,_linkedBinding:vE,_events:Fg,_eventsCount:Lg,_maxListeners:Pg,on:Tr,addListener:jg,once:Bg,off:Vg,removeListener:Ug,removeAllListeners:$g,emit:Hg,prependListener:Wg,prependOnceListener:zg,listeners:SE,domain:ig,_exiting:sg,config:ag,dlopen:bE,uptime:CE,_getActiveRequests:wE,_getActiveHandles:_E,reallyExit:lg,_kill:ug,cpuUsage:Ma,resourceUsage:cg,memoryUsage:dg,kill:fg,exit:hg,openStdin:pg,allowedNodeEnvironmentFlags:gg,assert:EE,features:mg,_fatalExceptions:yg,setUncaughtExceptionCaptureCallback:vg,hasUncaughtExceptionCaptureCallback:DE,emitWarning:Qp,nextTick:mE,_tickCallback:bg,_debugProcess:wg,_debugEnd:_g,_startProfilerIdleNotifier:Eg,_stopProfilerIdleNotifier:Dg,stdout:Cg,stdin:Ig,stderr:Sg,abort:Ag,umask:Jp,chdir:eg,cwd:Xp,env:zp,title:$p,argv:Gp,execArgv:qp,pid:Tg,ppid:Mg,execPath:xg,debugPort:Ng,hrtime:fc,argv0:Rg,_preload_modules:Og,setSourceMapsEnabled:kg}}),ce=cn(()=>{Zx()});function Jx(){if(Gg)return ts;Gg=!0,ts.byteLength=a,ts.toByteArray=u,ts.fromByteArray=f;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)e[o]=r[o],t[r.charCodeAt(o)]=o;t[45]=62,t[95]=63;function s(h){var v=h.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");g===-1&&(g=v);var m=g===v?0:4-g%4;return[g,m]}function a(h){var v=s(h),g=v[0],m=v[1];return(g+m)*3/4-m}function l(h,v,g){return(v+g)*3/4-g}function u(h){var v,g=s(h),m=g[0],b=g[1],y=new n(l(h,m,b)),_=0,D=b>0?m-4:m,w;for(w=0;w<D;w+=4)v=t[h.charCodeAt(w)]<<18|t[h.charCodeAt(w+1)]<<12|t[h.charCodeAt(w+2)]<<6|t[h.charCodeAt(w+3)],y[_++]=v>>16&255,y[_++]=v>>8&255,y[_++]=v&255;return b===2&&(v=t[h.charCodeAt(w)]<<2|t[h.charCodeAt(w+1)]>>4,y[_++]=v&255),b===1&&(v=t[h.charCodeAt(w)]<<10|t[h.charCodeAt(w+1)]<<4|t[h.charCodeAt(w+2)]>>2,y[_++]=v>>8&255,y[_++]=v&255),y}function c(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}function d(h,v,g){for(var m,b=[],y=v;y<g;y+=3)m=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(h[y+2]&255),b.push(c(m));return b.join("")}function f(h){for(var v,g=h.length,m=g%3,b=[],y=16383,_=0,D=g-m;_<D;_+=y)b.push(d(h,_,_+y>D?D:_+y));return m===1?(v=h[g-1],b.push(e[v>>2]+e[v<<4&63]+"==")):m===2&&(v=(h[g-2]<<8)+h[g-1],b.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),b.join("")}return ts}function Xx(){return qg?xa:(qg=!0,xa.read=function(e,t,n,r,o){var i,s,a=o*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=i*256+e[t+d],d+=f,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=s*256+e[t+d],d+=f,c-=8);if(i===0)i=1-u;else{if(i===l)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-u}return(h?-1:1)*s*Math.pow(2,i-r)},xa.write=function(e,t,n,r,o,i){var s,a,l,u=i*8-o-1,c=(1<<u)-1,d=c>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,v=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,o),s=s+d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=a&255,h+=v,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+h]=s&255,h+=v,s/=256,u-=8);e[n+h-v]|=g*128},xa)}function eN(){if(Kg)return so;Kg=!0;let e=Jx(),t=Xx(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;so.Buffer=s,so.SlowBuffer=b,so.INSPECT_MAX_BYTES=50;let r=2147483647;so.kMaxLength=r,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let p=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(p,E),p.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function i(p){if(p>r)throw new RangeError('The value "'+p+'" is invalid for option "size"');let E=new Uint8Array(p);return Object.setPrototypeOf(E,s.prototype),E}function s(p,E,I){if(typeof p=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(p)}return a(p,E,I)}s.poolSize=8192;function a(p,E,I){if(typeof p=="string")return d(p,E);if(ArrayBuffer.isView(p))return h(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if($(p,ArrayBuffer)||p&&$(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($(p,SharedArrayBuffer)||p&&$(p.buffer,SharedArrayBuffer)))return v(p,E,I);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let U=p.valueOf&&p.valueOf();if(U!=null&&U!==p)return s.from(U,E,I);let W=g(p);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return s.from(p[Symbol.toPrimitive]("string"),E,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}s.from=function(p,E,I){return a(p,E,I)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function u(p,E,I){return l(p),p<=0?i(p):E!==void 0?typeof I=="string"?i(p).fill(E,I):i(p).fill(E):i(p)}s.alloc=function(p,E,I){return u(p,E,I)};function c(p){return l(p),i(p<0?0:m(p)|0)}s.allocUnsafe=function(p){return c(p)},s.allocUnsafeSlow=function(p){return c(p)};function d(p,E){if((typeof E!="string"||E==="")&&(E="utf8"),!s.isEncoding(E))throw new TypeError("Unknown encoding: "+E);let I=y(p,E)|0,U=i(I),W=U.write(p,E);return W!==I&&(U=U.slice(0,W)),U}function f(p){let E=p.length<0?0:m(p.length)|0,I=i(E);for(let U=0;U<E;U+=1)I[U]=p[U]&255;return I}function h(p){if($(p,Uint8Array)){let E=new Uint8Array(p);return v(E.buffer,E.byteOffset,E.byteLength)}return f(p)}function v(p,E,I){if(E<0||p.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<E+(I||0))throw new RangeError('"length" is outside of buffer bounds');let U;return E===void 0&&I===void 0?U=new Uint8Array(p):I===void 0?U=new Uint8Array(p,E):U=new Uint8Array(p,E,I),Object.setPrototypeOf(U,s.prototype),U}function g(p){if(s.isBuffer(p)){let E=m(p.length)|0,I=i(E);return I.length===0||p.copy(I,0,0,E),I}if(p.length!==void 0)return typeof p.length!="number"||le(p.length)?i(0):f(p);if(p.type==="Buffer"&&Array.isArray(p.data))return f(p.data)}function m(p){if(p>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return p|0}function b(p){return+p!=p&&(p=0),s.alloc(+p)}s.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==s.prototype},s.compare=function(p,E){if($(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),$(E,Uint8Array)&&(E=s.from(E,E.offset,E.byteLength)),!s.isBuffer(p)||!s.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===E)return 0;let I=p.length,U=E.length;for(let W=0,ie=Math.min(I,U);W<ie;++W)if(p[W]!==E[W]){I=p[W],U=E[W];break}return I<U?-1:U<I?1:0},s.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(p,E){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return s.alloc(0);let I;if(E===void 0)for(E=0,I=0;I<p.length;++I)E+=p[I].length;let U=s.allocUnsafe(E),W=0;for(I=0;I<p.length;++I){let ie=p[I];if($(ie,Uint8Array))W+ie.length>U.length?(s.isBuffer(ie)||(ie=s.from(ie)),ie.copy(U,W)):Uint8Array.prototype.set.call(U,ie,W);else if(s.isBuffer(ie))ie.copy(U,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=ie.length}return U};function y(p,E){if(s.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||$(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);let I=p.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&I===0)return 0;let W=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return j(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return fe(p).length;default:if(W)return U?-1:j(p).length;E=(""+E).toLowerCase(),W=!0}}s.byteLength=y;function _(p,E,I){let U=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,E>>>=0,I<=E))return"";for(p||(p="utf8");;)switch(p){case"hex":return z(this,E,I);case"utf8":case"utf-8":return V(this,E,I);case"ascii":return oe(this,E,I);case"latin1":case"binary":return X(this,E,I);case"base64":return T(this,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,E,I);default:if(U)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),U=!0}}s.prototype._isBuffer=!0;function D(p,E,I){let U=p[E];p[E]=p[I],p[I]=U}s.prototype.swap16=function(){let p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<p;E+=2)D(this,E,E+1);return this},s.prototype.swap32=function(){let p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<p;E+=4)D(this,E,E+3),D(this,E+1,E+2);return this},s.prototype.swap64=function(){let p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<p;E+=8)D(this,E,E+7),D(this,E+1,E+6),D(this,E+2,E+5),D(this,E+3,E+4);return this},s.prototype.toString=function(){let p=this.length;return p===0?"":arguments.length===0?V(this,0,p):_.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(p){if(!s.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:s.compare(this,p)===0},s.prototype.inspect=function(){let p="",E=so.INSPECT_MAX_BYTES;return p=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(p+=" ... "),"<Buffer "+p+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(p,E,I,U,W){if($(p,Uint8Array)&&(p=s.from(p,p.offset,p.byteLength)),!s.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(E===void 0&&(E=0),I===void 0&&(I=p?p.length:0),U===void 0&&(U=0),W===void 0&&(W=this.length),E<0||I>p.length||U<0||W>this.length)throw new RangeError("out of range index");if(U>=W&&E>=I)return 0;if(U>=W)return-1;if(E>=I)return 1;if(E>>>=0,I>>>=0,U>>>=0,W>>>=0,this===p)return 0;let ie=W-U,_e=I-E,K=Math.min(ie,_e),ne=this.slice(U,W),Te=p.slice(E,I);for(let Me=0;Me<K;++Me)if(ne[Me]!==Te[Me]){ie=ne[Me],_e=Te[Me];break}return ie<_e?-1:_e<ie?1:0};function w(p,E,I,U,W){if(p.length===0)return-1;if(typeof I=="string"?(U=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,le(I)&&(I=W?0:p.length-1),I<0&&(I=p.length+I),I>=p.length){if(W)return-1;I=p.length-1}else if(I<0)if(W)I=0;else return-1;if(typeof E=="string"&&(E=s.from(E,U)),s.isBuffer(E))return E.length===0?-1:C(p,E,I,U,W);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(p,E,I):Uint8Array.prototype.lastIndexOf.call(p,E,I):C(p,[E],I,U,W);throw new TypeError("val must be string, number or Buffer")}function C(p,E,I,U,W){let ie=1,_e=p.length,K=E.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(p.length<2||E.length<2)return-1;ie=2,_e/=2,K/=2,I/=2}function ne(Me,Le){return ie===1?Me[Le]:Me.readUInt16BE(Le*ie)}let Te;if(W){let Me=-1;for(Te=I;Te<_e;Te++)if(ne(p,Te)===ne(E,Me===-1?0:Te-Me)){if(Me===-1&&(Me=Te),Te-Me+1===K)return Me*ie}else Me!==-1&&(Te-=Te-Me),Me=-1}else for(I+K>_e&&(I=_e-K),Te=I;Te>=0;Te--){let Me=!0;for(let Le=0;Le<K;Le++)if(ne(p,Te+Le)!==ne(E,Le)){Me=!1;break}if(Me)return Te}return-1}s.prototype.includes=function(p,E,I){return this.indexOf(p,E,I)!==-1},s.prototype.indexOf=function(p,E,I){return w(this,p,E,I,!0)},s.prototype.lastIndexOf=function(p,E,I){return w(this,p,E,I,!1)};function S(p,E,I,U){I=Number(I)||0;let W=p.length-I;U?(U=Number(U),U>W&&(U=W)):U=W;let ie=E.length;U>ie/2&&(U=ie/2);let _e;for(_e=0;_e<U;++_e){let K=parseInt(E.substr(_e*2,2),16);if(le(K))return _e;p[I+_e]=K}return _e}function A(p,E,I,U){return ye(j(E,p.length-I),p,I,U)}function N(p,E,I,U){return ye(Z(E),p,I,U)}function R(p,E,I,U){return ye(fe(E),p,I,U)}function F(p,E,I,U){return ye(se(E,p.length-I),p,I,U)}s.prototype.write=function(p,E,I,U){if(E===void 0)U="utf8",I=this.length,E=0;else if(I===void 0&&typeof E=="string")U=E,I=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(I)?(I=I>>>0,U===void 0&&(U="utf8")):(U=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let W=this.length-E;if((I===void 0||I>W)&&(I=W),p.length>0&&(I<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");let ie=!1;for(;;)switch(U){case"hex":return S(this,p,E,I);case"utf8":case"utf-8":return A(this,p,E,I);case"ascii":case"latin1":case"binary":return N(this,p,E,I);case"base64":return R(this,p,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,p,E,I);default:if(ie)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),ie=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(p,E,I){return E===0&&I===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(E,I))}function V(p,E,I){I=Math.min(p.length,I);let U=[],W=E;for(;W<I;){let ie=p[W],_e=null,K=ie>239?4:ie>223?3:ie>191?2:1;if(W+K<=I){let ne,Te,Me,Le;switch(K){case 1:ie<128&&(_e=ie);break;case 2:ne=p[W+1],(ne&192)===128&&(Le=(ie&31)<<6|ne&63,Le>127&&(_e=Le));break;case 3:ne=p[W+1],Te=p[W+2],(ne&192)===128&&(Te&192)===128&&(Le=(ie&15)<<12|(ne&63)<<6|Te&63,Le>2047&&(Le<55296||Le>57343)&&(_e=Le));break;case 4:ne=p[W+1],Te=p[W+2],Me=p[W+3],(ne&192)===128&&(Te&192)===128&&(Me&192)===128&&(Le=(ie&15)<<18|(ne&63)<<12|(Te&63)<<6|Me&63,Le>65535&&Le<1114112&&(_e=Le))}}_e===null?(_e=65533,K=1):_e>65535&&(_e-=65536,U.push(_e>>>10&1023|55296),_e=56320|_e&1023),U.push(_e),W+=K}return L(U)}let H=4096;function L(p){let E=p.length;if(E<=H)return String.fromCharCode.apply(String,p);let I="",U=0;for(;U<E;)I+=String.fromCharCode.apply(String,p.slice(U,U+=H));return I}function oe(p,E,I){let U="";I=Math.min(p.length,I);for(let W=E;W<I;++W)U+=String.fromCharCode(p[W]&127);return U}function X(p,E,I){let U="";I=Math.min(p.length,I);for(let W=E;W<I;++W)U+=String.fromCharCode(p[W]);return U}function z(p,E,I){let U=p.length;(!E||E<0)&&(E=0),(!I||I<0||I>U)&&(I=U);let W="";for(let ie=E;ie<I;++ie)W+=Ce[p[ie]];return W}function re(p,E,I){let U=p.slice(E,I),W="";for(let ie=0;ie<U.length-1;ie+=2)W+=String.fromCharCode(U[ie]+U[ie+1]*256);return W}s.prototype.slice=function(p,E){let I=this.length;p=~~p,E=E===void 0?I:~~E,p<0?(p+=I,p<0&&(p=0)):p>I&&(p=I),E<0?(E+=I,E<0&&(E=0)):E>I&&(E=I),E<p&&(E=p);let U=this.subarray(p,E);return Object.setPrototypeOf(U,s.prototype),U};function B(p,E,I){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+E>I)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(p,E,I){p=p>>>0,E=E>>>0,I||B(p,E,this.length);let U=this[p],W=1,ie=0;for(;++ie<E&&(W*=256);)U+=this[p+ie]*W;return U},s.prototype.readUintBE=s.prototype.readUIntBE=function(p,E,I){p=p>>>0,E=E>>>0,I||B(p,E,this.length);let U=this[p+--E],W=1;for(;E>0&&(W*=256);)U+=this[p+--E]*W;return U},s.prototype.readUint8=s.prototype.readUInt8=function(p,E){return p=p>>>0,E||B(p,1,this.length),this[p]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(p,E){return p=p>>>0,E||B(p,2,this.length),this[p]|this[p+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(p,E){return p=p>>>0,E||B(p,2,this.length),this[p]<<8|this[p+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(p,E){return p=p>>>0,E||B(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(p,E){return p=p>>>0,E||B(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},s.prototype.readBigUInt64LE=me(function(p){p=p>>>0,Q(p,"offset");let E=this[p],I=this[p+7];(E===void 0||I===void 0)&&ve(p,this.length-8);let U=E+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,W=this[++p]+this[++p]*2**8+this[++p]*2**16+I*2**24;return BigInt(U)+(BigInt(W)<<BigInt(32))}),s.prototype.readBigUInt64BE=me(function(p){p=p>>>0,Q(p,"offset");let E=this[p],I=this[p+7];(E===void 0||I===void 0)&&ve(p,this.length-8);let U=E*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],W=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+I;return(BigInt(U)<<BigInt(32))+BigInt(W)}),s.prototype.readIntLE=function(p,E,I){p=p>>>0,E=E>>>0,I||B(p,E,this.length);let U=this[p],W=1,ie=0;for(;++ie<E&&(W*=256);)U+=this[p+ie]*W;return W*=128,U>=W&&(U-=Math.pow(2,8*E)),U},s.prototype.readIntBE=function(p,E,I){p=p>>>0,E=E>>>0,I||B(p,E,this.length);let U=E,W=1,ie=this[p+--U];for(;U>0&&(W*=256);)ie+=this[p+--U]*W;return W*=128,ie>=W&&(ie-=Math.pow(2,8*E)),ie},s.prototype.readInt8=function(p,E){return p=p>>>0,E||B(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},s.prototype.readInt16LE=function(p,E){p=p>>>0,E||B(p,2,this.length);let I=this[p]|this[p+1]<<8;return I&32768?I|4294901760:I},s.prototype.readInt16BE=function(p,E){p=p>>>0,E||B(p,2,this.length);let I=this[p+1]|this[p]<<8;return I&32768?I|4294901760:I},s.prototype.readInt32LE=function(p,E){return p=p>>>0,E||B(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},s.prototype.readInt32BE=function(p,E){return p=p>>>0,E||B(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},s.prototype.readBigInt64LE=me(function(p){p=p>>>0,Q(p,"offset");let E=this[p],I=this[p+7];(E===void 0||I===void 0)&&ve(p,this.length-8);let U=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(I<<24);return(BigInt(U)<<BigInt(32))+BigInt(E+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),s.prototype.readBigInt64BE=me(function(p){p=p>>>0,Q(p,"offset");let E=this[p],I=this[p+7];(E===void 0||I===void 0)&&ve(p,this.length-8);let U=(E<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(U)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+I)}),s.prototype.readFloatLE=function(p,E){return p=p>>>0,E||B(p,4,this.length),t.read(this,p,!0,23,4)},s.prototype.readFloatBE=function(p,E){return p=p>>>0,E||B(p,4,this.length),t.read(this,p,!1,23,4)},s.prototype.readDoubleLE=function(p,E){return p=p>>>0,E||B(p,8,this.length),t.read(this,p,!0,52,8)},s.prototype.readDoubleBE=function(p,E){return p=p>>>0,E||B(p,8,this.length),t.read(this,p,!1,52,8)};function ee(p,E,I,U,W,ie){if(!s.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>W||E<ie)throw new RangeError('"value" argument is out of bounds');if(I+U>p.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(p,E,I,U){if(p=+p,E=E>>>0,I=I>>>0,!U){let _e=Math.pow(2,8*I)-1;ee(this,p,E,I,_e,0)}let W=1,ie=0;for(this[E]=p&255;++ie<I&&(W*=256);)this[E+ie]=p/W&255;return E+I},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(p,E,I,U){if(p=+p,E=E>>>0,I=I>>>0,!U){let _e=Math.pow(2,8*I)-1;ee(this,p,E,I,_e,0)}let W=I-1,ie=1;for(this[E+W]=p&255;--W>=0&&(ie*=256);)this[E+W]=p/ie&255;return E+I},s.prototype.writeUint8=s.prototype.writeUInt8=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,1,255,0),this[E]=p&255,E+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,2,65535,0),this[E]=p&255,this[E+1]=p>>>8,E+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,2,65535,0),this[E]=p>>>8,this[E+1]=p&255,E+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,4,4294967295,0),this[E+3]=p>>>24,this[E+2]=p>>>16,this[E+1]=p>>>8,this[E]=p&255,E+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,4,4294967295,0),this[E]=p>>>24,this[E+1]=p>>>16,this[E+2]=p>>>8,this[E+3]=p&255,E+4};function x(p,E,I,U,W){q(E,U,W,p,I,7);let ie=Number(E&BigInt(4294967295));p[I++]=ie,ie=ie>>8,p[I++]=ie,ie=ie>>8,p[I++]=ie,ie=ie>>8,p[I++]=ie;let _e=Number(E>>BigInt(32)&BigInt(4294967295));return p[I++]=_e,_e=_e>>8,p[I++]=_e,_e=_e>>8,p[I++]=_e,_e=_e>>8,p[I++]=_e,I}function Y(p,E,I,U,W){q(E,U,W,p,I,7);let ie=Number(E&BigInt(4294967295));p[I+7]=ie,ie=ie>>8,p[I+6]=ie,ie=ie>>8,p[I+5]=ie,ie=ie>>8,p[I+4]=ie;let _e=Number(E>>BigInt(32)&BigInt(4294967295));return p[I+3]=_e,_e=_e>>8,p[I+2]=_e,_e=_e>>8,p[I+1]=_e,_e=_e>>8,p[I]=_e,I+8}s.prototype.writeBigUInt64LE=me(function(p,E=0){return x(this,p,E,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=me(function(p,E=0){return Y(this,p,E,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(p,E,I,U){if(p=+p,E=E>>>0,!U){let K=Math.pow(2,8*I-1);ee(this,p,E,I,K-1,-K)}let W=0,ie=1,_e=0;for(this[E]=p&255;++W<I&&(ie*=256);)p<0&&_e===0&&this[E+W-1]!==0&&(_e=1),this[E+W]=(p/ie>>0)-_e&255;return E+I},s.prototype.writeIntBE=function(p,E,I,U){if(p=+p,E=E>>>0,!U){let K=Math.pow(2,8*I-1);ee(this,p,E,I,K-1,-K)}let W=I-1,ie=1,_e=0;for(this[E+W]=p&255;--W>=0&&(ie*=256);)p<0&&_e===0&&this[E+W+1]!==0&&(_e=1),this[E+W]=(p/ie>>0)-_e&255;return E+I},s.prototype.writeInt8=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,1,127,-128),p<0&&(p=255+p+1),this[E]=p&255,E+1},s.prototype.writeInt16LE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,2,32767,-32768),this[E]=p&255,this[E+1]=p>>>8,E+2},s.prototype.writeInt16BE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,2,32767,-32768),this[E]=p>>>8,this[E+1]=p&255,E+2},s.prototype.writeInt32LE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,4,2147483647,-2147483648),this[E]=p&255,this[E+1]=p>>>8,this[E+2]=p>>>16,this[E+3]=p>>>24,E+4},s.prototype.writeInt32BE=function(p,E,I){return p=+p,E=E>>>0,I||ee(this,p,E,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[E]=p>>>24,this[E+1]=p>>>16,this[E+2]=p>>>8,this[E+3]=p&255,E+4},s.prototype.writeBigInt64LE=me(function(p,E=0){return x(this,p,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=me(function(p,E=0){return Y(this,p,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(p,E,I,U,W,ie){if(I+U>p.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function te(p,E,I,U,W){return E=+E,I=I>>>0,W||ge(p,E,I,4),t.write(p,E,I,U,23,4),I+4}s.prototype.writeFloatLE=function(p,E,I){return te(this,p,E,!0,I)},s.prototype.writeFloatBE=function(p,E,I){return te(this,p,E,!1,I)};function Ee(p,E,I,U,W){return E=+E,I=I>>>0,W||ge(p,E,I,8),t.write(p,E,I,U,52,8),I+8}s.prototype.writeDoubleLE=function(p,E,I){return Ee(this,p,E,!0,I)},s.prototype.writeDoubleBE=function(p,E,I){return Ee(this,p,E,!1,I)},s.prototype.copy=function(p,E,I,U){if(!s.isBuffer(p))throw new TypeError("argument should be a Buffer");if(I||(I=0),!U&&U!==0&&(U=this.length),E>=p.length&&(E=p.length),E||(E=0),U>0&&U<I&&(U=I),U===I||p.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),p.length-E<U-I&&(U=p.length-E+I);let W=U-I;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,I,U):Uint8Array.prototype.set.call(p,this.subarray(I,U),E),W},s.prototype.fill=function(p,E,I,U){if(typeof p=="string"){if(typeof E=="string"?(U=E,E=0,I=this.length):typeof I=="string"&&(U=I,I=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!s.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(p.length===1){let ie=p.charCodeAt(0);(U==="utf8"&&ie<128||U==="latin1")&&(p=ie)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(E<0||this.length<E||this.length<I)throw new RangeError("Out of range index");if(I<=E)return this;E=E>>>0,I=I===void 0?this.length:I>>>0,p||(p=0);let W;if(typeof p=="number")for(W=E;W<I;++W)this[W]=p;else{let ie=s.isBuffer(p)?p:s.from(p,U),_e=ie.length;if(_e===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(W=0;W<I-E;++W)this[W+E]=ie[W%_e]}return this};let G={};function P(p,E,I){G[p]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(U){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:U,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}P("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(p,E){return`The "${p}" argument must be of type number. Received type ${typeof E}`},TypeError),P("ERR_OUT_OF_RANGE",function(p,E,I){let U=`The value of "${p}" is out of range.`,W=I;return Number.isInteger(I)&&Math.abs(I)>2**32?W=ae(String(I)):typeof I=="bigint"&&(W=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(W=ae(W)),W+="n"),U+=` It must be ${E}. Received ${W}`,U},RangeError);function ae(p){let E="",I=p.length,U=p[0]==="-"?1:0;for(;I>=U+4;I-=3)E=`_${p.slice(I-3,I)}${E}`;return`${p.slice(0,I)}${E}`}function J(p,E,I){Q(E,"offset"),(p[E]===void 0||p[E+I]===void 0)&&ve(E,p.length-(I+1))}function q(p,E,I,U,W,ie){if(p>I||p<E){let _e=typeof E=="bigint"?"n":"",K;throw E===0||E===BigInt(0)?K=`>= 0${_e} and < 2${_e} ** ${(ie+1)*8}${_e}`:K=`>= -(2${_e} ** ${(ie+1)*8-1}${_e}) and < 2 ** ${(ie+1)*8-1}${_e}`,new G.ERR_OUT_OF_RANGE("value",K,p)}J(U,W,ie)}function Q(p,E){if(typeof p!="number")throw new G.ERR_INVALID_ARG_TYPE(E,"number",p)}function ve(p,E,I){throw Math.floor(p)!==p?(Q(p,I),new G.ERR_OUT_OF_RANGE("offset","an integer",p)):E<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,p)}let pe=/[^+/0-9A-Za-z-_]/g;function O(p){if(p=p.split("=")[0],p=p.trim().replace(pe,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function j(p,E){E=E||1/0;let I,U=p.length,W=null,ie=[];for(let _e=0;_e<U;++_e){if(I=p.charCodeAt(_e),I>55295&&I<57344){if(!W){if(I>56319){(E-=3)>-1&&ie.push(239,191,189);continue}else if(_e+1===U){(E-=3)>-1&&ie.push(239,191,189);continue}W=I;continue}if(I<56320){(E-=3)>-1&&ie.push(239,191,189),W=I;continue}I=(W-55296<<10|I-56320)+65536}else W&&(E-=3)>-1&&ie.push(239,191,189);if(W=null,I<128){if((E-=1)<0)break;ie.push(I)}else if(I<2048){if((E-=2)<0)break;ie.push(I>>6|192,I&63|128)}else if(I<65536){if((E-=3)<0)break;ie.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((E-=4)<0)break;ie.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return ie}function Z(p){let E=[];for(let I=0;I<p.length;++I)E.push(p.charCodeAt(I)&255);return E}function se(p,E){let I,U,W,ie=[];for(let _e=0;_e<p.length&&!((E-=2)<0);++_e)I=p.charCodeAt(_e),U=I>>8,W=I%256,ie.push(W),ie.push(U);return ie}function fe(p){return e.toByteArray(O(p))}function ye(p,E,I,U){let W;for(W=0;W<U&&!(W+I>=E.length||W>=p.length);++W)E[W+I]=p[W];return W}function $(p,E){return p instanceof E||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===E.name}function le(p){return p!==p}let Ce=(function(){let p="0123456789abcdef",E=new Array(256);for(let I=0;I<16;++I){let U=I*16;for(let W=0;W<16;++W)E[U+W]=p[I]+p[W]}return E})();function me(p){return typeof BigInt>"u"?Ie:p}function Ie(){throw new Error("BigInt not supported")}return so}var ts,Gg,xa,qg,so,Kg,tN=cn(()=>{ue(),de(),ce(),ts={},Gg=!1,xa={},qg=!1,so={},Kg=!1}),Ot={};os(Ot,{Buffer:()=>Lc,INSPECT_MAX_BYTES:()=>IE,default:()=>Mr,kMaxLength:()=>AE});var Mr,Lc,IE,AE,kt=cn(()=>{ue(),de(),ce(),tN(),Mr=eN(),Mr.Buffer,Mr.SlowBuffer,Mr.INSPECT_MAX_BYTES,Mr.kMaxLength,Lc=Mr.Buffer,IE=Mr.INSPECT_MAX_BYTES,AE=Mr.kMaxLength}),de=cn(()=>{kt()}),dt=he((e,t)=>{"use strict";ue(),de(),ce();var n=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let o="";for(let i=0;i<r.length;i++)o+=`    ${r[i].stack}
`;super(o),this.name="AggregateError",this.errors=r}};t.exports={AggregateError:n,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,o){return r.includes(o)},ArrayPrototypeIndexOf(r,o){return r.indexOf(o)},ArrayPrototypeJoin(r,o){return r.join(o)},ArrayPrototypeMap(r,o){return r.map(o)},ArrayPrototypePop(r,o){return r.pop(o)},ArrayPrototypePush(r,o){return r.push(o)},ArrayPrototypeSlice(r,o,i){return r.slice(o,i)},Error,FunctionPrototypeCall(r,o,...i){return r.call(o,...i)},FunctionPrototypeSymbolHasInstance(r,o){return Function.prototype[Symbol.hasInstance].call(r,o)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,o){return Object.defineProperties(r,o)},ObjectDefineProperty(r,o,i){return Object.defineProperty(r,o,i)},ObjectGetOwnPropertyDescriptor(r,o){return Object.getOwnPropertyDescriptor(r,o)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,o){return Object.setPrototypeOf(r,o)},Promise,PromisePrototypeCatch(r,o){return r.catch(o)},PromisePrototypeThen(r,o,i){return r.then(o,i)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,o){return r.test(o)},SafeSet:Set,String,StringPrototypeSlice(r,o,i){return r.slice(o,i)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,o,i){return r.set(o,i)},Boolean,Uint8Array}}),TE=he((e,t)=>{"use strict";ue(),de(),ce(),t.exports={format(n,...r){return n.replace(/%([sdifj])/g,function(...[o,i]){let s=r.shift();return i==="f"?s.toFixed(6):i==="j"?JSON.stringify(s):i==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}}),tn=he((e,t)=>{"use strict";ue(),de(),ce();var{format:n,inspect:r}=TE(),{AggregateError:o}=dt(),i=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",c={};function d(y,_){if(!y)throw new c.ERR_INTERNAL_ASSERTION(_)}function f(y){let _="",D=y.length,w=y[0]==="-"?1:0;for(;D>=w+4;D-=3)_=`_${y.slice(D-3,D)}${_}`;return`${y.slice(0,D)}${_}`}function h(y,_,D){if(typeof _=="function")return d(_.length<=D.length,`Code: ${y}; The provided arguments length (${D.length}) does not match the required ones (${_.length}).`),_(...D);let w=(_.match(/%[dfijoOs]/g)||[]).length;return d(w===D.length,`Code: ${y}; The provided arguments length (${D.length}) does not match the required ones (${w}).`),D.length===0?_:n(_,...D)}function v(y,_,D){D||(D=Error);class w extends D{constructor(...S){super(h(y,_,S))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(w.prototype,{name:{value:D.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),w.prototype.code=y,w.prototype[s]=!0,c[y]=w}function g(y){let _=u+y.name;return Object.defineProperty(y,"name",{value:_}),y}function m(y,_){if(y&&_&&y!==_){if(Array.isArray(_.errors))return _.errors.push(y),_;let D=new i([_,y],_.message);return D.code=_.code,D}return y||_}var b=class extends Error{constructor(y="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",_);super(y,_),this.code="ABORT_ERR",this.name="AbortError"}};v("ERR_ASSERTION","%s",Error),v("ERR_INVALID_ARG_TYPE",(y,_,D)=>{d(typeof y=="string","'name' must be a string"),Array.isArray(_)||(_=[_]);let w="The ";y.endsWith(" argument")?w+=`${y} `:w+=`"${y}" ${y.includes(".")?"property":"argument"} `,w+="must be ";let C=[],S=[],A=[];for(let R of _)d(typeof R=="string","All expected entries have to be of type string"),a.includes(R)?C.push(R.toLowerCase()):l.test(R)?S.push(R):(d(R!=="object",'The value "object" should be written as "Object"'),A.push(R));if(S.length>0){let R=C.indexOf("object");R!==-1&&(C.splice(C,R,1),S.push("Object"))}if(C.length>0){switch(C.length){case 1:w+=`of type ${C[0]}`;break;case 2:w+=`one of type ${C[0]} or ${C[1]}`;break;default:{let R=C.pop();w+=`one of type ${C.join(", ")}, or ${R}`}}(S.length>0||A.length>0)&&(w+=" or ")}if(S.length>0){switch(S.length){case 1:w+=`an instance of ${S[0]}`;break;case 2:w+=`an instance of ${S[0]} or ${S[1]}`;break;default:{let R=S.pop();w+=`an instance of ${S.join(", ")}, or ${R}`}}A.length>0&&(w+=" or ")}switch(A.length){case 0:break;case 1:A[0].toLowerCase()!==A[0]&&(w+="an "),w+=`${A[0]}`;break;case 2:w+=`one of ${A[0]} or ${A[1]}`;break;default:{let R=A.pop();w+=`one of ${A.join(", ")}, or ${R}`}}if(D==null)w+=`. Received ${D}`;else if(typeof D=="function"&&D.name)w+=`. Received function ${D.name}`;else if(typeof D=="object"){var N;if((N=D.constructor)!==null&&N!==void 0&&N.name)w+=`. Received an instance of ${D.constructor.name}`;else{let R=r(D,{depth:-1});w+=`. Received ${R}`}}else{let R=r(D,{colors:!1});R.length>25&&(R=`${R.slice(0,25)}...`),w+=`. Received type ${typeof D} (${R})`}return w},TypeError),v("ERR_INVALID_ARG_VALUE",(y,_,D="is invalid")=>{let w=r(_);return w.length>128&&(w=w.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${D}. Received ${w}`},TypeError),v("ERR_INVALID_RETURN_VALUE",(y,_,D)=>{var w;let C=D!=null&&(w=D.constructor)!==null&&w!==void 0&&w.name?`instance of ${D.constructor.name}`:`type ${typeof D}`;return`Expected ${y} to be returned from the "${_}" function but got ${C}.`},TypeError),v("ERR_MISSING_ARGS",(...y)=>{d(y.length>0,"At least one arg needs to be specified");let _,D=y.length;switch(y=(Array.isArray(y)?y:[y]).map(w=>`"${w}"`).join(" or "),D){case 1:_+=`The ${y[0]} argument`;break;case 2:_+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let w=y.pop();_+=`The ${y.join(", ")}, and ${w} arguments`}break}return`${_} must be specified`},TypeError),v("ERR_OUT_OF_RANGE",(y,_,D)=>{d(_,'Missing "range" argument');let w;if(Number.isInteger(D)&&Math.abs(D)>2**32)w=f(String(D));else if(typeof D=="bigint"){w=String(D);let C=BigInt(2)**BigInt(32);(D>C||D<-C)&&(w=f(w)),w+="n"}else w=r(D);return`The value of "${y}" is out of range. It must be ${_}. Received ${w}`},RangeError),v("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),v("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),v("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),v("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),v("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),v("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),v("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),v("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),v("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),v("ERR_STREAM_WRITE_AFTER_END","write after end",Error),v("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:b,aggregateTwoErrors:g(m),hideStackFrames:g,codes:c}}),Pa=he((e,t)=>{"use strict";ue(),de(),ce();var{AbortController:n,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=n,t.exports.AbortSignal=r,t.exports.default=n}),uo={};os(uo,{EventEmitter:()=>ME,default:()=>ns,defaultMaxListeners:()=>xE,init:()=>NE,listenerCount:()=>RE,on:()=>OE,once:()=>kE});function nN(){if(Yg)return Na;Yg=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(D,w,C){return Function.prototype.apply.call(D,w,C)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:n=function(D){return Object.getOwnPropertyNames(D)};function r(D){console&&console.warn&&console.warn(D)}var o=Number.isNaN||function(D){return D!==D};function i(){i.init.call(this)}Na=i,Na.once=b,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(D){if(typeof D!="number"||D<0||o(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");s=D}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||o(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function l(D){return D._maxListeners===void 0?i.defaultMaxListeners:D._maxListeners}i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(D){for(var w=[],C=1;C<arguments.length;C++)w.push(arguments[C]);var S=D==="error",A=this._events;if(A!==void 0)S=S&&A.error===void 0;else if(!S)return!1;if(S){var N;if(w.length>0&&(N=w[0]),N instanceof Error)throw N;var R=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw R.context=N,R}var F=A[D];if(F===void 0)return!1;if(typeof F=="function")t(F,this,w);else for(var T=F.length,V=v(F,T),C=0;C<T;++C)t(V[C],this,w);return!0};function u(D,w,C,S){var A,N,R;if(a(C),N=D._events,N===void 0?(N=D._events=Object.create(null),D._eventsCount=0):(N.newListener!==void 0&&(D.emit("newListener",w,C.listener?C.listener:C),N=D._events),R=N[w]),R===void 0)R=N[w]=C,++D._eventsCount;else if(typeof R=="function"?R=N[w]=S?[C,R]:[R,C]:S?R.unshift(C):R.push(C),A=l(D),A>0&&R.length>A&&!R.warned){R.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=D,F.type=w,F.count=R.length,r(F)}return D}i.prototype.addListener=function(D,w){return u(this,D,w,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(D,w){return u(this,D,w,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(D,w,C){var S={fired:!1,wrapFn:void 0,target:D,type:w,listener:C},A=c.bind(S);return A.listener=C,S.wrapFn=A,A}i.prototype.once=function(D,w){return a(w),this.on(D,d(this,D,w)),this},i.prototype.prependOnceListener=function(D,w){return a(w),this.prependListener(D,d(this,D,w)),this},i.prototype.removeListener=function(D,w){var C,S,A,N,R;if(a(w),S=this._events,S===void 0)return this;if(C=S[D],C===void 0)return this;if(C===w||C.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete S[D],S.removeListener&&this.emit("removeListener",D,C.listener||w));else if(typeof C!="function"){for(A=-1,N=C.length-1;N>=0;N--)if(C[N]===w||C[N].listener===w){R=C[N].listener,A=N;break}if(A<0)return this;A===0?C.shift():g(C,A),C.length===1&&(S[D]=C[0]),S.removeListener!==void 0&&this.emit("removeListener",D,R||w)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(D){var w,C,S;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[D]),this;if(arguments.length===0){var A=Object.keys(C),N;for(S=0;S<A.length;++S)N=A[S],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=C[D],typeof w=="function")this.removeListener(D,w);else if(w!==void 0)for(S=w.length-1;S>=0;S--)this.removeListener(D,w[S]);return this};function f(D,w,C){var S=D._events;if(S===void 0)return[];var A=S[w];return A===void 0?[]:typeof A=="function"?C?[A.listener||A]:[A]:C?m(A):v(A,A.length)}i.prototype.listeners=function(D){return f(this,D,!0)},i.prototype.rawListeners=function(D){return f(this,D,!1)},i.listenerCount=function(D,w){return typeof D.listenerCount=="function"?D.listenerCount(w):h.call(D,w)},i.prototype.listenerCount=h;function h(D){var w=this._events;if(w!==void 0){var C=w[D];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(D,w){for(var C=new Array(w),S=0;S<w;++S)C[S]=D[S];return C}function g(D,w){for(;w+1<D.length;w++)D[w]=D[w+1];D.pop()}function m(D){for(var w=new Array(D.length),C=0;C<w.length;++C)w[C]=D[C].listener||D[C];return w}function b(D,w){return new Promise(function(C,S){function A(R){D.removeListener(w,N),S(R)}function N(){typeof D.removeListener=="function"&&D.removeListener("error",A),C([].slice.call(arguments))}_(D,w,N,{once:!0}),w!=="error"&&y(D,A,{once:!0})})}function y(D,w,C){typeof D.on=="function"&&_(D,"error",w,C)}function _(D,w,C,S){if(typeof D.on=="function")S.once?D.once(w,C):D.on(w,C);else if(typeof D.addEventListener=="function")D.addEventListener(w,function A(N){S.once&&D.removeEventListener(w,A),C(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}return Na}var Na,Yg,ns,ME,xE,NE,RE,OE,kE,Jo=cn(()=>{ue(),de(),ce(),Na={},Yg=!1,ns=nN(),ns.once,ns.once=function(e,t){return new Promise((n,r)=>{function o(...s){i!==void 0&&e.removeListener("error",i),n(s)}let i;t!=="error"&&(i=s=>{e.removeListener(name,o),r(s)},e.once("error",i)),e.once(t,o)})},ns.on=function(e,t){let n=[],r=[],o=null,i=!1,s={next(){return Xe(this,null,function*(){let c=n.shift();if(c)return createIterResult(c,!1);if(o){let d=Promise.reject(o);return o=null,d}return i?createIterResult(void 0,!0):new Promise((d,f)=>r.push({resolve:d,reject:f}))})},return(){return Xe(this,null,function*(){e.removeListener(t,a),e.removeListener("error",l),i=!0;for(let c of r)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)})},throw(c){o=c,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...c){let d=r.shift();d?d.resolve(createIterResult(c,!1)):n.push(c)}function l(c){i=!0;let d=r.shift();d?d.reject(c):o=c,s.return()}},{EventEmitter:ME,defaultMaxListeners:xE,init:NE,listenerCount:RE,on:OE,once:kE}=ns}),un=he((e,t)=>{"use strict";ue(),de(),ce();var n=(kt(),rt(Ot)),{format:r,inspect:o}=TE(),{codes:{ERR_INVALID_ARG_TYPE:i}}=tn(),{kResistStopPropagation:s,AggregateError:a,SymbolDispose:l}=dt(),u=globalThis.AbortSignal||Pa().AbortSignal,c=globalThis.AbortController||Pa().AbortController,d=Object.getPrototypeOf(function(){return Xe(this,null,function*(){})}).constructor,f=globalThis.Blob||n.Blob,h=typeof f<"u"?function(m){return m instanceof f}:function(m){return!1},v=(m,b)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new i(b,"AbortSignal",m)},g=(m,b)=>{if(typeof m!="function")throw new i(b,"Function",m)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(m){let b=!1;return function(...y){b||(b=!0,m.apply(this,y))}},createDeferredPromise:function(){let m,b;return{promise:new Promise((y,_)=>{m=y,b=_}),resolve:m,reject:b}},promisify(m){return new Promise((b,y)=>{m((_,...D)=>_?y(_):b(...D))})},debuglog(){return function(){}},format:r,inspect:o,types:{isAsyncFunction(m){return m instanceof d},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:h,deprecate(m,b){return m},addAbortListener:(Jo(),rt(uo)).addAbortListener||function(m,b){if(m===void 0)throw new i("signal","AbortSignal",m);v(m,"signal"),g(b,"listener");let y;return m.aborted?queueMicrotask(()=>b()):(m.addEventListener("abort",b,{__proto__:null,once:!0,[s]:!0}),y=()=>{m.removeEventListener("abort",b)}),{__proto__:null,[l](){var _;(_=y)===null||_===void 0||_()}}},AbortSignalAny:u.any||function(m){if(m.length===1)return m[0];let b=new c,y=()=>b.abort();return m.forEach(_=>{v(_,"signals"),_.addEventListener("abort",y,{once:!0})}),b.signal.addEventListener("abort",()=>{m.forEach(_=>_.removeEventListener("abort",y))},{once:!0}),b.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Fa=he((e,t)=>{"use strict";ue(),de(),ce();var{ArrayIsArray:n,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:o,ArrayPrototypeMap:i,NumberIsInteger:s,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:c,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:h,StringPrototypeToUpperCase:v,StringPrototypeTrim:g}=dt(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:D,ERR_UNKNOWN_SIGNAL:w}}=tn(),{normalizeEncoding:C}=un(),{isAsyncFunction:S,isArrayBufferView:A}=un().types,N={};function R($){return $===($|0)}function F($){return $===$>>>0}var T=/^[0-7]+$/,V="must be a 32-bit unsigned integer or an octal string";function H($,le,Ce){if(typeof $>"u"&&($=Ce),typeof $=="string"){if(f(T,$)===null)throw new _(le,$,V);$=c($,8)}return X($,le),$}var L=m(($,le,Ce=u,me=l)=>{if(typeof $!="number")throw new y(le,"number",$);if(!s($))throw new D(le,"an integer",$);if($<Ce||$>me)throw new D(le,`>= ${Ce} && <= ${me}`,$)}),oe=m(($,le,Ce=-2147483648,me=2147483647)=>{if(typeof $!="number")throw new y(le,"number",$);if(!s($))throw new D(le,"an integer",$);if($<Ce||$>me)throw new D(le,`>= ${Ce} && <= ${me}`,$)}),X=m(($,le,Ce=!1)=>{if(typeof $!="number")throw new y(le,"number",$);if(!s($))throw new D(le,"an integer",$);let me=Ce?1:0,Ie=4294967295;if($<me||$>Ie)throw new D(le,`>= ${me} && <= ${Ie}`,$)});function z($,le){if(typeof $!="string")throw new y(le,"string",$)}function re($,le,Ce=void 0,me){if(typeof $!="number")throw new y(le,"number",$);if(Ce!=null&&$<Ce||me!=null&&$>me||(Ce!=null||me!=null)&&a($))throw new D(le,`${Ce!=null?`>= ${Ce}`:""}${Ce!=null&&me!=null?" && ":""}${me!=null?`<= ${me}`:""}`,$)}var B=m(($,le,Ce)=>{if(!r(Ce,$)){let me="must be one of: "+o(i(Ce,Ie=>typeof Ie=="string"?`'${Ie}'`:h(Ie)),", ");throw new _(le,$,me)}});function ee($,le){if(typeof $!="boolean")throw new y(le,"boolean",$)}function x($,le,Ce){return $==null||!d($,le)?Ce:$[le]}var Y=m(($,le,Ce=null)=>{let me=x(Ce,"allowArray",!1),Ie=x(Ce,"allowFunction",!1);if(!x(Ce,"nullable",!1)&&$===null||!me&&n($)||typeof $!="object"&&(!Ie||typeof $!="function"))throw new y(le,"Object",$)}),ge=m(($,le)=>{if($!=null&&typeof $!="object"&&typeof $!="function")throw new y(le,"a dictionary",$)}),te=m(($,le,Ce=0)=>{if(!n($))throw new y(le,"Array",$);if($.length<Ce){let me=`must be longer than ${Ce}`;throw new _(le,$,me)}});function Ee($,le){te($,le);for(let Ce=0;Ce<$.length;Ce++)z($[Ce],`${le}[${Ce}]`)}function G($,le){te($,le);for(let Ce=0;Ce<$.length;Ce++)ee($[Ce],`${le}[${Ce}]`)}function P($,le){te($,le);for(let Ce=0;Ce<$.length;Ce++){let me=$[Ce],Ie=`${le}[${Ce}]`;if(me==null)throw new y(Ie,"AbortSignal",me);ve(me,Ie)}}function ae($,le="signal"){if(z($,le),N[$]===void 0)throw N[v($)]!==void 0?new w($+" (signals must use all capital letters)"):new w($)}var J=m(($,le="buffer")=>{if(!A($))throw new y(le,["Buffer","TypedArray","DataView"],$)});function q($,le){let Ce=C(le),me=$.length;if(Ce==="hex"&&me%2!==0)throw new _("encoding",le,`is invalid for data of length ${me}`)}function Q($,le="Port",Ce=!0){if(typeof $!="number"&&typeof $!="string"||typeof $=="string"&&g($).length===0||+$!==+$>>>0||$>65535||$===0&&!Ce)throw new b(le,$,Ce);return $|0}var ve=m(($,le)=>{if($!==void 0&&($===null||typeof $!="object"||!("aborted"in $)))throw new y(le,"AbortSignal",$)}),pe=m(($,le)=>{if(typeof $!="function")throw new y(le,"Function",$)}),O=m(($,le)=>{if(typeof $!="function"||S($))throw new y(le,"Function",$)}),j=m(($,le)=>{if($!==void 0)throw new y(le,"undefined",$)});function Z($,le,Ce){if(!r(Ce,$))throw new y(le,`('${o(Ce,"|")}')`,$)}var se=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe($,le){if(typeof $>"u"||!f(se,$))throw new _(le,$,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ye($){if(typeof $=="string")return fe($,"hints"),$;if(n($)){let le=$.length,Ce="";if(le===0)return Ce;for(let me=0;me<le;me++){let Ie=$[me];fe(Ie,"hints"),Ce+=Ie,me!==le-1&&(Ce+=", ")}return Ce}throw new _("hints",$,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:R,isUint32:F,parseFileMode:H,validateArray:te,validateStringArray:Ee,validateBooleanArray:G,validateAbortSignalArray:P,validateBoolean:ee,validateBuffer:J,validateDictionary:ge,validateEncoding:q,validateFunction:pe,validateInt32:oe,validateInteger:L,validateNumber:re,validateObject:Y,validateOneOf:B,validatePlainFunction:O,validatePort:Q,validateSignalName:ae,validateString:z,validateUint32:X,validateUndefined:j,validateUnion:Z,validateAbortSignal:ve,validateLinkHeaderValue:ye}}),Xo=he((e,t)=>{ue(),de(),ce();var n=t.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=i}catch{r=i}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch{o=s}})();function a(b){if(r===setTimeout)return setTimeout(b,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(b,0);try{return r(b,0)}catch{try{return r.call(null,b,0)}catch{return r.call(this,b,0)}}}function l(b){if(o===clearTimeout)return clearTimeout(b);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(b);try{return o(b)}catch{try{return o.call(null,b)}catch{return o.call(this,b)}}}var u=[],c=!1,d,f=-1;function h(){!c||!d||(c=!1,d.length?u=d.concat(u):f=-1,u.length&&v())}function v(){if(!c){var b=a(h);c=!0;for(var y=u.length;y;){for(d=u,u=[];++f<y;)d&&d[f].run();f=-1,y=u.length}d=null,c=!1,l(b)}}n.nextTick=function(b){var y=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)y[_-1]=arguments[_];u.push(new g(b,y)),u.length===1&&!c&&a(v)};function g(b,y){this.fun=b,this.array=y}g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function m(){}n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(b){return[]},n.binding=function(b){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(b){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),kr=he((e,t)=>{"use strict";ue(),de(),ce();var{SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:o}=dt(),i=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),a=o("nodejs.stream.readable"),l=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),c=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function f(x,Y=!1){var ge;return!!(x&&typeof x.pipe=="function"&&typeof x.on=="function"&&(!Y||typeof x.pause=="function"&&typeof x.resume=="function")&&(!x._writableState||((ge=x._readableState)===null||ge===void 0?void 0:ge.readable)!==!1)&&(!x._writableState||x._readableState))}function h(x){var Y;return!!(x&&typeof x.write=="function"&&typeof x.on=="function"&&(!x._readableState||((Y=x._writableState)===null||Y===void 0?void 0:Y.writable)!==!1))}function v(x){return!!(x&&typeof x.pipe=="function"&&x._readableState&&typeof x.on=="function"&&typeof x.write=="function")}function g(x){return x&&(x._readableState||x._writableState||typeof x.write=="function"&&typeof x.on=="function"||typeof x.pipe=="function"&&typeof x.on=="function")}function m(x){return!!(x&&!g(x)&&typeof x.pipeThrough=="function"&&typeof x.getReader=="function"&&typeof x.cancel=="function")}function b(x){return!!(x&&!g(x)&&typeof x.getWriter=="function"&&typeof x.abort=="function")}function y(x){return!!(x&&!g(x)&&typeof x.readable=="object"&&typeof x.writable=="object")}function _(x){return m(x)||b(x)||y(x)}function D(x,Y){return x==null?!1:Y===!0?typeof x[n]=="function":Y===!1?typeof x[r]=="function":typeof x[n]=="function"||typeof x[r]=="function"}function w(x){if(!g(x))return null;let Y=x._writableState,ge=x._readableState,te=Y||ge;return!!(x.destroyed||x[i]||te!=null&&te.destroyed)}function C(x){if(!h(x))return null;if(x.writableEnded===!0)return!0;let Y=x._writableState;return Y!=null&&Y.errored?!1:typeof Y?.ended!="boolean"?null:Y.ended}function S(x,Y){if(!h(x))return null;if(x.writableFinished===!0)return!0;let ge=x._writableState;return ge!=null&&ge.errored?!1:typeof ge?.finished!="boolean"?null:!!(ge.finished||Y===!1&&ge.ended===!0&&ge.length===0)}function A(x){if(!f(x))return null;if(x.readableEnded===!0)return!0;let Y=x._readableState;return!Y||Y.errored?!1:typeof Y?.ended!="boolean"?null:Y.ended}function N(x,Y){if(!f(x))return null;let ge=x._readableState;return ge!=null&&ge.errored?!1:typeof ge?.endEmitted!="boolean"?null:!!(ge.endEmitted||Y===!1&&ge.ended===!0&&ge.length===0)}function R(x){return x&&x[a]!=null?x[a]:typeof x?.readable!="boolean"?null:w(x)?!1:f(x)&&x.readable&&!N(x)}function F(x){return x&&x[l]!=null?x[l]:typeof x?.writable!="boolean"?null:w(x)?!1:h(x)&&x.writable&&!C(x)}function T(x,Y){return g(x)?w(x)?!0:!(Y?.readable!==!1&&R(x)||Y?.writable!==!1&&F(x)):null}function V(x){var Y,ge;return g(x)?x.writableErrored?x.writableErrored:(Y=(ge=x._writableState)===null||ge===void 0?void 0:ge.errored)!==null&&Y!==void 0?Y:null:null}function H(x){var Y,ge;return g(x)?x.readableErrored?x.readableErrored:(Y=(ge=x._readableState)===null||ge===void 0?void 0:ge.errored)!==null&&Y!==void 0?Y:null:null}function L(x){if(!g(x))return null;if(typeof x.closed=="boolean")return x.closed;let Y=x._writableState,ge=x._readableState;return typeof Y?.closed=="boolean"||typeof ge?.closed=="boolean"?Y?.closed||ge?.closed:typeof x._closed=="boolean"&&oe(x)?x._closed:null}function oe(x){return typeof x._closed=="boolean"&&typeof x._defaultKeepAlive=="boolean"&&typeof x._removedConnection=="boolean"&&typeof x._removedContLen=="boolean"}function X(x){return typeof x._sent100=="boolean"&&oe(x)}function z(x){var Y;return typeof x._consuming=="boolean"&&typeof x._dumped=="boolean"&&((Y=x.req)===null||Y===void 0?void 0:Y.upgradeOrConnect)===void 0}function re(x){if(!g(x))return null;let Y=x._writableState,ge=x._readableState,te=Y||ge;return!te&&X(x)||!!(te&&te.autoDestroy&&te.emitClose&&te.closed===!1)}function B(x){var Y;return!!(x&&((Y=x[u])!==null&&Y!==void 0?Y:x.readableDidRead||x.readableAborted))}function ee(x){var Y,ge,te,Ee,G,P,ae,J,q,Q;return!!(x&&((Y=(ge=(te=(Ee=(G=(P=x[s])!==null&&P!==void 0?P:x.readableErrored)!==null&&G!==void 0?G:x.writableErrored)!==null&&Ee!==void 0?Ee:(ae=x._readableState)===null||ae===void 0?void 0:ae.errorEmitted)!==null&&te!==void 0?te:(J=x._writableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&ge!==void 0?ge:(q=x._readableState)===null||q===void 0?void 0:q.errored)!==null&&Y!==void 0?Y:!((Q=x._writableState)===null||Q===void 0)&&Q.errored))}t.exports={isDestroyed:w,kIsDestroyed:i,isDisturbed:B,kIsDisturbed:u,isErrored:ee,kIsErrored:s,isReadable:R,kIsReadable:a,kIsClosedPromise:c,kControllerErrorFunction:d,kIsWritable:l,isClosed:L,isDuplexNodeStream:v,isFinished:T,isIterable:D,isReadableNodeStream:f,isReadableStream:m,isReadableEnded:A,isReadableFinished:N,isReadableErrored:H,isNodeStream:g,isWebStream:_,isWritable:F,isWritableNodeStream:h,isWritableStream:b,isWritableEnded:C,isWritableFinished:S,isWritableErrored:V,isServerRequest:z,isServerResponse:X,willEmitClose:re,isTransformStream:y}}),co=he((e,t)=>{"use strict";ue(),de(),ce();var n=Xo(),{AbortError:r,codes:o}=tn(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:a,once:l}=un(),{validateAbortSignal:u,validateFunction:c,validateObject:d,validateBoolean:f}=Fa(),{Promise:h,PromisePrototypeThen:v,SymbolDispose:g}=dt(),{isClosed:m,isReadable:b,isReadableNodeStream:y,isReadableStream:_,isReadableFinished:D,isReadableErrored:w,isWritable:C,isWritableNodeStream:S,isWritableStream:A,isWritableFinished:N,isWritableErrored:R,isNodeStream:F,willEmitClose:T,kIsClosedPromise:V}=kr(),H;function L(B){return B.setHeader&&typeof B.abort=="function"}var oe=()=>{};function X(B,ee,x){var Y,ge;if(arguments.length===2?(x=ee,ee=a):ee==null?ee=a:d(ee,"options"),c(x,"callback"),u(ee.signal,"options.signal"),x=l(x),_(B)||A(B))return z(B,ee,x);if(!F(B))throw new i("stream",["ReadableStream","WritableStream","Stream"],B);let te=(Y=ee.readable)!==null&&Y!==void 0?Y:y(B),Ee=(ge=ee.writable)!==null&&ge!==void 0?ge:S(B),G=B._writableState,P=B._readableState,ae=()=>{B.writable||Q()},J=T(B)&&y(B)===te&&S(B)===Ee,q=N(B,!1),Q=()=>{q=!0,B.destroyed&&(J=!1),!(J&&(!B.readable||te))&&(!te||ve)&&x.call(B)},ve=D(B,!1),pe=()=>{ve=!0,B.destroyed&&(J=!1),!(J&&(!B.writable||Ee))&&(!Ee||q)&&x.call(B)},O=$=>{x.call(B,$)},j=m(B),Z=()=>{j=!0;let $=R(B)||w(B);if($&&typeof $!="boolean")return x.call(B,$);if(te&&!ve&&y(B,!0)&&!D(B,!1))return x.call(B,new s);if(Ee&&!q&&!N(B,!1))return x.call(B,new s);x.call(B)},se=()=>{j=!0;let $=R(B)||w(B);if($&&typeof $!="boolean")return x.call(B,$);x.call(B)},fe=()=>{B.req.on("finish",Q)};L(B)?(B.on("complete",Q),J||B.on("abort",Z),B.req?fe():B.on("request",fe)):Ee&&!G&&(B.on("end",ae),B.on("close",ae)),!J&&typeof B.aborted=="boolean"&&B.on("aborted",Z),B.on("end",pe),B.on("finish",Q),ee.error!==!1&&B.on("error",O),B.on("close",Z),j?n.nextTick(Z):G!=null&&G.errorEmitted||P!=null&&P.errorEmitted?J||n.nextTick(se):(!te&&(!J||b(B))&&(q||C(B)===!1)||!Ee&&(!J||C(B))&&(ve||b(B)===!1)||P&&B.req&&B.aborted)&&n.nextTick(se);let ye=()=>{x=oe,B.removeListener("aborted",Z),B.removeListener("complete",Q),B.removeListener("abort",Z),B.removeListener("request",fe),B.req&&B.req.removeListener("finish",Q),B.removeListener("end",ae),B.removeListener("close",ae),B.removeListener("finish",Q),B.removeListener("end",pe),B.removeListener("error",O),B.removeListener("close",Z)};if(ee.signal&&!j){let $=()=>{let le=x;ye(),le.call(B,new r(void 0,{cause:ee.signal.reason}))};if(ee.signal.aborted)n.nextTick($);else{H=H||un().addAbortListener;let le=H(ee.signal,$),Ce=x;x=l((...me)=>{le[g](),Ce.apply(B,me)})}}return ye}function z(B,ee,x){let Y=!1,ge=oe;if(ee.signal)if(ge=()=>{Y=!0,x.call(B,new r(void 0,{cause:ee.signal.reason}))},ee.signal.aborted)n.nextTick(ge);else{H=H||un().addAbortListener;let Ee=H(ee.signal,ge),G=x;x=l((...P)=>{Ee[g](),G.apply(B,P)})}let te=(...Ee)=>{Y||n.nextTick(()=>x.apply(B,Ee))};return v(B[V].promise,te,te),oe}function re(B,ee){var x;let Y=!1;return ee===null&&(ee=a),(x=ee)!==null&&x!==void 0&&x.cleanup&&(f(ee.cleanup,"cleanup"),Y=ee.cleanup),new h((ge,te)=>{let Ee=X(B,ee,G=>{Y&&Ee(),G?te(G):ge()})})}t.exports=X,t.exports.finished=re}),is=he((e,t)=>{"use strict";ue(),de(),ce();var n=Xo(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:i}=tn(),{Symbol:s}=dt(),{kIsDestroyed:a,isDestroyed:l,isFinished:u,isServerRequest:c}=kr(),d=s("kDestroy"),f=s("kConstruct");function h(T,V,H){T&&(T.stack,V&&!V.errored&&(V.errored=T),H&&!H.errored&&(H.errored=T))}function v(T,V){let H=this._readableState,L=this._writableState,oe=L||H;return L!=null&&L.destroyed||H!=null&&H.destroyed?(typeof V=="function"&&V(),this):(h(T,L,H),L&&(L.destroyed=!0),H&&(H.destroyed=!0),oe.constructed?g(this,T,V):this.once(d,function(X){g(this,r(X,T),V)}),this)}function g(T,V,H){let L=!1;function oe(X){if(L)return;L=!0;let z=T._readableState,re=T._writableState;h(X,re,z),re&&(re.closed=!0),z&&(z.closed=!0),typeof H=="function"&&H(X),X?n.nextTick(m,T,X):n.nextTick(b,T)}try{T._destroy(V||null,oe)}catch(X){oe(X)}}function m(T,V){y(T,V),b(T)}function b(T){let V=T._readableState,H=T._writableState;H&&(H.closeEmitted=!0),V&&(V.closeEmitted=!0),(H!=null&&H.emitClose||V!=null&&V.emitClose)&&T.emit("close")}function y(T,V){let H=T._readableState,L=T._writableState;L!=null&&L.errorEmitted||H!=null&&H.errorEmitted||(L&&(L.errorEmitted=!0),H&&(H.errorEmitted=!0),T.emit("error",V))}function _(){let T=this._readableState,V=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),V&&(V.constructed=!0,V.destroyed=!1,V.closed=!1,V.closeEmitted=!1,V.errored=null,V.errorEmitted=!1,V.finalCalled=!1,V.prefinished=!1,V.ended=V.writable===!1,V.ending=V.writable===!1,V.finished=V.writable===!1)}function D(T,V,H){let L=T._readableState,oe=T._writableState;if(oe!=null&&oe.destroyed||L!=null&&L.destroyed)return this;L!=null&&L.autoDestroy||oe!=null&&oe.autoDestroy?T.destroy(V):V&&(V.stack,oe&&!oe.errored&&(oe.errored=V),L&&!L.errored&&(L.errored=V),H?n.nextTick(y,T,V):y(T,V))}function w(T,V){if(typeof T._construct!="function")return;let H=T._readableState,L=T._writableState;H&&(H.constructed=!1),L&&(L.constructed=!1),T.once(f,V),!(T.listenerCount(f)>1)&&n.nextTick(C,T)}function C(T){let V=!1;function H(L){if(V){D(T,L??new o);return}V=!0;let oe=T._readableState,X=T._writableState,z=X||oe;oe&&(oe.constructed=!0),X&&(X.constructed=!0),z.destroyed?T.emit(d,L):L?D(T,L,!0):n.nextTick(S,T)}try{T._construct(L=>{n.nextTick(H,L)})}catch(L){n.nextTick(H,L)}}function S(T){T.emit(f)}function A(T){return T?.setHeader&&typeof T.abort=="function"}function N(T){T.emit("close")}function R(T,V){T.emit("error",V),n.nextTick(N,T)}function F(T,V){!T||l(T)||(!V&&!u(T)&&(V=new i),c(T)?(T.socket=null,T.destroy(V)):A(T)?T.abort():A(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy(V):typeof T.close=="function"?T.close():V?n.nextTick(R,T,V):n.nextTick(N,T),T.destroyed||(T[a]=!0))}t.exports={construct:w,destroyer:F,destroy:v,undestroy:_,errorOrDestroy:D}}),$m=he((e,t)=>{"use strict";ue(),de(),ce();var{ArrayIsArray:n,ObjectSetPrototypeOf:r}=dt(),{EventEmitter:o}=(Jo(),rt(uo));function i(a){o.call(this,a)}r(i.prototype,o.prototype),r(i,o),i.prototype.pipe=function(a,l){let u=this;function c(b){a.writable&&a.write(b)===!1&&u.pause&&u.pause()}u.on("data",c);function d(){u.readable&&u.resume&&u.resume()}a.on("drain",d),!a._isStdio&&(!l||l.end!==!1)&&(u.on("end",h),u.on("close",v));let f=!1;function h(){f||(f=!0,a.end())}function v(){f||(f=!0,typeof a.destroy=="function"&&a.destroy())}function g(b){m(),o.listenerCount(this,"error")===0&&this.emit("error",b)}s(u,"error",g),s(a,"error",g);function m(){u.removeListener("data",c),a.removeListener("drain",d),u.removeListener("end",h),u.removeListener("close",v),u.removeListener("error",g),a.removeListener("error",g),u.removeListener("end",m),u.removeListener("close",m),a.removeListener("close",m)}return u.on("end",m),u.on("close",m),a.on("close",m),a.emit("pipe",u),a};function s(a,l,u){if(typeof a.prependListener=="function")return a.prependListener(l,u);!a._events||!a._events[l]?a.on(l,u):n(a._events[l])?a._events[l].unshift(u):a._events[l]=[u,a._events[l]]}t.exports={Stream:i,prependListener:s}}),Bc=he((e,t)=>{"use strict";ue(),de(),ce();var{SymbolDispose:n}=dt(),{AbortError:r,codes:o}=tn(),{isNodeStream:i,isWebStream:s,kControllerErrorFunction:a}=kr(),l=co(),{ERR_INVALID_ARG_TYPE:u}=o,c,d=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new u(h,"AbortSignal",f)};t.exports.addAbortSignal=function(f,h){if(d(f,"signal"),!i(h)&&!s(h))throw new u("stream",["ReadableStream","WritableStream","Stream"],h);return t.exports.addAbortSignalNoValidate(f,h)},t.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;let v=i(h)?()=>{h.destroy(new r(void 0,{cause:f.reason}))}:()=>{h[a](new r(void 0,{cause:f.reason}))};if(f.aborted)v();else{c=c||un().addAbortListener;let g=c(f,v);l(h,g[n])}return h}}),rN=he((e,t)=>{"use strict";ue(),de(),ce();var{StringPrototypeSlice:n,SymbolIterator:r,TypedArrayPrototypeSet:o,Uint8Array:i}=dt(),{Buffer:s}=(kt(),rt(Ot)),{inspect:a}=un();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(l){let u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=l+u.data;return c}concat(l){if(this.length===0)return s.alloc(0);let u=s.allocUnsafe(l>>>0),c=this.head,d=0;for(;c;)o(u,c.data,d),d+=c.data.length,c=c.next;return u}consume(l,u){let c=this.head.data;if(l<c.length){let d=c.slice(0,l);return this.head.data=c.slice(l),d}return l===c.length?this.shift():u?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[r](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let u="",c=this.head,d=0;do{let f=c.data;if(l>f.length)u+=f,l-=f.length;else{l===f.length?(u+=f,++d,c.next?this.head=c.next:this.head=this.tail=null):(u+=n(f,0,l),this.head=c,c.data=n(f,l));break}++d}while((c=c.next)!==null);return this.length-=d,u}_getBuffer(l){let u=s.allocUnsafe(l),c=l,d=this.head,f=0;do{let h=d.data;if(l>h.length)o(u,h,c-l),l-=h.length;else{l===h.length?(o(u,h,c-l),++f,d.next?this.head=d.next:this.head=this.tail=null):(o(u,new i(h.buffer,h.byteOffset,l),c-l),this.head=d,d.data=h.slice(l));break}++f}while((d=d.next)!==null);return this.length-=f,u}[Symbol.for("nodejs.util.inspect.custom")](l,u){return a(this,Oe(be({},u),{depth:0,customInspect:!1}))}}}),Vc=he((e,t)=>{"use strict";ue(),de(),ce();var{MathFloor:n,NumberIsInteger:r}=dt(),{validateInteger:o}=Fa(),{ERR_INVALID_ARG_VALUE:i}=tn().codes,s=16*1024,a=16;function l(f,h,v){return f.highWaterMark!=null?f.highWaterMark:h?f[v]:null}function u(f){return f?a:s}function c(f,h){o(h,"value",0),f?a=h:s=h}function d(f,h,v,g){let m=l(h,g,v);if(m!=null){if(!r(m)||m<0){let b=g?`options.${v}`:"options.highWaterMark";throw new i(b,m)}return n(m)}return u(f.objectMode)}t.exports={getHighWaterMark:d,getDefaultHighWaterMark:u,setDefaultHighWaterMark:c}}),oN=he((e,t)=>{ue(),de(),ce();var n=(kt(),rt(Ot)),r=n.Buffer;function o(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=i);function i(s,a,l){return r(s,a,l)}i.prototype=Object.create(r.prototype),o(r,i),i.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},i.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=r(s);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}),iN=he(e=>{"use strict";ue(),de(),ce();var t=oN().Buffer,n=t.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var _;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(_)return;y=(""+y).toLowerCase(),_=!0}}function o(y){var _=r(y);if(typeof _!="string"&&(t.isEncoding===n||!n(y)))throw new Error("Unknown encoding: "+y);return _||y}e.StringDecoder=i;function i(y){this.encoding=o(y);var _;switch(this.encoding){case"utf16le":this.text=f,this.end=h,_=4;break;case"utf8":this.fillLast=u,_=4;break;case"base64":this.text=v,this.end=g,_=3;break;default:this.write=m,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(_)}i.prototype.write=function(y){if(y.length===0)return"";var _,D;if(this.lastNeed){if(_=this.fillLast(y),_===void 0)return"";D=this.lastNeed,this.lastNeed=0}else D=0;return D<y.length?_?_+this.text(y,D):this.text(y,D):_||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function s(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function a(y,_,D){var w=_.length-1;if(w<D)return 0;var C=s(_[w]);return C>=0?(C>0&&(y.lastNeed=C-1),C):--w<D||C===-2?0:(C=s(_[w]),C>=0?(C>0&&(y.lastNeed=C-2),C):--w<D||C===-2?0:(C=s(_[w]),C>=0?(C>0&&(C===2?C=0:y.lastNeed=C-3),C):0))}function l(y,_,D){if((_[0]&192)!==128)return y.lastNeed=0,"\uFFFD";if(y.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return y.lastNeed=1,"\uFFFD";if(y.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return y.lastNeed=2,"\uFFFD"}}function u(y){var _=this.lastTotal-this.lastNeed,D=l(this,y,_);if(D!==void 0)return D;if(this.lastNeed<=y.length)return y.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,_,0,y.length),this.lastNeed-=y.length}function c(y,_){var D=a(this,y,_);if(!this.lastNeed)return y.toString("utf8",_);this.lastTotal=D;var w=y.length-(D-this.lastNeed);return y.copy(this.lastChar,0,w),y.toString("utf8",_,w)}function d(y){var _=y&&y.length?this.write(y):"";return this.lastNeed?_+"\uFFFD":_}function f(y,_){if((y.length-_)%2===0){var D=y.toString("utf16le",_);if(D){var w=D.charCodeAt(D.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],D.slice(0,-1)}return D}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",_,y.length-1)}function h(y){var _=y&&y.length?this.write(y):"";if(this.lastNeed){var D=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,D)}return _}function v(y,_){var D=(y.length-_)%3;return D===0?y.toString("base64",_):(this.lastNeed=3-D,this.lastTotal=3,D===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",_,y.length-D))}function g(y){var _=y&&y.length?this.write(y):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function m(y){return y.toString(this.encoding)}function b(y){return y&&y.length?this.write(y):""}}),PE=he((e,t)=>{"use strict";ue(),de(),ce();var n=Xo(),{PromisePrototypeThen:r,SymbolAsyncIterator:o,SymbolIterator:i}=dt(),{Buffer:s}=(kt(),rt(Ot)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=tn().codes;function u(c,d,f){let h;if(typeof d=="string"||d instanceof s)return new c(Oe(be({objectMode:!0},f),{read(){this.push(d),this.push(null)}}));let v;if(d&&d[o])v=!0,h=d[o]();else if(d&&d[i])v=!1,h=d[i]();else throw new a("iterable",["Iterable"],d);let g=new c(be({objectMode:!0,highWaterMark:1},f)),m=!1;g._read=function(){m||(m=!0,y())},g._destroy=function(_,D){r(b(_),()=>n.nextTick(D,_),w=>n.nextTick(D,w||_))};function b(_){return Xe(this,null,function*(){let D=_!=null,w=typeof h.throw=="function";if(D&&w){let{value:C,done:S}=yield h.throw(_);if(yield C,S)return}if(typeof h.return=="function"){let{value:C}=yield h.return();yield C}})}function y(){return Xe(this,null,function*(){for(;;){try{let{value:_,done:D}=v?yield h.next():h.next();if(D)g.push(null);else{let w=_&&typeof _.then=="function"?yield _:_;if(w===null)throw m=!1,new l;if(g.push(w))continue;m=!1}}catch(_){g.destroy(_)}break}})}return g}t.exports=u}),Uc=he((e,t)=>{"use strict";ue(),de(),ce();var n=Xo(),{ArrayPrototypeIndexOf:r,NumberIsInteger:o,NumberIsNaN:i,NumberParseInt:s,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:c,SafeSet:d,SymbolAsyncDispose:f,SymbolAsyncIterator:h,Symbol:v}=dt();t.exports=me,me.ReadableState=Ce;var{EventEmitter:g}=(Jo(),rt(uo)),{Stream:m,prependListener:b}=$m(),{Buffer:y}=(kt(),rt(Ot)),{addAbortSignal:_}=Bc(),D=co(),w=un().debuglog("stream",M=>{w=M}),C=rN(),S=is(),{getHighWaterMark:A,getDefaultHighWaterMark:N}=Vc(),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:F,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:V,ERR_STREAM_PUSH_AFTER_EOF:H,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:oe}=tn(),{validateObject:X}=Fa(),z=v("kPaused"),{StringDecoder:re}=iN(),B=PE();u(me.prototype,m.prototype),u(me,m);var ee=()=>{},{errorOrDestroy:x}=S,Y=1,ge=2,te=4,Ee=8,G=16,P=32,ae=64,J=128,q=256,Q=512,ve=1024,pe=2048,O=4096,j=8192,Z=16384,se=32768,fe=65536,ye=1<<17,$=1<<18;function le(M){return{enumerable:!1,get(){return(this.state&M)!==0},set(k){k?this.state|=M:this.state&=~M}}}a(Ce.prototype,{objectMode:le(Y),ended:le(ge),endEmitted:le(te),reading:le(Ee),constructed:le(G),sync:le(P),needReadable:le(ae),emittedReadable:le(J),readableListening:le(q),resumeScheduled:le(Q),errorEmitted:le(ve),emitClose:le(pe),autoDestroy:le(O),destroyed:le(j),closed:le(Z),closeEmitted:le(se),multiAwaitDrain:le(fe),readingMore:le(ye),dataEmitted:le($)});function Ce(M,k,De){typeof De!="boolean"&&(De=k instanceof Rr()),this.state=pe|O|G|P,M&&M.objectMode&&(this.state|=Y),De&&M&&M.readableObjectMode&&(this.state|=Y),this.highWaterMark=M?A(this,M,"readableHighWaterMark",De):N(!1),this.buffer=new C,this.length=0,this.pipes=[],this.flowing=null,this[z]=null,M&&M.emitClose===!1&&(this.state&=~pe),M&&M.autoDestroy===!1&&(this.state&=~O),this.errored=null,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,M&&M.encoding&&(this.decoder=new re(M.encoding),this.encoding=M.encoding)}function me(M){if(!(this instanceof me))return new me(M);let k=this instanceof Rr();this._readableState=new Ce(M,this,k),M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.construct=="function"&&(this._construct=M.construct),M.signal&&!k&&_(M.signal,this)),m.call(this,M),S.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}me.prototype.destroy=S.destroy,me.prototype._undestroy=S.undestroy,me.prototype._destroy=function(M,k){k(M)},me.prototype[g.captureRejectionSymbol]=function(M){this.destroy(M)},me.prototype[f]=function(){let M;return this.destroyed||(M=this.readableEnded?null:new oe,this.destroy(M)),new c((k,De)=>D(this,Se=>Se&&Se!==M?De(Se):k(null)))},me.prototype.push=function(M,k){return Ie(this,M,k,!1)},me.prototype.unshift=function(M,k){return Ie(this,M,k,!0)};function Ie(M,k,De,Se){w("readableAddChunk",k);let Ae=M._readableState,Dt;if((Ae.state&Y)===0&&(typeof k=="string"?(De=De||Ae.defaultEncoding,Ae.encoding!==De&&(Se&&Ae.encoding?k=y.from(k,De).toString(Ae.encoding):(k=y.from(k,De),De=""))):k instanceof y?De="":m._isUint8Array(k)?(k=m._uint8ArrayToBuffer(k),De=""):k!=null&&(Dt=new F("chunk",["string","Buffer","Uint8Array"],k))),Dt)x(M,Dt);else if(k===null)Ae.state&=~Ee,W(M,Ae);else if((Ae.state&Y)!==0||k&&k.length>0)if(Se)if((Ae.state&te)!==0)x(M,new L);else{if(Ae.destroyed||Ae.errored)return!1;p(M,Ae,k,!0)}else if(Ae.ended)x(M,new H);else{if(Ae.destroyed||Ae.errored)return!1;Ae.state&=~Ee,Ae.decoder&&!De?(k=Ae.decoder.write(k),Ae.objectMode||k.length!==0?p(M,Ae,k,!1):K(M,Ae)):p(M,Ae,k,!1)}else Se||(Ae.state&=~Ee,K(M,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.length===0)}function p(M,k,De,Se){k.flowing&&k.length===0&&!k.sync&&M.listenerCount("data")>0?((k.state&fe)!==0?k.awaitDrainWriters.clear():k.awaitDrainWriters=null,k.dataEmitted=!0,M.emit("data",De)):(k.length+=k.objectMode?1:De.length,Se?k.buffer.unshift(De):k.buffer.push(De),(k.state&ae)!==0&&ie(M)),K(M,k)}me.prototype.isPaused=function(){let M=this._readableState;return M[z]===!0||M.flowing===!1},me.prototype.setEncoding=function(M){let k=new re(M);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;let De=this._readableState.buffer,Se="";for(let Ae of De)Se+=k.write(Ae);return De.clear(),Se!==""&&De.push(Se),this._readableState.length=Se.length,this};var E=1073741824;function I(M){if(M>E)throw new V("size","<= 1GiB",M);return M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++,M}function U(M,k){return M<=0||k.length===0&&k.ended?0:(k.state&Y)!==0?1:i(M)?k.flowing&&k.length?k.buffer.first().length:k.length:M<=k.length?M:k.ended?k.length:0}me.prototype.read=function(M){w("read",M),M===void 0?M=NaN:o(M)||(M=s(M,10));let k=this._readableState,De=M;if(M>k.highWaterMark&&(k.highWaterMark=I(M)),M!==0&&(k.state&=~J),M===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return w("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?Un(this):ie(this),null;if(M=U(M,k),M===0&&k.ended)return k.length===0&&Un(this),null;let Se=(k.state&ae)!==0;if(w("need readable",Se),(k.length===0||k.length-M<k.highWaterMark)&&(Se=!0,w("length less than watermark",Se)),k.ended||k.reading||k.destroyed||k.errored||!k.constructed)Se=!1,w("reading, ended or constructing",Se);else if(Se){w("do read"),k.state|=Ee|P,k.length===0&&(k.state|=ae);try{this._read(k.highWaterMark)}catch(Dt){x(this,Dt)}k.state&=~P,k.reading||(M=U(De,k))}let Ae;return M>0?Ae=ti(M,k):Ae=null,Ae===null?(k.needReadable=k.length<=k.highWaterMark,M=0):(k.length-=M,k.multiAwaitDrain?k.awaitDrainWriters.clear():k.awaitDrainWriters=null),k.length===0&&(k.ended||(k.needReadable=!0),De!==M&&k.ended&&Un(this)),Ae!==null&&!k.errorEmitted&&!k.closeEmitted&&(k.dataEmitted=!0,this.emit("data",Ae)),Ae};function W(M,k){if(w("onEofChunk"),!k.ended){if(k.decoder){let De=k.decoder.end();De&&De.length&&(k.buffer.push(De),k.length+=k.objectMode?1:De.length)}k.ended=!0,k.sync?ie(M):(k.needReadable=!1,k.emittedReadable=!0,_e(M))}}function ie(M){let k=M._readableState;w("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(w("emitReadable",k.flowing),k.emittedReadable=!0,n.nextTick(_e,M))}function _e(M){let k=M._readableState;w("emitReadable_",k.destroyed,k.length,k.ended),!k.destroyed&&!k.errored&&(k.length||k.ended)&&(M.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,Bn(M)}function K(M,k){!k.readingMore&&k.constructed&&(k.readingMore=!0,n.nextTick(ne,M,k))}function ne(M,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){let De=k.length;if(w("maybeReadMore read 0"),M.read(0),De===k.length)break}k.readingMore=!1}me.prototype._read=function(M){throw new T("_read()")},me.prototype.pipe=function(M,k){let De=this,Se=this._readableState;Se.pipes.length===1&&(Se.multiAwaitDrain||(Se.multiAwaitDrain=!0,Se.awaitDrainWriters=new d(Se.awaitDrainWriters?[Se.awaitDrainWriters]:[]))),Se.pipes.push(M),w("pipe count=%d opts=%j",Se.pipes.length,k);let Ae=(!k||k.end!==!1)&&M!==n.stdout&&M!==n.stderr?Kt:po;Se.endEmitted?n.nextTick(Ae):De.once("end",Ae),M.on("unpipe",Dt);function Dt(Hn,ir){w("onunpipe"),Hn===De&&ir&&ir.hasUnpiped===!1&&(ir.hasUnpiped=!0,ps())}function Kt(){w("onend"),M.end()}let Mn,hs=!1;function ps(){w("cleanup"),M.removeListener("close",$n),M.removeListener("finish",Lr),Mn&&M.removeListener("drain",Mn),M.removeListener("error",ho),M.removeListener("unpipe",Dt),De.removeListener("end",Kt),De.removeListener("end",po),De.removeListener("data",za),hs=!0,Mn&&Se.awaitDrainWriters&&(!M._writableState||M._writableState.needDrain)&&Mn()}function gs(){hs||(Se.pipes.length===1&&Se.pipes[0]===M?(w("false write response, pause",0),Se.awaitDrainWriters=M,Se.multiAwaitDrain=!1):Se.pipes.length>1&&Se.pipes.includes(M)&&(w("false write response, pause",Se.awaitDrainWriters.size),Se.awaitDrainWriters.add(M)),De.pause()),Mn||(Mn=Te(De,M),M.on("drain",Mn))}De.on("data",za);function za(Hn){w("ondata");let ir=M.write(Hn);w("dest.write",ir),ir===!1&&gs()}function ho(Hn){if(w("onerror",Hn),po(),M.removeListener("error",ho),M.listenerCount("error")===0){let ir=M._writableState||M._readableState;ir&&!ir.errorEmitted?x(M,Hn):M.emit("error",Hn)}}b(M,"error",ho);function $n(){M.removeListener("finish",Lr),po()}M.once("close",$n);function Lr(){w("onfinish"),M.removeListener("close",$n),po()}M.once("finish",Lr);function po(){w("unpipe"),De.unpipe(M)}return M.emit("pipe",De),M.writableNeedDrain===!0?gs():Se.flowing||(w("pipe resume"),De.resume()),M};function Te(M,k){return function(){let De=M._readableState;De.awaitDrainWriters===k?(w("pipeOnDrain",1),De.awaitDrainWriters=null):De.multiAwaitDrain&&(w("pipeOnDrain",De.awaitDrainWriters.size),De.awaitDrainWriters.delete(k)),(!De.awaitDrainWriters||De.awaitDrainWriters.size===0)&&M.listenerCount("data")&&M.resume()}}me.prototype.unpipe=function(M){let k=this._readableState,De={hasUnpiped:!1};if(k.pipes.length===0)return this;if(!M){let Ae=k.pipes;k.pipes=[],this.pause();for(let Dt=0;Dt<Ae.length;Dt++)Ae[Dt].emit("unpipe",this,{hasUnpiped:!1});return this}let Se=r(k.pipes,M);return Se===-1?this:(k.pipes.splice(Se,1),k.pipes.length===0&&this.pause(),M.emit("unpipe",this,De),this)},me.prototype.on=function(M,k){let De=m.prototype.on.call(this,M,k),Se=this._readableState;return M==="data"?(Se.readableListening=this.listenerCount("readable")>0,Se.flowing!==!1&&this.resume()):M==="readable"&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,w("on readable",Se.length,Se.reading),Se.length?ie(this):Se.reading||n.nextTick(Le,this)),De},me.prototype.addListener=me.prototype.on,me.prototype.removeListener=function(M,k){let De=m.prototype.removeListener.call(this,M,k);return M==="readable"&&n.nextTick(Me,this),De},me.prototype.off=me.prototype.removeListener,me.prototype.removeAllListeners=function(M){let k=m.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&n.nextTick(Me,this),k};function Me(M){let k=M._readableState;k.readableListening=M.listenerCount("readable")>0,k.resumeScheduled&&k[z]===!1?k.flowing=!0:M.listenerCount("data")>0?M.resume():k.readableListening||(k.flowing=null)}function Le(M){w("readable nexttick read 0"),M.read(0)}me.prototype.resume=function(){let M=this._readableState;return M.flowing||(w("resume"),M.flowing=!M.readableListening,$e(this,M)),M[z]=!1,this};function $e(M,k){k.resumeScheduled||(k.resumeScheduled=!0,n.nextTick(jn,M,k))}function jn(M,k){w("resume",k.reading),k.reading||M.read(0),k.resumeScheduled=!1,M.emit("resume"),Bn(M),k.flowing&&!k.reading&&M.read(0)}me.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[z]=!0,this};function Bn(M){let k=M._readableState;for(w("flow",k.flowing);k.flowing&&M.read()!==null;);}me.prototype.wrap=function(M){let k=!1;M.on("data",Se=>{!this.push(Se)&&M.pause&&(k=!0,M.pause())}),M.on("end",()=>{this.push(null)}),M.on("error",Se=>{x(this,Se)}),M.on("close",()=>{this.destroy()}),M.on("destroy",()=>{this.destroy()}),this._read=()=>{k&&M.resume&&(k=!1,M.resume())};let De=l(M);for(let Se=1;Se<De.length;Se++){let Ae=De[Se];this[Ae]===void 0&&typeof M[Ae]=="function"&&(this[Ae]=M[Ae].bind(M))}return this},me.prototype[h]=function(){return Vt(this)},me.prototype.iterator=function(M){return M!==void 0&&X(M,"options"),Vt(this,M)};function Vt(M,k){typeof M.read!="function"&&(M=me.wrap(M,{objectMode:!0}));let De=Vn(M,k);return De.stream=M,De}function Vn(M,k){return sr(this,null,function*(){let De=ee;function Se(Kt){this===M?(De(),De=ee):De=Kt}M.on("readable",Se);let Ae,Dt=D(M,{writable:!1},Kt=>{Ae=Kt?R(Ae,Kt):null,De(),De=ee});try{for(;;){let Kt=M.destroyed?null:M.read();if(Kt!==null)yield Kt;else{if(Ae)throw Ae;if(Ae===null)return;yield new Yt(new c(Se))}}}catch(Kt){throw Ae=R(Ae,Kt),Ae}finally{(Ae||k?.destroyOnReturn!==!1)&&(Ae===void 0||M._readableState.autoDestroy)?S.destroyer(M,null):(M.off("readable",Se),Dt())}})}a(me.prototype,{readable:{__proto__:null,get(){let M=this._readableState;return!!M&&M.readable!==!1&&!M.destroyed&&!M.errorEmitted&&!M.endEmitted},set(M){this._readableState&&(this._readableState.readable=!!M)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(M){this._readableState&&(this._readableState.destroyed=M)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(Ce.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[z]!==!1},set(M){this[z]=!!M}}}),me._fromList=ti;function ti(M,k){if(k.length===0)return null;let De;return k.objectMode?De=k.buffer.shift():!M||M>=k.length?(k.decoder?De=k.buffer.join(""):k.buffer.length===1?De=k.buffer.first():De=k.buffer.concat(k.length),k.buffer.clear()):De=k.buffer.consume(M,k.decoder),De}function Un(M){let k=M._readableState;w("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,n.nextTick(dn,k,M))}function dn(M,k){if(w("endReadableNT",M.endEmitted,M.length),!M.errored&&!M.closeEmitted&&!M.endEmitted&&M.length===0){if(M.endEmitted=!0,k.emit("end"),k.writable&&k.allowHalfOpen===!1)n.nextTick(Wa,k);else if(M.autoDestroy){let De=k._writableState;(!De||De.autoDestroy&&(De.finished||De.writable===!1))&&k.destroy()}}}function Wa(M){M.writable&&!M.writableEnded&&!M.destroyed&&M.end()}me.from=function(M,k){return B(me,M,k)};var ni;function fs(){return ni===void 0&&(ni={}),ni}me.fromWeb=function(M,k){return fs().newStreamReadableFromReadableStream(M,k)},me.toWeb=function(M,k){return fs().newReadableStreamFromStreamReadable(M,k)},me.wrap=function(M,k){var De,Se;return new me(Oe(be({objectMode:(De=(Se=M.readableObjectMode)!==null&&Se!==void 0?Se:M.objectMode)!==null&&De!==void 0?De:!0},k),{destroy(Ae,Dt){S.destroyer(M,Ae),Dt(Ae)}})).wrap(M)}}),Hm=he((e,t)=>{"use strict";ue(),de(),ce();var n=Xo(),{ArrayPrototypeSlice:r,Error:o,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:s,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:d}=dt();t.exports=X,X.WritableState=L;var{EventEmitter:f}=(Jo(),rt(uo)),h=$m().Stream,{Buffer:v}=(kt(),rt(Ot)),g=is(),{addAbortSignal:m}=Bc(),{getHighWaterMark:b,getDefaultHighWaterMark:y}=Vc(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_MULTIPLE_CALLBACK:w,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:N,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:F}=tn().codes,{errorOrDestroy:T}=g;l(X.prototype,h.prototype),l(X,h);function V(){}var H=c("kOnFinished");function L(O,j,Z){typeof Z!="boolean"&&(Z=j instanceof Rr()),this.objectMode=!!(O&&O.objectMode),Z&&(this.objectMode=this.objectMode||!!(O&&O.writableObjectMode)),this.highWaterMark=O?b(this,O,"writableHighWaterMark",Z):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let se=!!(O&&O.decodeStrings===!1);this.decodeStrings=!se,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=x.bind(void 0,j),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,oe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[H]=[]}function oe(O){O.buffered=[],O.bufferedIndex=0,O.allBuffers=!0,O.allNoop=!0}L.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},s(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function X(O){let j=this instanceof Rr();if(!j&&!i(X,this))return new X(O);this._writableState=new L(O,this,j),O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&m(O.signal,this)),h.call(this,O),g.construct(this,()=>{let Z=this._writableState;Z.writing||Ee(this,Z),J(this,Z)})}s(X,d,{__proto__:null,value:function(O){return i(this,O)?!0:this!==X?!1:O&&O._writableState instanceof L}}),X.prototype.pipe=function(){T(this,new C)};function z(O,j,Z,se){let fe=O._writableState;if(typeof Z=="function")se=Z,Z=fe.defaultEncoding;else{if(!Z)Z=fe.defaultEncoding;else if(Z!=="buffer"&&!v.isEncoding(Z))throw new F(Z);typeof se!="function"&&(se=V)}if(j===null)throw new N;if(!fe.objectMode)if(typeof j=="string")fe.decodeStrings!==!1&&(j=v.from(j,Z),Z="buffer");else if(j instanceof v)Z="buffer";else if(h._isUint8Array(j))j=h._uint8ArrayToBuffer(j),Z="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],j);let ye;return fe.ending?ye=new R:fe.destroyed&&(ye=new S("write")),ye?(n.nextTick(se,ye),T(O,ye,!0),ye):(fe.pendingcb++,re(O,fe,j,Z,se))}X.prototype.write=function(O,j,Z){return z(this,O,j,Z)===!0},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){let O=this._writableState;O.corked&&(O.corked--,O.writing||Ee(this,O))},X.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=u(O)),!v.isEncoding(O))throw new F(O);return this._writableState.defaultEncoding=O,this};function re(O,j,Z,se,fe){let ye=j.objectMode?1:Z.length;j.length+=ye;let $=j.length<j.highWaterMark;return $||(j.needDrain=!0),j.writing||j.corked||j.errored||!j.constructed?(j.buffered.push({chunk:Z,encoding:se,callback:fe}),j.allBuffers&&se!=="buffer"&&(j.allBuffers=!1),j.allNoop&&fe!==V&&(j.allNoop=!1)):(j.writelen=ye,j.writecb=fe,j.writing=!0,j.sync=!0,O._write(Z,se,j.onwrite),j.sync=!1),$&&!j.errored&&!j.destroyed}function B(O,j,Z,se,fe,ye,$){j.writelen=se,j.writecb=$,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new S("write")):Z?O._writev(fe,j.onwrite):O._write(fe,ye,j.onwrite),j.sync=!1}function ee(O,j,Z,se){--j.pendingcb,se(Z),te(j),T(O,Z)}function x(O,j){let Z=O._writableState,se=Z.sync,fe=Z.writecb;if(typeof fe!="function"){T(O,new w);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,j?(j.stack,Z.errored||(Z.errored=j),O._readableState&&!O._readableState.errored&&(O._readableState.errored=j),se?n.nextTick(ee,O,Z,j,fe):ee(O,Z,j,fe)):(Z.buffered.length>Z.bufferedIndex&&Ee(O,Z),se?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===fe?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:fe,stream:O,state:Z},n.nextTick(Y,Z.afterWriteTickInfo)):ge(O,Z,1,fe))}function Y({stream:O,state:j,count:Z,cb:se}){return j.afterWriteTickInfo=null,ge(O,j,Z,se)}function ge(O,j,Z,se){for(!j.ending&&!O.destroyed&&j.length===0&&j.needDrain&&(j.needDrain=!1,O.emit("drain"));Z-- >0;)j.pendingcb--,se();j.destroyed&&te(j),J(O,j)}function te(O){if(O.writing)return;for(let fe=O.bufferedIndex;fe<O.buffered.length;++fe){var j;let{chunk:ye,callback:$}=O.buffered[fe],le=O.objectMode?1:ye.length;O.length-=le,$((j=O.errored)!==null&&j!==void 0?j:new S("write"))}let Z=O[H].splice(0);for(let fe=0;fe<Z.length;fe++){var se;Z[fe]((se=O.errored)!==null&&se!==void 0?se:new S("end"))}oe(O)}function Ee(O,j){if(j.corked||j.bufferProcessing||j.destroyed||!j.constructed)return;let{buffered:Z,bufferedIndex:se,objectMode:fe}=j,ye=Z.length-se;if(!ye)return;let $=se;if(j.bufferProcessing=!0,ye>1&&O._writev){j.pendingcb-=ye-1;let le=j.allNoop?V:me=>{for(let Ie=$;Ie<Z.length;++Ie)Z[Ie].callback(me)},Ce=j.allNoop&&$===0?Z:r(Z,$);Ce.allBuffers=j.allBuffers,B(O,j,!0,j.length,Ce,"",le),oe(j)}else{do{let{chunk:le,encoding:Ce,callback:me}=Z[$];Z[$++]=null;let Ie=fe?1:le.length;B(O,j,!1,Ie,le,Ce,me)}while($<Z.length&&!j.writing);$===Z.length?oe(j):$>256?(Z.splice(0,$),j.bufferedIndex=0):j.bufferedIndex=$}j.bufferProcessing=!1}X.prototype._write=function(O,j,Z){if(this._writev)this._writev([{chunk:O,encoding:j}],Z);else throw new D("_write()")},X.prototype._writev=null,X.prototype.end=function(O,j,Z){let se=this._writableState;typeof O=="function"?(Z=O,O=null,j=null):typeof j=="function"&&(Z=j,j=null);let fe;if(O!=null){let ye=z(this,O,j);ye instanceof o&&(fe=ye)}return se.corked&&(se.corked=1,this.uncork()),fe||(!se.errored&&!se.ending?(se.ending=!0,J(this,se,!0),se.ended=!0):se.finished?fe=new A("end"):se.destroyed&&(fe=new S("end"))),typeof Z=="function"&&(fe||se.finished?n.nextTick(Z,fe):se[H].push(Z)),this};function G(O){return O.ending&&!O.destroyed&&O.constructed&&O.length===0&&!O.errored&&O.buffered.length===0&&!O.finished&&!O.writing&&!O.errorEmitted&&!O.closeEmitted}function P(O,j){let Z=!1;function se(fe){if(Z){T(O,fe??w());return}if(Z=!0,j.pendingcb--,fe){let ye=j[H].splice(0);for(let $=0;$<ye.length;$++)ye[$](fe);T(O,fe,j.sync)}else G(j)&&(j.prefinished=!0,O.emit("prefinish"),j.pendingcb++,n.nextTick(q,O,j))}j.sync=!0,j.pendingcb++;try{O._final(se)}catch(fe){se(fe)}j.sync=!1}function ae(O,j){!j.prefinished&&!j.finalCalled&&(typeof O._final=="function"&&!j.destroyed?(j.finalCalled=!0,P(O,j)):(j.prefinished=!0,O.emit("prefinish")))}function J(O,j,Z){G(j)&&(ae(O,j),j.pendingcb===0&&(Z?(j.pendingcb++,n.nextTick((se,fe)=>{G(fe)?q(se,fe):fe.pendingcb--},O,j)):G(j)&&(j.pendingcb++,q(O,j))))}function q(O,j){j.pendingcb--,j.finished=!0;let Z=j[H].splice(0);for(let se=0;se<Z.length;se++)Z[se]();if(O.emit("finish"),j.autoDestroy){let se=O._readableState;(!se||se.autoDestroy&&(se.endEmitted||se.readable===!1))&&O.destroy()}}a(X.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(O){this._writableState&&(this._writableState.destroyed=O)}},writable:{__proto__:null,get(){let O=this._writableState;return!!O&&O.writable!==!1&&!O.destroyed&&!O.errored&&!O.ending&&!O.ended},set(O){this._writableState&&(this._writableState.writable=!!O)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let O=this._writableState;return O?!O.destroyed&&!O.ending&&O.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Q=g.destroy;X.prototype.destroy=function(O,j){let Z=this._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[H].length)&&n.nextTick(te,Z),Q.call(this,O,j),this},X.prototype._undestroy=g.undestroy,X.prototype._destroy=function(O,j){j(O)},X.prototype[f.captureRejectionSymbol]=function(O){this.destroy(O)};var ve;function pe(){return ve===void 0&&(ve={}),ve}X.fromWeb=function(O,j){return pe().newStreamWritableFromWritableStream(O,j)},X.toWeb=function(O){return pe().newWritableStreamFromStreamWritable(O)}}),sN=he((e,t)=>{ue(),de(),ce();var n=Xo(),r=(kt(),rt(Ot)),{isReadable:o,isWritable:i,isIterable:s,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:c,isReadableStream:d,isWritableStream:f}=kr(),h=co(),{AbortError:v,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m}}=tn(),{destroyer:b}=is(),y=Rr(),_=Uc(),D=Hm(),{createDeferredPromise:w}=un(),C=PE(),S=globalThis.Blob||r.Blob,A=typeof S<"u"?function(H){return H instanceof S}:function(H){return!1},N=globalThis.AbortController||Pa().AbortController,{FunctionPrototypeCall:R}=dt(),F=class extends y{constructor(H){super(H),H?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),H?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function H(L,oe){if(c(L))return L;if(l(L))return V({readable:L});if(u(L))return V({writable:L});if(a(L))return V({writable:!1,readable:!1});if(d(L))return V({readable:_.fromWeb(L)});if(f(L))return V({writable:D.fromWeb(L)});if(typeof L=="function"){let{value:z,write:re,final:B,destroy:ee}=T(L);if(s(z))return C(F,z,{objectMode:!0,write:re,final:B,destroy:ee});let x=z?.then;if(typeof x=="function"){let Y,ge=R(x,z,te=>{if(te!=null)throw new m("nully","body",te)},te=>{b(Y,te)});return Y=new F({objectMode:!0,readable:!1,write:re,final(te){B(()=>Xe(null,null,function*(){try{yield ge,n.nextTick(te,null)}catch(Ee){n.nextTick(te,Ee)}}))},destroy:ee})}throw new m("Iterable, AsyncIterable or AsyncFunction",oe,z)}if(A(L))return H(L.arrayBuffer());if(s(L))return C(F,L,{objectMode:!0,writable:!1});if(d(L?.readable)&&f(L?.writable))return F.fromWeb(L);if(typeof L?.writable=="object"||typeof L?.readable=="object"){let z=L!=null&&L.readable?l(L?.readable)?L?.readable:H(L.readable):void 0,re=L!=null&&L.writable?u(L?.writable)?L?.writable:H(L.writable):void 0;return V({readable:z,writable:re})}let X=L?.then;if(typeof X=="function"){let z;return R(X,L,re=>{re!=null&&z.push(re),z.push(null)},re=>{b(z,re)}),z=new F({objectMode:!0,writable:!1,read(){}})}throw new g(oe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],L)};function T(H){let{promise:L,resolve:oe}=w(),X=new N,z=X.signal;return{value:H((function(){return sr(this,null,function*(){for(;;){let re=L;L=null;let{chunk:B,done:ee,cb:x}=yield new Yt(re);if(n.nextTick(x),ee)return;if(z.aborted)throw new v(void 0,{cause:z.reason});({promise:L,resolve:oe}=w()),yield B}})})(),{signal:z}),write(re,B,ee){let x=oe;oe=null,x({chunk:re,done:!1,cb:ee})},final(re){let B=oe;oe=null,B({done:!0,cb:re})},destroy(re,B){X.abort(),B(re)}}}function V(H){let L=H.readable&&typeof H.readable.read!="function"?_.wrap(H.readable):H.readable,oe=H.writable,X=!!o(L),z=!!i(oe),re,B,ee,x,Y;function ge(te){let Ee=x;x=null,Ee?Ee(te):te&&Y.destroy(te)}return Y=new F({readableObjectMode:!!(L!=null&&L.readableObjectMode),writableObjectMode:!!(oe!=null&&oe.writableObjectMode),readable:X,writable:z}),z&&(h(oe,te=>{z=!1,te&&b(L,te),ge(te)}),Y._write=function(te,Ee,G){oe.write(te,Ee)?G():re=G},Y._final=function(te){oe.end(),B=te},oe.on("drain",function(){if(re){let te=re;re=null,te()}}),oe.on("finish",function(){if(B){let te=B;B=null,te()}})),X&&(h(L,te=>{X=!1,te&&b(L,te),ge(te)}),L.on("readable",function(){if(ee){let te=ee;ee=null,te()}}),L.on("end",function(){Y.push(null)}),Y._read=function(){for(;;){let te=L.read();if(te===null){ee=Y._read;return}if(!Y.push(te))return}}),Y._destroy=function(te,Ee){!te&&x!==null&&(te=new v),ee=null,re=null,B=null,x===null?Ee(te):(x=Ee,b(oe,te),b(L,te))},Y}}),Rr=he((e,t)=>{"use strict";ue(),de(),ce();var{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:o,ObjectSetPrototypeOf:i}=dt();t.exports=l;var s=Uc(),a=Hm();i(l.prototype,s.prototype),i(l,s);{let f=o(a.prototype);for(let h=0;h<f.length;h++){let v=f[h];l.prototype[v]||(l.prototype[v]=a.prototype[v])}}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),a.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(l.prototype,{writable:be({__proto__:null},r(a.prototype,"writable")),writableHighWaterMark:be({__proto__:null},r(a.prototype,"writableHighWaterMark")),writableObjectMode:be({__proto__:null},r(a.prototype,"writableObjectMode")),writableBuffer:be({__proto__:null},r(a.prototype,"writableBuffer")),writableLength:be({__proto__:null},r(a.prototype,"writableLength")),writableFinished:be({__proto__:null},r(a.prototype,"writableFinished")),writableCorked:be({__proto__:null},r(a.prototype,"writableCorked")),writableEnded:be({__proto__:null},r(a.prototype,"writableEnded")),writableNeedDrain:be({__proto__:null},r(a.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});var u;function c(){return u===void 0&&(u={}),u}l.fromWeb=function(f,h){return c().newStreamDuplexFromReadableWritablePair(f,h)},l.toWeb=function(f){return c().newReadableWritablePairFromDuplex(f)};var d;l.from=function(f){return d||(d=sN()),d(f,"body")}}),FE=he((e,t)=>{"use strict";ue(),de(),ce();var{ObjectSetPrototypeOf:n,Symbol:r}=dt();t.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:o}=tn().codes,i=Rr(),{getHighWaterMark:s}=Vc();n(l.prototype,i.prototype),n(l,i);var a=r("kCallback");function l(d){if(!(this instanceof l))return new l(d);let f=d?s(this,d,"readableHighWaterMark",!0):null;f===0&&(d=Oe(be({},d),{highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:d.writableHighWaterMark||0})),i.call(this,d),this._readableState.sync=!1,this[a]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function u(d){typeof this._flush=="function"&&!this.destroyed?this._flush((f,h)=>{if(f){d?d(f):this.destroy(f);return}h!=null&&this.push(h),this.push(null),d&&d()}):(this.push(null),d&&d())}function c(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(d,f,h){throw new o("_transform()")},l.prototype._write=function(d,f,h){let v=this._readableState,g=this._writableState,m=v.length;this._transform(d,f,(b,y)=>{if(b){h(b);return}y!=null&&this.push(y),g.ended||m===v.length||v.length<v.highWaterMark?h():this[a]=h})},l.prototype._read=function(){if(this[a]){let d=this[a];this[a]=null,d()}}}),LE=he((e,t)=>{"use strict";ue(),de(),ce();var{ObjectSetPrototypeOf:n}=dt();t.exports=o;var r=FE();n(o.prototype,r.prototype),n(o,r);function o(i){if(!(this instanceof o))return new o(i);r.call(this,i)}o.prototype._transform=function(i,s,a){a(null,i)}}),Wm=he((e,t)=>{ue(),de(),ce();var n=Xo(),{ArrayIsArray:r,Promise:o,SymbolAsyncIterator:i,SymbolDispose:s}=dt(),a=co(),{once:l}=un(),u=is(),c=Rr(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:v,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:b}=tn(),{validateFunction:y,validateAbortSignal:_}=Fa(),{isIterable:D,isReadable:w,isReadableNodeStream:C,isNodeStream:S,isTransformStream:A,isWebStream:N,isReadableStream:R,isReadableFinished:F}=kr(),T=globalThis.AbortController||Pa().AbortController,V,H,L;function oe(te,Ee,G){let P=!1;te.on("close",()=>{P=!0});let ae=a(te,{readable:Ee,writable:G},J=>{P=!J});return{destroy:J=>{P||(P=!0,u.destroyer(te,J||new g("pipe")))},cleanup:ae}}function X(te){return y(te[te.length-1],"streams[stream.length - 1]"),te.pop()}function z(te){if(D(te))return te;if(C(te))return re(te);throw new f("val",["Readable","Iterable","AsyncIterable"],te)}function re(te){return sr(this,null,function*(){H||(H=Uc()),yield*jr(H.prototype[i].call(te))})}function B(ae,J,q,Q){return Xe(this,arguments,function*(te,Ee,G,{end:P}){let ve,pe=null,O=le=>{if(le&&(ve=le),pe){let Ce=pe;pe=null,Ce()}},j=()=>new o((le,Ce)=>{ve?Ce(ve):pe=()=>{ve?Ce(ve):le()}});Ee.on("drain",O);let Z=a(Ee,{readable:!1},O);try{Ee.writableNeedDrain&&(yield j());try{for(var se=fn(te),fe,ye,$;fe=!(ye=yield se.next()).done;fe=!1){let le=ye.value;Ee.write(le)||(yield j())}}catch{$=[ye]}finally{try{fe&&(ye=se.return)&&(yield ye.call(se))}finally{if($)throw $[0]}}P&&(Ee.end(),yield j()),G()}catch(le){G(ve!==le?d(ve,le):le)}finally{Z(),Ee.off("drain",O)}})}function ee(ae,J,q,Q){return Xe(this,arguments,function*(te,Ee,G,{end:P}){A(Ee)&&(Ee=Ee.writable);let ve=Ee.getWriter();try{try{for(var pe=fn(te),O,j,Z;O=!(j=yield pe.next()).done;O=!1){let se=j.value;yield ve.ready,ve.write(se).catch(()=>{})}}catch{Z=[j]}finally{try{O&&(j=pe.return)&&(yield j.call(pe))}finally{if(Z)throw Z[0]}}yield ve.ready,P&&(yield ve.close()),G()}catch(se){try{yield ve.abort(se),G(se)}catch(fe){G(fe)}}})}function x(...te){return Y(te,l(X(te)))}function Y(te,Ee,G){if(te.length===1&&r(te[0])&&(te=te[0]),te.length<2)throw new v("streams");let P=new T,ae=P.signal,J=G?.signal,q=[];_(J,"options.signal");function Q(){fe(new b)}L=L||un().addAbortListener;let ve;J&&(ve=L(J,Q));let pe,O,j=[],Z=0;function se(me){fe(me,--Z===0)}function fe(me,Ie){var p;if(me&&(!pe||pe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(pe=me),!(!pe&&!Ie)){for(;j.length;)j.shift()(pe);(p=ve)===null||p===void 0||p[s](),P.abort(),Ie&&(pe||q.forEach(E=>E()),n.nextTick(Ee,pe,O))}}let ye;for(let me=0;me<te.length;me++){let Ie=te[me],p=me<te.length-1,E=me>0,I=p||G?.end!==!1,U=me===te.length-1;if(S(Ie)){let W=function(ie){ie&&ie.name!=="AbortError"&&ie.code!=="ERR_STREAM_PREMATURE_CLOSE"&&se(ie)};var $=W;if(I){let{destroy:ie,cleanup:_e}=oe(Ie,p,E);j.push(ie),w(Ie)&&U&&q.push(_e)}Ie.on("error",W),w(Ie)&&U&&q.push(()=>{Ie.removeListener("error",W)})}if(me===0)if(typeof Ie=="function"){if(ye=Ie({signal:ae}),!D(ye))throw new h("Iterable, AsyncIterable or Stream","source",ye)}else D(Ie)||C(Ie)||A(Ie)?ye=Ie:ye=c.from(Ie);else if(typeof Ie=="function"){if(A(ye)){var le;ye=z((le=ye)===null||le===void 0?void 0:le.readable)}else ye=z(ye);if(ye=Ie(ye,{signal:ae}),p){if(!D(ye,!0))throw new h("AsyncIterable",`transform[${me-1}]`,ye)}else{var Ce;V||(V=LE());let W=new V({objectMode:!0}),ie=(Ce=ye)===null||Ce===void 0?void 0:Ce.then;if(typeof ie=="function")Z++,ie.call(ye,ne=>{O=ne,ne!=null&&W.write(ne),I&&W.end(),n.nextTick(se)},ne=>{W.destroy(ne),n.nextTick(se,ne)});else if(D(ye,!0))Z++,B(ye,W,se,{end:I});else if(R(ye)||A(ye)){let ne=ye.readable||ye;Z++,B(ne,W,se,{end:I})}else throw new h("AsyncIterable or Promise","destination",ye);ye=W;let{destroy:_e,cleanup:K}=oe(ye,!1,!0);j.push(_e),U&&q.push(K)}}else if(S(Ie)){if(C(ye)){Z+=2;let W=ge(ye,Ie,se,{end:I});w(Ie)&&U&&q.push(W)}else if(A(ye)||R(ye)){let W=ye.readable||ye;Z++,B(W,Ie,se,{end:I})}else if(D(ye))Z++,B(ye,Ie,se,{end:I});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ye);ye=Ie}else if(N(Ie)){if(C(ye))Z++,ee(z(ye),Ie,se,{end:I});else if(R(ye)||D(ye))Z++,ee(ye,Ie,se,{end:I});else if(A(ye))Z++,ee(ye.readable,Ie,se,{end:I});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ye);ye=Ie}else ye=c.from(Ie)}return(ae!=null&&ae.aborted||J!=null&&J.aborted)&&n.nextTick(Q),ye}function ge(te,Ee,G,{end:P}){let ae=!1;if(Ee.on("close",()=>{ae||G(new m)}),te.pipe(Ee,{end:!1}),P){let q=function(){ae=!0,Ee.end()};var J=q;F(te)?n.nextTick(q):te.once("end",q)}else G();return a(te,{readable:!0,writable:!1},q=>{let Q=te._readableState;q&&q.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?te.once("end",G).once("error",G):G(q)}),a(Ee,{readable:!1,writable:!0},G)}t.exports={pipelineImpl:Y,pipeline:x}}),jE=he((e,t)=>{"use strict";ue(),de(),ce();var{pipeline:n}=Wm(),r=Rr(),{destroyer:o}=is(),{isNodeStream:i,isReadable:s,isWritable:a,isWebStream:l,isTransformStream:u,isWritableStream:c,isReadableStream:d}=kr(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:v}}=tn(),g=co();t.exports=function(...m){if(m.length===0)throw new v("streams");if(m.length===1)return r.from(m[0]);let b=[...m];if(typeof m[0]=="function"&&(m[0]=r.from(m[0])),typeof m[m.length-1]=="function"){let T=m.length-1;m[T]=r.from(m[T])}for(let T=0;T<m.length;++T)if(!(!i(m[T])&&!l(m[T]))){if(T<m.length-1&&!(s(m[T])||d(m[T])||u(m[T])))throw new h(`streams[${T}]`,b[T],"must be readable");if(T>0&&!(a(m[T])||c(m[T])||u(m[T])))throw new h(`streams[${T}]`,b[T],"must be writable")}let y,_,D,w,C;function S(T){let V=w;w=null,V?V(T):T?C.destroy(T):!F&&!R&&C.destroy()}let A=m[0],N=n(m,S),R=!!(a(A)||c(A)||u(A)),F=!!(s(N)||d(N)||u(N));if(C=new r({writableObjectMode:!!(A!=null&&A.writableObjectMode),readableObjectMode:!!(N!=null&&N.readableObjectMode),writable:R,readable:F}),R){if(i(A))C._write=function(V,H,L){A.write(V,H)?L():y=L},C._final=function(V){A.end(),_=V},A.on("drain",function(){if(y){let V=y;y=null,V()}});else if(l(A)){let V=(u(A)?A.writable:A).getWriter();C._write=function(H,L,oe){return Xe(this,null,function*(){try{yield V.ready,V.write(H).catch(()=>{}),oe()}catch(X){oe(X)}})},C._final=function(H){return Xe(this,null,function*(){try{yield V.ready,V.close().catch(()=>{}),_=H}catch(L){H(L)}})}}let T=u(N)?N.readable:N;g(T,()=>{if(_){let V=_;_=null,V()}})}if(F){if(i(N))N.on("readable",function(){if(D){let T=D;D=null,T()}}),N.on("end",function(){C.push(null)}),C._read=function(){for(;;){let T=N.read();if(T===null){D=C._read;return}if(!C.push(T))return}};else if(l(N)){let T=(u(N)?N.readable:N).getReader();C._read=function(){return Xe(this,null,function*(){for(;;)try{let{value:V,done:H}=yield T.read();if(!C.push(V))return;if(H){C.push(null);return}}catch{return}})}}}return C._destroy=function(T,V){!T&&w!==null&&(T=new f),D=null,y=null,_=null,w===null?V(T):(w=V,i(N)&&o(N,T))},C}}),aN=he((e,t)=>{"use strict";ue(),de(),ce();var n=globalThis.AbortController||Pa().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:s},AbortError:a}=tn(),{validateAbortSignal:l,validateInteger:u,validateObject:c}=Fa(),d=dt().Symbol("kWeak"),f=dt().Symbol("kResistStopPropagation"),{finished:h}=co(),v=jE(),{addAbortSignalNoValidate:g}=Bc(),{isWritable:m,isNodeStream:b}=kr(),{deprecate:y}=un(),{ArrayPrototypePush:_,Boolean:D,MathFloor:w,Number:C,NumberIsNaN:S,Promise:A,PromiseReject:N,PromiseResolve:R,PromisePrototypeThen:F,Symbol:T}=dt(),V=T("kEmpty"),H=T("kEof");function L(J,q){if(q!=null&&c(q,"options"),q?.signal!=null&&l(q.signal,"options.signal"),b(J)&&!m(J))throw new r("stream",J,"must be writable");let Q=v(this,J);return q!=null&&q.signal&&g(q.signal,Q),Q}function oe(J,q){if(typeof J!="function")throw new o("fn",["Function","AsyncFunction"],J);q!=null&&c(q,"options"),q?.signal!=null&&l(q.signal,"options.signal");let Q=1;q?.concurrency!=null&&(Q=w(q.concurrency));let ve=Q-1;return q?.highWaterMark!=null&&(ve=w(q.highWaterMark)),u(Q,"options.concurrency",1),u(ve,"options.highWaterMark",0),ve+=Q,(function(){return sr(this,null,function*(){let pe=un().AbortSignalAny([q?.signal].filter(D)),O=this,j=[],Z={signal:pe},se,fe,ye=!1,$=0;function le(){ye=!0,Ce()}function Ce(){$-=1,me()}function me(){fe&&!ye&&$<Q&&j.length<ve&&(fe(),fe=null)}function Ie(){return Xe(this,null,function*(){try{try{for(var p=fn(O),E,I,U;E=!(I=yield p.next()).done;E=!1){let W=I.value;if(ye)return;if(pe.aborted)throw new a;try{if(W=J(W,Z),W===V)continue;W=R(W)}catch(ie){W=N(ie)}$+=1,F(W,Ce,le),j.push(W),se&&(se(),se=null),!ye&&(j.length>=ve||$>=Q)&&(yield new A(ie=>{fe=ie}))}}catch{U=[I]}finally{try{E&&(I=p.return)&&(yield I.call(p))}finally{if(U)throw U[0]}}j.push(H)}catch(W){let ie=N(W);F(ie,Ce,le),j.push(ie)}finally{ye=!0,se&&(se(),se=null)}})}Ie();try{for(;;){for(;j.length>0;){let p=yield new Yt(j[0]);if(p===H)return;if(pe.aborted)throw new a;p!==V&&(yield p),j.shift(),me()}yield new Yt(new A(p=>{se=p}))}}finally{ye=!0,fe&&(fe(),fe=null)}})}).call(this)}function X(J=void 0){return J!=null&&c(J,"options"),J?.signal!=null&&l(J.signal,"options.signal"),(function(){return sr(this,null,function*(){let q=0;try{for(var ve=fn(this),pe,O,j;pe=!(O=yield new Yt(ve.next())).done;pe=!1){let Z=O.value;var Q;if(J!=null&&(Q=J.signal)!==null&&Q!==void 0&&Q.aborted)throw new a({cause:J.signal.reason});yield[q++,Z]}}catch{j=[O]}finally{try{pe&&(O=ve.return)&&(yield new Yt(O.call(ve)))}finally{if(j)throw j[0]}}})}).call(this)}function z(J,q=void 0){return Xe(this,null,function*(){try{for(var Q=fn(x.call(this,J,q)),ve,pe,O;ve=!(pe=yield Q.next()).done;ve=!1){let j=pe.value;return!0}}catch{O=[pe]}finally{try{ve&&(pe=Q.return)&&(yield pe.call(Q))}finally{if(O)throw O[0]}}return!1})}function re(J,q=void 0){return Xe(this,null,function*(){if(typeof J!="function")throw new o("fn",["Function","AsyncFunction"],J);return!(yield z.call(this,(...Q)=>Xe(this,null,function*(){return!(yield J(...Q))}),q))})}function B(J,q){return Xe(this,null,function*(){try{for(var Q=fn(x.call(this,J,q)),ve,pe,O;ve=!(pe=yield Q.next()).done;ve=!1){let j=pe.value;return j}}catch{O=[pe]}finally{try{ve&&(pe=Q.return)&&(yield pe.call(Q))}finally{if(O)throw O[0]}}})}function ee(J,q){return Xe(this,null,function*(){if(typeof J!="function")throw new o("fn",["Function","AsyncFunction"],J);function Q(Z,se){return Xe(this,null,function*(){return yield J(Z,se),V})}try{for(var ve=fn(oe.call(this,Q,q)),pe,O,j;pe=!(O=yield ve.next()).done;pe=!1){let Z=O.value;;}}catch{j=[O]}finally{try{pe&&(O=ve.return)&&(yield O.call(ve))}finally{if(j)throw j[0]}}})}function x(J,q){if(typeof J!="function")throw new o("fn",["Function","AsyncFunction"],J);function Q(ve,pe){return Xe(this,null,function*(){return(yield J(ve,pe))?ve:V})}return oe.call(this,Q,q)}var Y=class extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};function ge(ve,pe,O){return Xe(this,arguments,function*(J,q,Q){var j;if(typeof J!="function")throw new o("reducer",["Function","AsyncFunction"],J);Q!=null&&c(Q,"options"),Q?.signal!=null&&l(Q.signal,"options.signal");let Z=arguments.length>1;if(Q!=null&&(j=Q.signal)!==null&&j!==void 0&&j.aborted){let p=new a(void 0,{cause:Q.signal.reason});throw this.once("error",()=>{}),yield h(this.destroy(p)),p}let se=new n,fe=se.signal;if(Q!=null&&Q.signal){let p={once:!0,[d]:this,[f]:!0};Q.signal.addEventListener("abort",()=>se.abort(),p)}let ye=!1;try{try{for(var le=fn(this),Ce,me,Ie;Ce=!(me=yield le.next()).done;Ce=!1){let p=me.value;var $;if(ye=!0,Q!=null&&($=Q.signal)!==null&&$!==void 0&&$.aborted)throw new a;Z?q=yield J(q,p,{signal:fe}):(q=p,Z=!0)}}catch{Ie=[me]}finally{try{Ce&&(me=le.return)&&(yield me.call(le))}finally{if(Ie)throw Ie[0]}}if(!ye&&!Z)throw new Y}finally{se.abort()}return q})}function te(J){return Xe(this,null,function*(){J!=null&&c(J,"options"),J?.signal!=null&&l(J.signal,"options.signal");let q=[];try{for(var ve=fn(this),pe,O,j;pe=!(O=yield ve.next()).done;pe=!1){let Z=O.value;var Q;if(J!=null&&(Q=J.signal)!==null&&Q!==void 0&&Q.aborted)throw new a(void 0,{cause:J.signal.reason});_(q,Z)}}catch{j=[O]}finally{try{pe&&(O=ve.return)&&(yield O.call(ve))}finally{if(j)throw j[0]}}return q})}function Ee(J,q){let Q=oe.call(this,J,q);return(function(){return sr(this,null,function*(){try{for(var ve=fn(Q),pe,O,j;pe=!(O=yield new Yt(ve.next())).done;pe=!1){let Z=O.value;yield*jr(Z)}}catch{j=[O]}finally{try{pe&&(O=ve.return)&&(yield new Yt(O.call(ve)))}finally{if(j)throw j[0]}}})}).call(this)}function G(J){if(J=C(J),S(J))return 0;if(J<0)throw new s("number",">= 0",J);return J}function P(J,q=void 0){return q!=null&&c(q,"options"),q?.signal!=null&&l(q.signal,"options.signal"),J=G(J),(function(){return sr(this,null,function*(){var Q;if(q!=null&&(Q=q.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;try{for(var pe=fn(this),O,j,Z;O=!(j=yield new Yt(pe.next())).done;O=!1){let se=j.value;var ve;if(q!=null&&(ve=q.signal)!==null&&ve!==void 0&&ve.aborted)throw new a;J--<=0&&(yield se)}}catch{Z=[j]}finally{try{O&&(j=pe.return)&&(yield new Yt(j.call(pe)))}finally{if(Z)throw Z[0]}}})}).call(this)}function ae(J,q=void 0){return q!=null&&c(q,"options"),q?.signal!=null&&l(q.signal,"options.signal"),J=G(J),(function(){return sr(this,null,function*(){var Q;if(q!=null&&(Q=q.signal)!==null&&Q!==void 0&&Q.aborted)throw new a;try{for(var pe=fn(this),O,j,Z;O=!(j=yield new Yt(pe.next())).done;O=!1){let se=j.value;var ve;if(q!=null&&(ve=q.signal)!==null&&ve!==void 0&&ve.aborted)throw new a;if(J-- >0&&(yield se),J<=0)return}}catch{Z=[j]}finally{try{O&&(j=pe.return)&&(yield new Yt(j.call(pe)))}finally{if(Z)throw Z[0]}}})}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:y(X,"readable.asIndexedPairs will be removed in a future version."),drop:P,filter:x,flatMap:Ee,map:oe,take:ae,compose:L},t.exports.promiseReturningOperators={every:re,forEach:ee,reduce:ge,toArray:te,some:z,find:B}}),BE=he((e,t)=>{"use strict";ue(),de(),ce();var{ArrayPrototypePop:n,Promise:r}=dt(),{isIterable:o,isNodeStream:i,isWebStream:s}=kr(),{pipelineImpl:a}=Wm(),{finished:l}=co();VE();function u(...c){return new r((d,f)=>{let h,v,g=c[c.length-1];if(g&&typeof g=="object"&&!i(g)&&!o(g)&&!s(g)){let m=n(c);h=m.signal,v=m.end}a(c,(m,b)=>{m?f(m):d(b)},{signal:h,end:v})})}t.exports={finished:l,pipeline:u}}),VE=he((e,t)=>{"use strict";ue(),de(),ce();var{Buffer:n}=(kt(),rt(Ot)),{ObjectDefineProperty:r,ObjectKeys:o,ReflectApply:i}=dt(),{promisify:{custom:s}}=un(),{streamReturningOperators:a,promiseReturningOperators:l}=aN(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=tn(),c=jE(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=Vc(),{pipeline:h}=Wm(),{destroyer:v}=is(),g=co(),m=BE(),b=kr(),y=t.exports=$m().Stream;y.isDestroyed=b.isDestroyed,y.isDisturbed=b.isDisturbed,y.isErrored=b.isErrored,y.isReadable=b.isReadable,y.isWritable=b.isWritable,y.Readable=Uc();for(let D of o(a)){let w=function(...S){if(new.target)throw u();return y.Readable.from(i(C,this,S))},C=a[D];r(w,"name",{__proto__:null,value:C.name}),r(w,"length",{__proto__:null,value:C.length}),r(y.Readable.prototype,D,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(let D of o(l)){let w=function(...S){if(new.target)throw u();return i(C,this,S)},C=l[D];r(w,"name",{__proto__:null,value:C.name}),r(w,"length",{__proto__:null,value:C.length}),r(y.Readable.prototype,D,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}y.Writable=Hm(),y.Duplex=Rr(),y.Transform=FE(),y.PassThrough=LE(),y.pipeline=h;var{addAbortSignal:_}=Bc();y.addAbortSignal=_,y.finished=g,y.destroy=v,y.compose=c,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=f,r(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),r(h,s,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),r(g,s,{__proto__:null,enumerable:!0,get(){return m.finished}}),y.Stream=y,y._isUint8Array=function(D){return D instanceof Uint8Array},y._uint8ArrayToBuffer=function(D){return n.from(D.buffer,D.byteOffset,D.byteLength)}}),ei=he((e,t)=>{"use strict";ue(),de(),ce();var n=VE(),r=BE(),o=n.Readable.destroy;t.exports=n.Readable,t.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,t.exports._isUint8Array=n._isUint8Array,t.exports.isDisturbed=n.isDisturbed,t.exports.isErrored=n.isErrored,t.exports.isReadable=n.isReadable,t.exports.Readable=n.Readable,t.exports.Writable=n.Writable,t.exports.Duplex=n.Duplex,t.exports.Transform=n.Transform,t.exports.PassThrough=n.PassThrough,t.exports.addAbortSignal=n.addAbortSignal,t.exports.finished=n.finished,t.exports.destroy=n.destroy,t.exports.destroy=o,t.exports.pipeline=n.pipeline,t.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=n.Stream,t.exports.default=t.exports}),lN=he((e,t)=>{ue(),de(),ce(),typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var o=function(){};o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}}}),uN=he((e,t)=>{"use strict";ue(),de(),ce();var{Buffer:n}=(kt(),rt(Ot)),r=Symbol.for("BufferList");function o(i){if(!(this instanceof o))return new o(i);o._init.call(this,i)}o._init=function(i){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,i&&this.append(i)},o.prototype._new=function(i){return new o(i)},o.prototype._offset=function(i){if(i===0)return[0,0];let s=0;for(let a=0;a<this._bufs.length;a++){let l=s+this._bufs[a].length;if(i<l||a===this._bufs.length-1)return[a,i-s];s=l}},o.prototype._reverseOffset=function(i){let s=i[0],a=i[1];for(let l=0;l<s;l++)a+=this._bufs[l].length;return a},o.prototype.getBuffers=function(){return this._bufs},o.prototype.get=function(i){if(i>this.length||i<0)return;let s=this._offset(i);return this._bufs[s[0]][s[1]]},o.prototype.slice=function(i,s){return typeof i=="number"&&i<0&&(i+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,i,s)},o.prototype.copy=function(i,s,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return i||n.alloc(0);let u=!!i,c=this._offset(a),d=l-a,f=d,h=u&&s||0,v=c[1];if(a===0&&l===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length);for(let g=0;g<this._bufs.length;g++)this._bufs[g].copy(i,h),h+=this._bufs[g].length;return i}if(f<=this._bufs[c[0]].length-v)return u?this._bufs[c[0]].copy(i,s,v,v+f):this._bufs[c[0]].slice(v,v+f);u||(i=n.allocUnsafe(d));for(let g=c[0];g<this._bufs.length;g++){let m=this._bufs[g].length-v;if(f>m)this._bufs[g].copy(i,h,v),h+=m;else{this._bufs[g].copy(i,h,v,v+f),h+=m;break}f-=m,v&&(v=0)}return i.length>h?i.slice(0,h):i},o.prototype.shallowSlice=function(i,s){if(i=i||0,s=typeof s!="number"?this.length:s,i<0&&(i+=this.length),s<0&&(s+=this.length),i===s)return this._new();let a=this._offset(i),l=this._offset(s),u=this._bufs.slice(a[0],l[0]+1);return l[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,l[1]),a[1]!==0&&(u[0]=u[0].slice(a[1])),this._new(u)},o.prototype.toString=function(i,s,a){return this.slice(s,a).toString(i)},o.prototype.consume=function(i){if(i=Math.trunc(i),Number.isNaN(i)||i<=0)return this;for(;this._bufs.length;)if(i>=this._bufs[0].length)i-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(i),this.length-=i;break}return this},o.prototype.duplicate=function(){let i=this._new();for(let s=0;s<this._bufs.length;s++)i.append(this._bufs[s]);return i},o.prototype.append=function(i){return this._attach(i,o.prototype._appendBuffer)},o.prototype.prepend=function(i){return this._attach(i,o.prototype._prependBuffer,!0)},o.prototype._attach=function(i,s,a){if(i==null)return this;if(i.buffer)s.call(this,n.from(i.buffer,i.byteOffset,i.byteLength));else if(Array.isArray(i)){let[l,u]=a?[i.length-1,-1]:[0,1];for(let c=l;c>=0&&c<i.length;c+=u)this._attach(i[c],s,a)}else if(this._isBufferList(i)){let[l,u]=a?[i._bufs.length-1,-1]:[0,1];for(let c=l;c>=0&&c<i._bufs.length;c+=u)this._attach(i._bufs[c],s,a)}else typeof i=="number"&&(i=i.toString()),s.call(this,n.from(i));return this},o.prototype._appendBuffer=function(i){this._bufs.push(i),this.length+=i.length},o.prototype._prependBuffer=function(i){this._bufs.unshift(i),this.length+=i.length},o.prototype.indexOf=function(i,s,a){if(a===void 0&&typeof s=="string"&&(a=s,s=void 0),typeof i=="function"||Array.isArray(i))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof i=="number"?i=n.from([i]):typeof i=="string"?i=n.from(i,a):this._isBufferList(i)?i=i.slice():Array.isArray(i.buffer)?i=n.from(i.buffer,i.byteOffset,i.byteLength):n.isBuffer(i)||(i=n.from(i)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),i.length===0)return s>this.length?this.length:s;let l=this._offset(s),u=l[0],c=l[1];for(;u<this._bufs.length;u++){let d=this._bufs[u];for(;c<d.length;)if(d.length-c>=i.length){let f=d.indexOf(i,c);if(f!==-1)return this._reverseOffset([u,f]);c=d.length-i.length+1}else{let f=this._reverseOffset([u,c]);if(this._match(f,i))return f;c++}c=0}return-1},o.prototype._match=function(i,s){if(this.length-i<s.length)return!1;for(let a=0;a<s.length;a++)if(this.get(i+a)!==s[a])return!1;return!0},(function(){let i={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in i)(function(a){i[a]===null?o.prototype[a]=function(l,u){return this.slice(l,l+u)[a](0,u)}:o.prototype[a]=function(l=0){return this.slice(l,l+i[a])[a](0)}})(s)})(),o.prototype._isBufferList=function(i){return i instanceof o||o.isBufferList(i)},o.isBufferList=function(i){return i!=null&&i[r]},t.exports=o}),cN=he((e,t)=>{"use strict";ue(),de(),ce();var n=ei().Duplex,r=lN(),o=uN();function i(s){if(!(this instanceof i))return new i(s);if(typeof s=="function"){this._callback=s;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),s=null}o._init.call(this,s),n.call(this)}r(i,n),Object.assign(i.prototype,o.prototype),i.prototype._new=function(s){return new i(s)},i.prototype._write=function(s,a,l){this._appendBuffer(s),typeof l=="function"&&l()},i.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},i.prototype.end=function(s){n.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype._destroy=function(s,a){this._bufs.length=0,this.length=0,a(s)},i.prototype._isBufferList=function(s){return s instanceof i||s instanceof o||i.isBufferList(s)},i.isBufferList=o.isBufferList,t.exports=i,t.exports.BufferListStream=i,t.exports.BufferList=o}),dN=he((e,t)=>{ue(),de(),ce();var n=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=n}),UE=he((e,t)=>{ue(),de(),ce();var n=t.exports,{Buffer:r}=(kt(),rt(Ot));n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},n.requiredHeaderFlagsErrors={};for(let i in n.requiredHeaderFlags){let s=n.requiredHeaderFlags[i];n.requiredHeaderFlagsErrors[i]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+n.types[i]+" packet"}n.codes={};for(let i in n.types){let s=n.types[i];n.codes[s]=i}n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=r.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=r.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=r.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={};for(let i in n.properties){let s=n.properties[i];n.propertiesCodes[s]=i}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function o(i){return[0,1,2].map(s=>[0,1].map(a=>[0,1].map(l=>{let u=r.alloc(1);return u.writeUInt8(n.codes[i]<<n.CMD_SHIFT|(a?n.DUP_MASK:0)|s<<n.QOS_SHIFT|l,0,!0),u})))}n.PUBLISH_HEADER=o("publish"),n.SUBSCRIBE_HEADER=o("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=o("unsubscribe"),n.ACKS={unsuback:o("unsuback"),puback:o("puback"),pubcomp:o("pubcomp"),pubrel:o("pubrel"),pubrec:o("pubrec")},n.SUBACK_HEADER=r.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=r.from([3]),n.VERSION4=r.from([4]),n.VERSION5=r.from([5]),n.VERSION131=r.from([131]),n.VERSION132=r.from([132]),n.QOS=[0,1,2].map(i=>r.from([i])),n.EMPTY={pingreq:r.from([n.codes.pingreq<<4,0]),pingresp:r.from([n.codes.pingresp<<4,0]),disconnect:r.from([n.codes.disconnect<<4,0])},n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),fN=he((e,t)=>{ue(),de(),ce();var n=1e3,r=n*60,o=r*60,i=o*24,s=i*7,a=i*365.25;t.exports=function(f,h){h=h||{};var v=typeof f;if(v==="string"&&f.length>0)return l(f);if(v==="number"&&isFinite(f))return h.long?c(f):u(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function l(f){if(f=String(f),!(f.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(h){var v=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return v*a;case"weeks":case"week":case"w":return v*s;case"days":case"day":case"d":return v*i;case"hours":case"hour":case"hrs":case"hr":case"h":return v*o;case"minutes":case"minute":case"mins":case"min":case"m":return v*r;case"seconds":case"second":case"secs":case"sec":case"s":return v*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function u(f){var h=Math.abs(f);return h>=i?Math.round(f/i)+"d":h>=o?Math.round(f/o)+"h":h>=r?Math.round(f/r)+"m":h>=n?Math.round(f/n)+"s":f+"ms"}function c(f){var h=Math.abs(f);return h>=i?d(f,h,i,"day"):h>=o?d(f,h,o,"hour"):h>=r?d(f,h,r,"minute"):h>=n?d(f,h,n,"second"):f+" ms"}function d(f,h,v,g){var m=h>=v*1.5;return Math.round(f/v)+" "+g+(m?"s":"")}}),hN=he((e,t)=>{ue(),de(),ce();function n(r){i.debug=i,i.default=i,i.coerce=d,i.disable=u,i.enable=a,i.enabled=c,i.humanize=fN(),i.destroy=f,Object.keys(r).forEach(h=>{i[h]=r[h]}),i.names=[],i.skips=[],i.formatters={};function o(h){let v=0;for(let g=0;g<h.length;g++)v=(v<<5)-v+h.charCodeAt(g),v|=0;return i.colors[Math.abs(v)%i.colors.length]}i.selectColor=o;function i(h){let v,g=null,m,b;function y(..._){if(!y.enabled)return;let D=y,w=Number(new Date),C=w-(v||w);D.diff=C,D.prev=v,D.curr=w,v=w,_[0]=i.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let S=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(A,N)=>{if(A==="%%")return"%";S++;let R=i.formatters[N];if(typeof R=="function"){let F=_[S];A=R.call(D,F),_.splice(S,1),S--}return A}),i.formatArgs.call(D,_),(D.log||i.log).apply(D,_)}return y.namespace=h,y.useColors=i.useColors(),y.color=i.selectColor(h),y.extend=s,y.destroy=i.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(m!==i.namespaces&&(m=i.namespaces,b=i.enabled(h)),b),set:_=>{g=_}}),typeof i.init=="function"&&i.init(y),y}function s(h,v){let g=i(this.namespace+(typeof v>"u"?":":v)+h);return g.log=this.log,g}function a(h){i.save(h),i.namespaces=h,i.names=[],i.skips=[];let v=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of v)g[0]==="-"?i.skips.push(g.slice(1)):i.names.push(g)}function l(h,v){let g=0,m=0,b=-1,y=0;for(;g<h.length;)if(m<v.length&&(v[m]===h[g]||v[m]==="*"))v[m]==="*"?(b=m,y=g,m++):(g++,m++);else if(b!==-1)m=b+1,y++,g=y;else return!1;for(;m<v.length&&v[m]==="*";)m++;return m===v.length}function u(){let h=[...i.names,...i.skips.map(v=>"-"+v)].join(",");return i.enable(""),h}function c(h){for(let v of i.skips)if(l(h,v))return!1;for(let v of i.names)if(l(h,v))return!0;return!1}function d(h){return h instanceof Error?h.stack||h.message:h}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}t.exports=n}),Or=he((e,t)=>{ue(),de(),ce(),e.formatArgs=r,e.save=o,e.load=i,e.useColors=n,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;l.splice(1,0,u,"color: inherit");let c=0,d=0;l[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(c++,f==="%c"&&(d=c))}),l.splice(d,0,u)}e.log=console.debug||console.log||(()=>{});function o(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function i(){let l;try{l=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!l&&typeof it<"u"&&"env"in it&&(l=it.env.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=hN()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),pN=he((e,t)=>{ue(),de(),ce();var n=cN(),{EventEmitter:r}=(Jo(),rt(uo)),o=dN(),i=UE(),s=Or()("mqtt-packet:parser"),a=class Qg extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof Qg?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Qg().parser(u)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=n(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),c=u>>i.CMD_SHIFT;this.packet.cmd=i.types[c];let d=u&15,f=i.requiredHeaderFlags[c];return f!=null&&d!==f?this._emitError(new Error(i.requiredHeaderFlagsErrors[c])):(this.packet.retain=(u&i.RETAIN_MASK)!==0,this.packet.qos=u>>i.QOS_SHIFT&i.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&i.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),s("_parseLength %d",u.value),!!u}_parsePayload(){s("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return s("_parsePayload complete result: %s",u),u}_parseConnect(){s("_parseConnect");let u,c,d,f,h={},v=this.packet,g=this._parseString();if(g===null)return this._emitError(new Error("Cannot parse protocolId"));if(g!=="MQTT"&&g!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(v.protocolId=g,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(v.protocolVersion=this._list.readUInt8(this._pos),v.protocolVersion>=128&&(v.bridgeMode=!0,v.protocolVersion=v.protocolVersion-128),v.protocolVersion!==3&&v.protocolVersion!==4&&v.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));h.username=this._list.readUInt8(this._pos)&i.USERNAME_MASK,h.password=this._list.readUInt8(this._pos)&i.PASSWORD_MASK,h.will=this._list.readUInt8(this._pos)&i.WILL_FLAG_MASK;let m=!!(this._list.readUInt8(this._pos)&i.WILL_RETAIN_MASK),b=(this._list.readUInt8(this._pos)&i.WILL_QOS_MASK)>>i.WILL_QOS_SHIFT;if(h.will)v.will={},v.will.retain=m,v.will.qos=b;else{if(m)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(b)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(v.clean=(this._list.readUInt8(this._pos)&i.CLEAN_SESSION_MASK)!==0,this._pos++,v.keepalive=this._parseNum(),v.keepalive===-1)return this._emitError(new Error("Packet too short"));if(v.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(v.properties=_)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(v.clientId=y,s("_parseConnect: packet.clientId: %s",v.clientId),h.will){if(v.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(v.will.properties=_)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(v.will.topic=u,s("_parseConnect: packet.will.topic: %s",v.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));v.will.payload=c,s("_parseConnect: packet.will.paylaod: %s",v.will.payload)}if(h.username){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse username"));v.username=f,s("_parseConnect: packet.username: %s",v.username)}if(h.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));v.password=d}return this.settings=v,s("_parseConnect: complete"),v}_parseConnack(){s("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(c&i.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}u.payload=this._list.slice(this._pos,u.length),s("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){s("_parseSubscribe");let u=this.packet,c,d,f,h,v,g,m;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(u.properties=b)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(f=d&i.SUBSCRIBE_OPTIONS_QOS_MASK,f>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(g=(d>>i.SUBSCRIBE_OPTIONS_NL_SHIFT&i.SUBSCRIBE_OPTIONS_NL_MASK)!==0,v=(d>>i.SUBSCRIBE_OPTIONS_RAP_SHIFT&i.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,h=d>>i.SUBSCRIBE_OPTIONS_RH_SHIFT&i.SUBSCRIBE_OPTIONS_RH_MASK,h>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));m={topic:c,qos:f},this.settings.protocolVersion===5?(m.nl=g,m.rap=v,m.rh=h):this.settings.bridgeMode&&(m.rh=0,m.rap=!0,m.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",m),u.subscriptions.push(m)}}}_parseSuback(){s("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!i.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),u.unsubscriptions.push(c)}}}_parseUnsuback(){s("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(u.properties=c),u.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!i.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!i.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!i.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}}return!0}_parseDisconnect(){let u=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),i.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!i.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(u.properties=c),s("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let c=this._parseNum(),d=c+this._pos;if(c===-1||d>this._list.length||d>this.packet.length)return null;let f=this._list.toString("utf8",this._pos,d);return this._pos+=c,s("_parseString: result: %s",f),f}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),c=u+this._pos;if(u===-1||c>this._list.length||c>this.packet.length)return null;let d=this._list.slice(this._pos,c);return this._pos+=u,s("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){s("_parseVarByteNum");let c=4,d=0,f=1,h=0,v=!1,g,m=this._pos?this._pos:0;for(;d<c&&m+d<this._list.length;){if(g=this._list.readUInt8(m+d++),h+=f*(g&i.VARBYTEINT_MASK),f*=128,(g&i.VARBYTEINT_FIN_MASK)===0){v=!0;break}if(this._list.length<=d)break}return!v&&d===c&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),m&&(this._pos+=d),v?u?v={bytes:d,value:h}:v=h:v=!1,s("_parseVarByteNum: result: %o",v),v}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",u),u}_parseByType(u){switch(s("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let u=this._parseVarByteNum(),c=this._pos+u,d={};for(;this._pos<c;){let f=this._parseByte();if(!f)return this._emitError(new Error("Cannot parse property code type")),!1;let h=i.propertiesCodes[f];if(!h)return this._emitError(new Error("Unknown property")),!1;if(h==="userProperties"){d[h]||(d[h]=Object.create(null));let v=this._parseByType(i.propertiesTypes[h]);if(d[h][v.name])if(Array.isArray(d[h][v.name]))d[h][v.name].push(v.value);else{let g=d[h][v.name];d[h][v.name]=[g],d[h][v.name].push(v.value)}else d[h][v.name]=v.value;continue}d[h]?Array.isArray(d[h])?d[h].push(this._parseByType(i.propertiesTypes[h])):(d[h]=[d[h]],d[h].push(this._parseByType(i.propertiesTypes[h]))):d[h]=this._parseByType(i.propertiesTypes[h])}return d}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(u){s("_emitError",u),this.error=u,this.emit("error",u)}};t.exports=a}),gN=he((e,t)=>{ue(),de(),ce();var{Buffer:n}=(kt(),rt(Ot)),r=65536,o={},i=n.isBuffer(n.from([1,2]).subarray(0,1));function s(c){let d=n.allocUnsafe(2);return d.writeUInt8(c>>8,0),d.writeUInt8(c&255,1),d}function a(){for(let c=0;c<r;c++)o[c]=s(c)}function l(c){let d=0,f=0,h=n.allocUnsafe(4);do d=c%128|0,c=c/128|0,c>0&&(d=d|128),h.writeUInt8(d,f++);while(c>0&&f<4);return c>0&&(f=0),i?h.subarray(0,f):h.slice(0,f)}function u(c){let d=n.allocUnsafe(4);return d.writeUInt32BE(c,0),d}t.exports={cache:o,generateCache:a,generateNumber:s,genBufVariableByteInt:l,generate4ByteBuffer:u}}),mN=he((e,t)=>{"use strict";ue(),de(),ce(),typeof it>"u"||!it.version||it.version.indexOf("v0.")===0||it.version.indexOf("v1.")===0&&it.version.indexOf("v1.8.")!==0?t.exports={nextTick:n}:t.exports=it;function n(r,o,i,s){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,u;switch(a){case 0:case 1:return it.nextTick(r);case 2:return it.nextTick(function(){r.call(null,o)});case 3:return it.nextTick(function(){r.call(null,o,i)});case 4:return it.nextTick(function(){r.call(null,o,i,s)});default:for(l=new Array(a-1),u=0;u<l.length;)l[u++]=arguments[u];return it.nextTick(function(){r.apply(null,l)})}}}),$E=he((e,t)=>{ue(),de(),ce();var n=UE(),{Buffer:r}=(kt(),rt(Ot)),o=r.allocUnsafe(0),i=r.from([0]),s=gN(),a=mN().nextTick,l=Or()("mqtt-packet:writeToStream"),u=s.cache,c=s.generateNumber,d=s.generateCache,f=s.genBufVariableByteInt,h=s.generate4ByteBuffer,v=X,g=!0;function m(G,P,ae){switch(l("generate called"),P.cork&&(P.cork(),a(b,P)),g&&(g=!1,d()),l("generate: packet.cmd: %s",G.cmd),G.cmd){case"connect":return y(G,P,ae);case"connack":return _(G,P,ae);case"publish":return D(G,P,ae);case"puback":case"pubrec":case"pubrel":case"pubcomp":return w(G,P,ae);case"subscribe":return C(G,P,ae);case"suback":return S(G,P,ae);case"unsubscribe":return A(G,P,ae);case"unsuback":return N(G,P,ae);case"pingreq":case"pingresp":return R(G,P,ae);case"disconnect":return F(G,P,ae);case"auth":return T(G,P,ae);default:return P.destroy(new Error("Unknown command")),!1}}Object.defineProperty(m,"cacheNumbers",{get(){return v===X},set(G){G?((!u||Object.keys(u).length===0)&&(g=!0),v=X):(g=!1,v=z)}});function b(G){G.uncork()}function y(G,P,ae){let J=G||{},q=J.protocolId||"MQTT",Q=J.protocolVersion||4,ve=J.will,pe=J.clean,O=J.keepalive||0,j=J.clientId||"",Z=J.username,se=J.password,fe=J.properties;pe===void 0&&(pe=!0);let ye=0;if(!q||typeof q!="string"&&!r.isBuffer(q))return P.destroy(new Error("Invalid protocolId")),!1;if(ye+=q.length+2,Q!==3&&Q!==4&&Q!==5)return P.destroy(new Error("Invalid protocol version")),!1;if(ye+=1,(typeof j=="string"||r.isBuffer(j))&&(j||Q>=4)&&(j||pe))ye+=r.byteLength(j)+2;else{if(Q<4)return P.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(pe*1===0)return P.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof O!="number"||O<0||O>65535||O%1!==0)return P.destroy(new Error("Invalid keepalive")),!1;ye+=2,ye+=1;let $,le;if(Q===5){if($=ee(P,fe),!$)return!1;ye+=$.length}if(ve){if(typeof ve!="object")return P.destroy(new Error("Invalid will")),!1;if(!ve.topic||typeof ve.topic!="string")return P.destroy(new Error("Invalid will topic")),!1;if(ye+=r.byteLength(ve.topic)+2,ye+=2,ve.payload)if(ve.payload.length>=0)typeof ve.payload=="string"?ye+=r.byteLength(ve.payload):ye+=ve.payload.length;else return P.destroy(new Error("Invalid will payload")),!1;if(le={},Q===5){if(le=ee(P,ve.properties),!le)return!1;ye+=le.length}}let Ce=!1;if(Z!=null)if(Ee(Z))Ce=!0,ye+=r.byteLength(Z)+2;else return P.destroy(new Error("Invalid username")),!1;if(se!=null){if(!Ce)return P.destroy(new Error("Username is required to use password")),!1;if(Ee(se))ye+=te(se)+2;else return P.destroy(new Error("Invalid password")),!1}P.write(n.CONNECT_HEADER),H(P,ye),B(P,q),J.bridgeMode&&(Q+=128),P.write(Q===131?n.VERSION131:Q===132?n.VERSION132:Q===4?n.VERSION4:Q===5?n.VERSION5:n.VERSION3);let me=0;return me|=Z!=null?n.USERNAME_MASK:0,me|=se!=null?n.PASSWORD_MASK:0,me|=ve&&ve.retain?n.WILL_RETAIN_MASK:0,me|=ve&&ve.qos?ve.qos<<n.WILL_QOS_SHIFT:0,me|=ve?n.WILL_FLAG_MASK:0,me|=pe?n.CLEAN_SESSION_MASK:0,P.write(r.from([me])),v(P,O),Q===5&&$.write(),B(P,j),ve&&(Q===5&&le.write(),L(P,ve.topic),B(P,ve.payload)),Z!=null&&B(P,Z),se!=null&&B(P,se),!0}function _(G,P,ae){let J=ae?ae.protocolVersion:4,q=G||{},Q=J===5?q.reasonCode:q.returnCode,ve=q.properties,pe=2;if(typeof Q!="number")return P.destroy(new Error("Invalid return code")),!1;let O=null;if(J===5){if(O=ee(P,ve),!O)return!1;pe+=O.length}return P.write(n.CONNACK_HEADER),H(P,pe),P.write(q.sessionPresent?n.SESSIONPRESENT_HEADER:i),P.write(r.from([Q])),O?.write(),!0}function D(G,P,ae){l("publish: packet: %o",G);let J=ae?ae.protocolVersion:4,q=G||{},Q=q.qos||0,ve=q.retain?n.RETAIN_MASK:0,pe=q.topic,O=q.payload||o,j=q.messageId,Z=q.properties,se=0;if(typeof pe=="string")se+=r.byteLength(pe)+2;else if(r.isBuffer(pe))se+=pe.length+2;else return P.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(O)?se+=O.length:se+=r.byteLength(O),Q&&typeof j!="number")return P.destroy(new Error("Invalid messageId")),!1;Q&&(se+=2);let fe=null;if(J===5){if(fe=ee(P,Z),!fe)return!1;se+=fe.length}return P.write(n.PUBLISH_HEADER[Q][q.dup?1:0][ve?1:0]),H(P,se),v(P,te(pe)),P.write(pe),Q>0&&v(P,j),fe?.write(),l("publish: payload: %o",O),P.write(O)}function w(G,P,ae){let J=ae?ae.protocolVersion:4,q=G||{},Q=q.cmd||"puback",ve=q.messageId,pe=q.dup&&Q==="pubrel"?n.DUP_MASK:0,O=0,j=q.reasonCode,Z=q.properties,se=J===5?3:2;if(Q==="pubrel"&&(O=1),typeof ve!="number")return P.destroy(new Error("Invalid messageId")),!1;let fe=null;if(J===5&&typeof Z=="object"){if(fe=x(P,Z,ae,se),!fe)return!1;se+=fe.length}return P.write(n.ACKS[Q][O][pe][0]),se===3&&(se+=j!==0?1:-1),H(P,se),v(P,ve),J===5&&se!==2&&P.write(r.from([j])),fe!==null?fe.write():se===4&&P.write(r.from([0])),!0}function C(G,P,ae){l("subscribe: packet: ");let J=ae?ae.protocolVersion:4,q=G||{},Q=q.dup?n.DUP_MASK:0,ve=q.messageId,pe=q.subscriptions,O=q.properties,j=0;if(typeof ve!="number")return P.destroy(new Error("Invalid messageId")),!1;j+=2;let Z=null;if(J===5){if(Z=ee(P,O),!Z)return!1;j+=Z.length}if(typeof pe=="object"&&pe.length)for(let fe=0;fe<pe.length;fe+=1){let ye=pe[fe].topic,$=pe[fe].qos;if(typeof ye!="string")return P.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof $!="number")return P.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(J===5){if(typeof(pe[fe].nl||!1)!="boolean")return P.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(pe[fe].rap||!1)!="boolean")return P.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let le=pe[fe].rh||0;if(typeof le!="number"||le>2)return P.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}j+=r.byteLength(ye)+2+1}else return P.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),P.write(n.SUBSCRIBE_HEADER[1][Q?1:0][0]),H(P,j),v(P,ve),Z!==null&&Z.write();let se=!0;for(let fe of pe){let ye=fe.topic,$=fe.qos,le=+fe.nl,Ce=+fe.rap,me=fe.rh,Ie;L(P,ye),Ie=n.SUBSCRIBE_OPTIONS_QOS[$],J===5&&(Ie|=le?n.SUBSCRIBE_OPTIONS_NL:0,Ie|=Ce?n.SUBSCRIBE_OPTIONS_RAP:0,Ie|=me?n.SUBSCRIBE_OPTIONS_RH[me]:0),se=P.write(r.from([Ie]))}return se}function S(G,P,ae){let J=ae?ae.protocolVersion:4,q=G||{},Q=q.messageId,ve=q.granted,pe=q.properties,O=0;if(typeof Q!="number")return P.destroy(new Error("Invalid messageId")),!1;if(O+=2,typeof ve=="object"&&ve.length)for(let Z=0;Z<ve.length;Z+=1){if(typeof ve[Z]!="number")return P.destroy(new Error("Invalid qos vector")),!1;O+=1}else return P.destroy(new Error("Invalid qos vector")),!1;let j=null;if(J===5){if(j=x(P,pe,ae,O),!j)return!1;O+=j.length}return P.write(n.SUBACK_HEADER),H(P,O),v(P,Q),j!==null&&j.write(),P.write(r.from(ve))}function A(G,P,ae){let J=ae?ae.protocolVersion:4,q=G||{},Q=q.messageId,ve=q.dup?n.DUP_MASK:0,pe=q.unsubscriptions,O=q.properties,j=0;if(typeof Q!="number")return P.destroy(new Error("Invalid messageId")),!1;if(j+=2,typeof pe=="object"&&pe.length)for(let fe=0;fe<pe.length;fe+=1){if(typeof pe[fe]!="string")return P.destroy(new Error("Invalid unsubscriptions")),!1;j+=r.byteLength(pe[fe])+2}else return P.destroy(new Error("Invalid unsubscriptions")),!1;let Z=null;if(J===5){if(Z=ee(P,O),!Z)return!1;j+=Z.length}P.write(n.UNSUBSCRIBE_HEADER[1][ve?1:0][0]),H(P,j),v(P,Q),Z!==null&&Z.write();let se=!0;for(let fe=0;fe<pe.length;fe++)se=L(P,pe[fe]);return se}function N(G,P,ae){let J=ae?ae.protocolVersion:4,q=G||{},Q=q.messageId,ve=q.dup?n.DUP_MASK:0,pe=q.granted,O=q.properties,j=q.cmd,Z=0,se=2;if(typeof Q!="number")return P.destroy(new Error("Invalid messageId")),!1;if(J===5)if(typeof pe=="object"&&pe.length)for(let ye=0;ye<pe.length;ye+=1){if(typeof pe[ye]!="number")return P.destroy(new Error("Invalid qos vector")),!1;se+=1}else return P.destroy(new Error("Invalid qos vector")),!1;let fe=null;if(J===5){if(fe=x(P,O,ae,se),!fe)return!1;se+=fe.length}return P.write(n.ACKS[j][Z][ve][0]),H(P,se),v(P,Q),fe!==null&&fe.write(),J===5&&P.write(r.from(pe)),!0}function R(G,P,ae){return P.write(n.EMPTY[G.cmd])}function F(G,P,ae){let J=ae?ae.protocolVersion:4,q=G||{},Q=q.reasonCode,ve=q.properties,pe=J===5?1:0,O=null;if(J===5){if(O=x(P,ve,ae,pe),!O)return!1;pe+=O.length}return P.write(r.from([n.codes.disconnect<<4])),H(P,pe),J===5&&P.write(r.from([Q])),O!==null&&O.write(),!0}function T(G,P,ae){let J=ae?ae.protocolVersion:4,q=G||{},Q=q.reasonCode,ve=q.properties,pe=J===5?1:0;J!==5&&P.destroy(new Error("Invalid mqtt version for auth packet"));let O=x(P,ve,ae,pe);return O?(pe+=O.length,P.write(r.from([n.codes.auth<<4])),H(P,pe),P.write(r.from([Q])),O!==null&&O.write(),!0):!1}var V={};function H(G,P){if(P>n.VARBYTEINT_MAX)return G.destroy(new Error(`Invalid variable byte integer: ${P}`)),!1;let ae=V[P];return ae||(ae=f(P),P<16384&&(V[P]=ae)),l("writeVarByteInt: writing to stream: %o",ae),G.write(ae)}function L(G,P){let ae=r.byteLength(P);return v(G,ae),l("writeString: %s",P),G.write(P,"utf8")}function oe(G,P,ae){L(G,P),L(G,ae)}function X(G,P){return l("writeNumberCached: number: %d",P),l("writeNumberCached: %o",u[P]),G.write(u[P])}function z(G,P){let ae=c(P);return l("writeNumberGenerated: %o",ae),G.write(ae)}function re(G,P){let ae=h(P);return l("write4ByteNumber: %o",ae),G.write(ae)}function B(G,P){typeof P=="string"?L(G,P):P?(v(G,P.length),G.write(P)):v(G,0)}function ee(G,P){if(typeof P!="object"||P.length!=null)return{length:1,write(){ge(G,{},0)}};let ae=0;function J(q,Q){let ve=n.propertiesTypes[q],pe=0;switch(ve){case"byte":{if(typeof Q!="boolean")return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=2;break}case"int8":{if(typeof Q!="number"||Q<0||Q>255)return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=2;break}case"binary":{if(Q&&Q===null)return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=1+r.byteLength(Q)+2;break}case"int16":{if(typeof Q!="number"||Q<0||Q>65535)return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=3;break}case"int32":{if(typeof Q!="number"||Q<0||Q>4294967295)return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=5;break}case"var":{if(typeof Q!="number"||Q<0||Q>268435455)return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=1+r.byteLength(f(Q));break}case"string":{if(typeof Q!="string")return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=3+r.byteLength(Q.toString());break}case"pair":{if(typeof Q!="object")return G.destroy(new Error(`Invalid ${q}: ${Q}`)),!1;pe+=Object.getOwnPropertyNames(Q).reduce((O,j)=>{let Z=Q[j];return Array.isArray(Z)?O+=Z.reduce((se,fe)=>(se+=3+r.byteLength(j.toString())+2+r.byteLength(fe.toString()),se),0):O+=3+r.byteLength(j.toString())+2+r.byteLength(Q[j].toString()),O},0);break}default:return G.destroy(new Error(`Invalid property ${q}: ${Q}`)),!1}return pe}if(P)for(let q in P){let Q=0,ve=0,pe=P[q];if(pe!==void 0){if(Array.isArray(pe))for(let O=0;O<pe.length;O++){if(ve=J(q,pe[O]),!ve)return!1;Q+=ve}else{if(ve=J(q,pe),!ve)return!1;Q=ve}if(!Q)return!1;ae+=Q}}return{length:r.byteLength(f(ae))+ae,write(){ge(G,P,ae)}}}function x(G,P,ae,J){let q=["reasonString","userProperties"],Q=ae&&ae.properties&&ae.properties.maximumPacketSize?ae.properties.maximumPacketSize:0,ve=ee(G,P);if(Q)for(;J+ve.length>Q;){let pe=q.shift();if(pe&&P[pe])delete P[pe],ve=ee(G,P);else return!1}return ve}function Y(G,P,ae){switch(n.propertiesTypes[P]){case"byte":{G.write(r.from([n.properties[P]])),G.write(r.from([+ae]));break}case"int8":{G.write(r.from([n.properties[P]])),G.write(r.from([ae]));break}case"binary":{G.write(r.from([n.properties[P]])),B(G,ae);break}case"int16":{G.write(r.from([n.properties[P]])),v(G,ae);break}case"int32":{G.write(r.from([n.properties[P]])),re(G,ae);break}case"var":{G.write(r.from([n.properties[P]])),H(G,ae);break}case"string":{G.write(r.from([n.properties[P]])),L(G,ae);break}case"pair":{Object.getOwnPropertyNames(ae).forEach(J=>{let q=ae[J];Array.isArray(q)?q.forEach(Q=>{G.write(r.from([n.properties[P]])),oe(G,J.toString(),Q.toString())}):(G.write(r.from([n.properties[P]])),oe(G,J.toString(),q.toString()))});break}default:return G.destroy(new Error(`Invalid property ${P} value: ${ae}`)),!1}}function ge(G,P,ae){H(G,ae);for(let J in P)if(Object.prototype.hasOwnProperty.call(P,J)&&P[J]!=null){let q=P[J];if(Array.isArray(q))for(let Q=0;Q<q.length;Q++)Y(G,J,q[Q]);else Y(G,J,q)}}function te(G){return G?G instanceof r?G.length:r.byteLength(G):0}function Ee(G){return typeof G=="string"||G instanceof r}t.exports=m}),yN=he((e,t)=>{ue(),de(),ce();var n=$E(),{EventEmitter:r}=(Jo(),rt(uo)),{Buffer:o}=(kt(),rt(Ot));function i(a,l){let u=new s;return n(a,u,l),u.concat()}var s=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),u=this._array,c=0,d;for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?l[d]=u[d].length:l[d]=o.byteLength(u[d]),a+=l[d];let f=o.allocUnsafe(a);for(d=0;d<u.length&&u[d]!==void 0;d++)typeof u[d]!="string"?(u[d].copy(f,c),c+=l[d]):(f.write(u[d],c),c+=l[d]);return f}destroy(a){a&&this.emit("error",a)}};t.exports=i}),vN=he(e=>{ue(),de(),ce(),e.parser=pN().parser,e.generate=yN(),e.writeToStream=$E()}),bN=he((e,t)=>{"use strict";ue(),de(),ce(),t.exports=r;function n(i){return i instanceof Lc?Lc.from(i):new i.constructor(i.buffer.slice(),i.byteOffset,i.length)}function r(i){if(i=i||{},i.circles)return o(i);let s=new Map;if(s.set(Date,d=>new Date(d)),s.set(Map,(d,f)=>new Map(l(Array.from(d),f))),s.set(Set,(d,f)=>new Set(l(Array.from(d),f))),i.constructorHandlers)for(let d of i.constructorHandlers)s.set(d[0],d[1]);let a=null;return i.proto?c:u;function l(d,f){let h=Object.keys(d),v=new Array(h.length);for(let g=0;g<h.length;g++){let m=h[g],b=d[m];typeof b!="object"||b===null?v[m]=b:b.constructor!==Object&&(a=s.get(b.constructor))?v[m]=a(b,f):ArrayBuffer.isView(b)?v[m]=n(b):v[m]=f(b)}return v}function u(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,u);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,u);let f={};for(let h in d){if(Object.hasOwnProperty.call(d,h)===!1)continue;let v=d[h];typeof v!="object"||v===null?f[h]=v:v.constructor!==Object&&(a=s.get(v.constructor))?f[h]=a(v,u):ArrayBuffer.isView(v)?f[h]=n(v):f[h]=u(v)}return f}function c(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return l(d,c);if(d.constructor!==Object&&(a=s.get(d.constructor)))return a(d,c);let f={};for(let h in d){let v=d[h];typeof v!="object"||v===null?f[h]=v:v.constructor!==Object&&(a=s.get(v.constructor))?f[h]=a(v,c):ArrayBuffer.isView(v)?f[h]=n(v):f[h]=c(v)}return f}}function o(i){let s=[],a=[],l=new Map;if(l.set(Date,h=>new Date(h)),l.set(Map,(h,v)=>new Map(c(Array.from(h),v))),l.set(Set,(h,v)=>new Set(c(Array.from(h),v))),i.constructorHandlers)for(let h of i.constructorHandlers)l.set(h[0],h[1]);let u=null;return i.proto?f:d;function c(h,v){let g=Object.keys(h),m=new Array(g.length);for(let b=0;b<g.length;b++){let y=g[b],_=h[y];if(typeof _!="object"||_===null)m[y]=_;else if(_.constructor!==Object&&(u=l.get(_.constructor)))m[y]=u(_,v);else if(ArrayBuffer.isView(_))m[y]=n(_);else{let D=s.indexOf(_);D!==-1?m[y]=a[D]:m[y]=v(_)}}return m}function d(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return c(h,d);if(h.constructor!==Object&&(u=l.get(h.constructor)))return u(h,d);let v={};s.push(h),a.push(v);for(let g in h){if(Object.hasOwnProperty.call(h,g)===!1)continue;let m=h[g];if(typeof m!="object"||m===null)v[g]=m;else if(m.constructor!==Object&&(u=l.get(m.constructor)))v[g]=u(m,d);else if(ArrayBuffer.isView(m))v[g]=n(m);else{let b=s.indexOf(m);b!==-1?v[g]=a[b]:v[g]=d(m)}}return s.pop(),a.pop(),v}function f(h){if(typeof h!="object"||h===null)return h;if(Array.isArray(h))return c(h,f);if(h.constructor!==Object&&(u=l.get(h.constructor)))return u(h,f);let v={};s.push(h),a.push(v);for(let g in h){let m=h[g];if(typeof m!="object"||m===null)v[g]=m;else if(m.constructor!==Object&&(u=l.get(m.constructor)))v[g]=u(m,f);else if(ArrayBuffer.isView(m))v[g]=n(m);else{let b=s.indexOf(m);b!==-1?v[g]=a[b]:v[g]=f(m)}}return s.pop(),a.pop(),v}}}),wN=he((e,t)=>{"use strict";ue(),de(),ce(),t.exports=bN()()}),_N=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=n;function t(r){let o=r.split("/");for(let i=0;i<o.length;i++)if(o[i]!=="+"){if(o[i]==="#")return i===o.length-1;if(o[i].indexOf("+")!==-1||o[i].indexOf("#")!==-1)return!1}return!0}function n(r){if(r.length===0)return"empty_topic_list";for(let o=0;o<r.length;o++)if(!t(r[o]))return r[o];return null}}),HE=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ei(),n={objectMode:!0},r={clean:!0},o=class{options;_inflights;constructor(i){this.options=i||{},this.options=be(be({},r),i),this._inflights=new Map}put(i,s){return this._inflights.set(i.messageId,i),s&&s(),this}createStream(){let i=new t.Readable(n),s=[],a=!1,l=0;return this._inflights.forEach((u,c)=>{s.push(u)}),i._read=()=>{!a&&l<s.length?i.push(s[l++]):i.push(null)},i.destroy=u=>{if(!a)return a=!0,setTimeout(()=>{i.emit("close")},0),i},i}del(i,s){let a=this._inflights.get(i.messageId);return a?(this._inflights.delete(i.messageId),s(null,a)):s&&s(new Error("missing packet")),this}get(i,s){let a=this._inflights.get(i.messageId);return a?s(null,a):s&&s(new Error("missing packet")),this}close(i){this.options.clean&&(this._inflights=null),i&&i()}};e.default=o}),EN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],n=(r,o,i)=>{r.log("handlePublish: packet %o",o),i=typeof i<"u"?i:r.noop;let s=o.topic.toString(),a=o.payload,{qos:l}=o,{messageId:u}=o,{options:c}=r;if(r.options.protocolVersion===5){let d;if(o.properties&&(d=o.properties.topicAlias),typeof d<"u")if(s.length===0)if(d>0&&d<=65535){let f=r.topicAliasRecv.getTopicByAlias(d);if(f)s=f,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,d);else{r.log("handlePublish :: unregistered topic alias. alias: %d",d),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",d),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(s,d))r.log("handlePublish :: registered topic: %s - alias: %d",s,d);else{r.log("handlePublish :: topic alias out of range. alias: %d",d),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",l),l){case 2:{c.customHandleAcks(s,a,o,(d,f)=>{if(typeof d=="number"&&(f=d,d=null),d)return r.emit("error",d);if(t.indexOf(f)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));f?r._sendPacket({cmd:"pubrec",messageId:u,reasonCode:f},i):r.incomingStore.put(o,()=>{r._sendPacket({cmd:"pubrec",messageId:u},i)})});break}case 1:{c.customHandleAcks(s,a,o,(d,f)=>{if(typeof d=="number"&&(f=d,d=null),d)return r.emit("error",d);if(t.indexOf(f)===-1)return r.emit("error",new Error("Wrong reason code for puback"));f||r.emit("message",s,a,o),r.handleMessage(o,h=>{if(h)return i&&i(h);r._sendPacket({cmd:"puback",messageId:u,reasonCode:f},i)})});break}case 0:r.emit("message",s,a,o),r.handleMessage(o,i);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=n}),DN=he((e,t)=>{t.exports={version:"5.14.1"}}),ss=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=r;var t=class WE extends Error{code;constructor(i,s){super(i),this.code=s,Object.setPrototypeOf(this,WE.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;var n=class zE extends Error{packet;constructor(i,s){super(i),this.packet=s,Object.setPrototypeOf(this,zE.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};e.ErrorWithSubackPacket=n;function r(o,i,s=!1){let a=[i];for(;;){let l=a[0],u=Object.getPrototypeOf(l);if(u?.prototype)a.unshift(u);else break}for(let l of a)for(let u of Object.getOwnPropertyNames(l.prototype))(s||u!=="constructor")&&Object.defineProperty(o.prototype,u,Object.getOwnPropertyDescriptor(l.prototype,u)??Object.create(null))}e.nextTick=typeof it?.nextTick=="function"?it.nextTick:o=>{setTimeout(o,0)},e.MQTTJS_VERSION=DN().version}),$c=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=ss();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var n=(r,o)=>{let{messageId:i}=o,s=o.cmd,a=null,l=r.outgoing[i]?r.outgoing[i].cb:null,u=null;if(!l){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let c=o.reasonCode;c&&c>0&&c!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),r._removeOutgoingAndStoreMessage(i,()=>{l(u,o)})):r._removeOutgoingAndStoreMessage(i,l);break}case"pubrec":{a={cmd:"pubrel",qos:2,messageId:i};let c=o.reasonCode;c&&c>0&&c!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),r._removeOutgoingAndStoreMessage(i,()=>{l(u,o)})):r._sendPacket(a);break}case"suback":{delete r.outgoing[i],r.messageIdProvider.deallocate(i);let c=o.granted;for(let d=0;d<c.length;d++){let f=c[d];if((f&128)!==0){u=new Error(`Subscribe error: ${e.ReasonCodes[f]}`),u.code=f;let h=r.messageIdToTopic[i];h&&h.forEach(v=>{delete r._resubscribeTopics[v]})}}delete r.messageIdToTopic[i],r._invokeStoreProcessingQueue(),l(u,o);break}case"unsuback":{delete r.outgoing[i],r.messageIdProvider.deallocate(i),r._invokeStoreProcessingQueue(),l(null,o);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};e.default=n}),CN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ss(),n=$c(),r=(o,i)=>{let{options:s}=o,a=s.protocolVersion,l=a===5?i.reasonCode:i.returnCode;if(a!==5){let u=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);o.emit("error",u);return}o.handleAuth(i,(u,c)=>{if(u){o.emit("error",u);return}if(l===24)o.reconnecting=!1,o._sendPacket(c);else{let d=new t.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[l]}`,l);o.emit("error",d)}})};e.default=r}),SN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,n=new Set,r=typeof it=="object"&&it?it:{},o=(v,g,m,b)=>{typeof r.emitWarning=="function"?r.emitWarning(v,g,m,b):console.error(`[${m}] ${g}: ${v}`)},i=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof i>"u"){s=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(m,b){this._onabort.push(b)}},i=class{constructor(){g()}signal=new s;abort(m){if(!this.signal.aborted){this.signal.reason=m,this.signal.aborted=!0;for(let b of this.signal._onabort)b(m);this.signal.onabort?.(m)}}};let v=r.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",g=()=>{v&&(v=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",g))}}var a=v=>!n.has(v),l=Symbol("type"),u=v=>v&&v===Math.floor(v)&&v>0&&isFinite(v),c=v=>u(v)?v<=Math.pow(2,8)?Uint8Array:v<=Math.pow(2,16)?Uint16Array:v<=Math.pow(2,32)?Uint32Array:v<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(v){super(v),this.fill(0)}},f=class Ra{heap;length;static#l=!1;static create(g){let m=c(g);if(!m)return[];Ra.#l=!0;let b=new Ra(g,m);return Ra.#l=!1,b}constructor(g,m){if(!Ra.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new m(g),this.length=0}push(g){this.heap[this.length++]=g}pop(){return this.heap[--this.length]}},h=class GE{#l;#d;#g;#m;#x;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#y;#r;#n;#e;#u;#f;#a;#i;#v;#s;#b;#w;#h;#_;#I;#c;static unsafeExposeInternals(g){return{starts:g.#w,ttls:g.#h,sizes:g.#b,keyMap:g.#r,keyList:g.#n,valList:g.#e,next:g.#u,prev:g.#f,get head(){return g.#a},get tail(){return g.#i},free:g.#v,isBackgroundFetch:m=>g.#t(m),backgroundFetch:(m,b,y,_)=>g.#k(m,b,y,_),moveToTail:m=>g.#M(m),indexes:m=>g.#E(m),rindexes:m=>g.#D(m),isStale:m=>g.#p(m)}}get max(){return this.#l}get maxSize(){return this.#d}get calculatedSize(){return this.#y}get size(){return this.#o}get fetchMethod(){return this.#x}get memoMethod(){return this.#N}get dispose(){return this.#g}get disposeAfter(){return this.#m}constructor(g){let{max:m=0,ttl:b,ttlResolution:y=1,ttlAutopurge:_,updateAgeOnGet:D,updateAgeOnHas:w,allowStale:C,dispose:S,disposeAfter:A,noDisposeOnSet:N,noUpdateTTL:R,maxSize:F=0,maxEntrySize:T=0,sizeCalculation:V,fetchMethod:H,memoMethod:L,noDeleteOnFetchRejection:oe,noDeleteOnStaleGet:X,allowStaleOnFetchRejection:z,allowStaleOnFetchAbort:re,ignoreFetchAbort:B}=g;if(m!==0&&!u(m))throw new TypeError("max option must be a nonnegative integer");let ee=m?c(m):Array;if(!ee)throw new Error("invalid max value: "+m);if(this.#l=m,this.#d=F,this.maxEntrySize=T||this.#d,this.sizeCalculation=V,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(L!==void 0&&typeof L!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#N=L,H!==void 0&&typeof H!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#x=H,this.#I=!!H,this.#r=new Map,this.#n=new Array(m).fill(void 0),this.#e=new Array(m).fill(void 0),this.#u=new ee(m),this.#f=new ee(m),this.#a=0,this.#i=0,this.#v=f.create(m),this.#o=0,this.#y=0,typeof S=="function"&&(this.#g=S),typeof A=="function"?(this.#m=A,this.#s=[]):(this.#m=void 0,this.#s=void 0),this.#_=!!this.#g,this.#c=!!this.#m,this.noDisposeOnSet=!!N,this.noUpdateTTL=!!R,this.noDeleteOnFetchRejection=!!oe,this.allowStaleOnFetchRejection=!!z,this.allowStaleOnFetchAbort=!!re,this.ignoreFetchAbort=!!B,this.maxEntrySize!==0){if(this.#d!==0&&!u(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!u(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!C,this.noDeleteOnStaleGet=!!X,this.updateAgeOnGet=!!D,this.updateAgeOnHas=!!w,this.ttlResolution=u(y)||y===0?y:1,this.ttlAutopurge=!!_,this.ttl=b||0,this.ttl){if(!u(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#l===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#d){let x="LRU_CACHE_UNBOUNDED";a(x)&&(n.add(x),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",x,GE))}}getRemainingTTL(g){return this.#r.has(g)?1/0:0}#P(){let g=new d(this.#l),m=new d(this.#l);this.#h=g,this.#w=m,this.#F=(_,D,w=t.now())=>{if(m[_]=D!==0?w:0,g[_]=D,D!==0&&this.ttlAutopurge){let C=setTimeout(()=>{this.#p(_)&&this.#C(this.#n[_],"expire")},D+1);C.unref&&C.unref()}},this.#A=_=>{m[_]=g[_]!==0?t.now():0},this.#S=(_,D)=>{if(g[D]){let w=g[D],C=m[D];if(!w||!C)return;_.ttl=w,_.start=C,_.now=b||y();let S=_.now-C;_.remainingTTL=w-S}};let b=0,y=()=>{let _=t.now();if(this.ttlResolution>0){b=_;let D=setTimeout(()=>b=0,this.ttlResolution);D.unref&&D.unref()}return _};this.getRemainingTTL=_=>{let D=this.#r.get(_);if(D===void 0)return 0;let w=g[D],C=m[D];if(!w||!C)return 1/0;let S=(b||y())-C;return w-S},this.#p=_=>{let D=m[_],w=g[_];return!!w&&!!D&&(b||y())-D>w}}#A=()=>{};#S=()=>{};#F=()=>{};#p=()=>!1;#U(){let g=new d(this.#l);this.#y=0,this.#b=g,this.#T=m=>{this.#y-=g[m],g[m]=0},this.#L=(m,b,y,_)=>{if(this.#t(b))return 0;if(!u(y))if(_){if(typeof _!="function")throw new TypeError("sizeCalculation must be a function");if(y=_(b,m),!u(y))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return y},this.#R=(m,b,y)=>{if(g[m]=b,this.#d){let _=this.#d-g[m];for(;this.#y>_;)this.#O(!0)}this.#y+=g[m],y&&(y.entrySize=b,y.totalCalculatedSize=this.#y)}}#T=g=>{};#R=(g,m,b)=>{};#L=(g,m,b,y)=>{if(b||y)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:g=this.allowStale}={}){if(this.#o)for(let m=this.#i;!(!this.#j(m)||((g||!this.#p(m))&&(yield m),m===this.#a));)m=this.#f[m]}*#D({allowStale:g=this.allowStale}={}){if(this.#o)for(let m=this.#a;!(!this.#j(m)||((g||!this.#p(m))&&(yield m),m===this.#i));)m=this.#u[m]}#j(g){return g!==void 0&&this.#r.get(this.#n[g])===g}*entries(){for(let g of this.#E())this.#e[g]!==void 0&&this.#n[g]!==void 0&&!this.#t(this.#e[g])&&(yield[this.#n[g],this.#e[g]])}*rentries(){for(let g of this.#D())this.#e[g]!==void 0&&this.#n[g]!==void 0&&!this.#t(this.#e[g])&&(yield[this.#n[g],this.#e[g]])}*keys(){for(let g of this.#E()){let m=this.#n[g];m!==void 0&&!this.#t(this.#e[g])&&(yield m)}}*rkeys(){for(let g of this.#D()){let m=this.#n[g];m!==void 0&&!this.#t(this.#e[g])&&(yield m)}}*values(){for(let g of this.#E())this.#e[g]!==void 0&&!this.#t(this.#e[g])&&(yield this.#e[g])}*rvalues(){for(let g of this.#D())this.#e[g]!==void 0&&!this.#t(this.#e[g])&&(yield this.#e[g])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(g,m={}){for(let b of this.#E()){let y=this.#e[b],_=this.#t(y)?y.__staleWhileFetching:y;if(_!==void 0&&g(_,this.#n[b],this))return this.get(this.#n[b],m)}}forEach(g,m=this){for(let b of this.#E()){let y=this.#e[b],_=this.#t(y)?y.__staleWhileFetching:y;_!==void 0&&g.call(m,_,this.#n[b],this)}}rforEach(g,m=this){for(let b of this.#D()){let y=this.#e[b],_=this.#t(y)?y.__staleWhileFetching:y;_!==void 0&&g.call(m,_,this.#n[b],this)}}purgeStale(){let g=!1;for(let m of this.#D({allowStale:!0}))this.#p(m)&&(this.#C(this.#n[m],"expire"),g=!0);return g}info(g){let m=this.#r.get(g);if(m===void 0)return;let b=this.#e[m],y=this.#t(b)?b.__staleWhileFetching:b;if(y===void 0)return;let _={value:y};if(this.#h&&this.#w){let D=this.#h[m],w=this.#w[m];if(D&&w){let C=D-(t.now()-w);_.ttl=C,_.start=Date.now()}}return this.#b&&(_.size=this.#b[m]),_}dump(){let g=[];for(let m of this.#E({allowStale:!0})){let b=this.#n[m],y=this.#e[m],_=this.#t(y)?y.__staleWhileFetching:y;if(_===void 0||b===void 0)continue;let D={value:_};if(this.#h&&this.#w){D.ttl=this.#h[m];let w=t.now()-this.#w[m];D.start=Math.floor(Date.now()-w)}this.#b&&(D.size=this.#b[m]),g.unshift([b,D])}return g}load(g){this.clear();for(let[m,b]of g){if(b.start){let y=Date.now()-b.start;b.start=t.now()-y}this.set(m,b.value,b)}}set(g,m,b={}){if(m===void 0)return this.delete(g),this;let{ttl:y=this.ttl,start:_,noDisposeOnSet:D=this.noDisposeOnSet,sizeCalculation:w=this.sizeCalculation,status:C}=b,{noUpdateTTL:S=this.noUpdateTTL}=b,A=this.#L(g,m,b.size||0,w);if(this.maxEntrySize&&A>this.maxEntrySize)return C&&(C.set="miss",C.maxEntrySizeExceeded=!0),this.#C(g,"set"),this;let N=this.#o===0?void 0:this.#r.get(g);if(N===void 0)N=this.#o===0?this.#i:this.#v.length!==0?this.#v.pop():this.#o===this.#l?this.#O(!1):this.#o,this.#n[N]=g,this.#e[N]=m,this.#r.set(g,N),this.#u[this.#i]=N,this.#f[N]=this.#i,this.#i=N,this.#o++,this.#R(N,A,C),C&&(C.set="add"),S=!1;else{this.#M(N);let R=this.#e[N];if(m!==R){if(this.#I&&this.#t(R)){R.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:F}=R;F!==void 0&&!D&&(this.#_&&this.#g?.(F,g,"set"),this.#c&&this.#s?.push([F,g,"set"]))}else D||(this.#_&&this.#g?.(R,g,"set"),this.#c&&this.#s?.push([R,g,"set"]));if(this.#T(N),this.#R(N,A,C),this.#e[N]=m,C){C.set="replace";let F=R&&this.#t(R)?R.__staleWhileFetching:R;F!==void 0&&(C.oldValue=F)}}else C&&(C.set="update")}if(y!==0&&!this.#h&&this.#P(),this.#h&&(S||this.#F(N,y,_),C&&this.#S(C,N)),!D&&this.#c&&this.#s){let R=this.#s,F;for(;F=R?.shift();)this.#m?.(...F)}return this}pop(){try{for(;this.#o;){let g=this.#e[this.#a];if(this.#O(!0),this.#t(g)){if(g.__staleWhileFetching)return g.__staleWhileFetching}else if(g!==void 0)return g}}finally{if(this.#c&&this.#s){let g=this.#s,m;for(;m=g?.shift();)this.#m?.(...m)}}}#O(g){let m=this.#a,b=this.#n[m],y=this.#e[m];return this.#I&&this.#t(y)?y.__abortController.abort(new Error("evicted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(y,b,"evict"),this.#c&&this.#s?.push([y,b,"evict"])),this.#T(m),g&&(this.#n[m]=void 0,this.#e[m]=void 0,this.#v.push(m)),this.#o===1?(this.#a=this.#i=0,this.#v.length=0):this.#a=this.#u[m],this.#r.delete(b),this.#o--,m}has(g,m={}){let{updateAgeOnHas:b=this.updateAgeOnHas,status:y}=m,_=this.#r.get(g);if(_!==void 0){let D=this.#e[_];if(this.#t(D)&&D.__staleWhileFetching===void 0)return!1;if(this.#p(_))y&&(y.has="stale",this.#S(y,_));else return b&&this.#A(_),y&&(y.has="hit",this.#S(y,_)),!0}else y&&(y.has="miss");return!1}peek(g,m={}){let{allowStale:b=this.allowStale}=m,y=this.#r.get(g);if(y===void 0||!b&&this.#p(y))return;let _=this.#e[y];return this.#t(_)?_.__staleWhileFetching:_}#k(g,m,b,y){let _=m===void 0?void 0:this.#e[m];if(this.#t(_))return _;let D=new i,{signal:w}=b;w?.addEventListener("abort",()=>D.abort(w.reason),{signal:D.signal});let C={signal:D.signal,options:b,context:y},S=(V,H=!1)=>{let{aborted:L}=D.signal,oe=b.ignoreFetchAbort&&V!==void 0;if(b.status&&(L&&!H?(b.status.fetchAborted=!0,b.status.fetchError=D.signal.reason,oe&&(b.status.fetchAbortIgnored=!0)):b.status.fetchResolved=!0),L&&!oe&&!H)return N(D.signal.reason);let X=F;return this.#e[m]===F&&(V===void 0?X.__staleWhileFetching?this.#e[m]=X.__staleWhileFetching:this.#C(g,"fetch"):(b.status&&(b.status.fetchUpdated=!0),this.set(g,V,C.options))),V},A=V=>(b.status&&(b.status.fetchRejected=!0,b.status.fetchError=V),N(V)),N=V=>{let{aborted:H}=D.signal,L=H&&b.allowStaleOnFetchAbort,oe=L||b.allowStaleOnFetchRejection,X=oe||b.noDeleteOnFetchRejection,z=F;if(this.#e[m]===F&&(!X||z.__staleWhileFetching===void 0?this.#C(g,"fetch"):L||(this.#e[m]=z.__staleWhileFetching)),oe)return b.status&&z.__staleWhileFetching!==void 0&&(b.status.returnedStale=!0),z.__staleWhileFetching;if(z.__returned===z)throw V},R=(V,H)=>{let L=this.#x?.(g,_,C);L&&L instanceof Promise&&L.then(oe=>V(oe===void 0?void 0:oe),H),D.signal.addEventListener("abort",()=>{(!b.ignoreFetchAbort||b.allowStaleOnFetchAbort)&&(V(void 0),b.allowStaleOnFetchAbort&&(V=oe=>S(oe,!0)))})};b.status&&(b.status.fetchDispatched=!0);let F=new Promise(R).then(S,A),T=Object.assign(F,{__abortController:D,__staleWhileFetching:_,__returned:void 0});return m===void 0?(this.set(g,T,Oe(be({},C.options),{status:void 0})),m=this.#r.get(g)):this.#e[m]=T,T}#t(g){if(!this.#I)return!1;let m=g;return!!m&&m instanceof Promise&&m.hasOwnProperty("__staleWhileFetching")&&m.__abortController instanceof i}fetch(b){return Xe(this,arguments,function*(g,m={}){let{allowStale:y=this.allowStale,updateAgeOnGet:_=this.updateAgeOnGet,noDeleteOnStaleGet:D=this.noDeleteOnStaleGet,ttl:w=this.ttl,noDisposeOnSet:C=this.noDisposeOnSet,size:S=0,sizeCalculation:A=this.sizeCalculation,noUpdateTTL:N=this.noUpdateTTL,noDeleteOnFetchRejection:R=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:F=this.allowStaleOnFetchRejection,ignoreFetchAbort:T=this.ignoreFetchAbort,allowStaleOnFetchAbort:V=this.allowStaleOnFetchAbort,context:H,forceRefresh:L=!1,status:oe,signal:X}=m;if(!this.#I)return oe&&(oe.fetch="get"),this.get(g,{allowStale:y,updateAgeOnGet:_,noDeleteOnStaleGet:D,status:oe});let z={allowStale:y,updateAgeOnGet:_,noDeleteOnStaleGet:D,ttl:w,noDisposeOnSet:C,size:S,sizeCalculation:A,noUpdateTTL:N,noDeleteOnFetchRejection:R,allowStaleOnFetchRejection:F,allowStaleOnFetchAbort:V,ignoreFetchAbort:T,status:oe,signal:X},re=this.#r.get(g);if(re===void 0){oe&&(oe.fetch="miss");let B=this.#k(g,re,z,H);return B.__returned=B}else{let B=this.#e[re];if(this.#t(B)){let ge=y&&B.__staleWhileFetching!==void 0;return oe&&(oe.fetch="inflight",ge&&(oe.returnedStale=!0)),ge?B.__staleWhileFetching:B.__returned=B}let ee=this.#p(re);if(!L&&!ee)return oe&&(oe.fetch="hit"),this.#M(re),_&&this.#A(re),oe&&this.#S(oe,re),B;let x=this.#k(g,re,z,H),Y=x.__staleWhileFetching!==void 0&&y;return oe&&(oe.fetch=ee?"stale":"refresh",Y&&ee&&(oe.returnedStale=!0)),Y?x.__staleWhileFetching:x.__returned=x}})}forceFetch(b){return Xe(this,arguments,function*(g,m={}){let y=yield this.fetch(g,m);if(y===void 0)throw new Error("fetch() returned undefined");return y})}memo(g,m={}){let b=this.#N;if(!b)throw new Error("no memoMethod provided to constructor");let S=m,{context:y,forceRefresh:_}=S,D=cd(S,["context","forceRefresh"]),w=this.get(g,D);if(!_&&w!==void 0)return w;let C=b(g,w,{options:D,context:y});return this.set(g,C,D),C}get(g,m={}){let{allowStale:b=this.allowStale,updateAgeOnGet:y=this.updateAgeOnGet,noDeleteOnStaleGet:_=this.noDeleteOnStaleGet,status:D}=m,w=this.#r.get(g);if(w!==void 0){let C=this.#e[w],S=this.#t(C);return D&&this.#S(D,w),this.#p(w)?(D&&(D.get="stale"),S?(D&&b&&C.__staleWhileFetching!==void 0&&(D.returnedStale=!0),b?C.__staleWhileFetching:void 0):(_||this.#C(g,"expire"),D&&b&&(D.returnedStale=!0),b?C:void 0)):(D&&(D.get="hit"),S?C.__staleWhileFetching:(this.#M(w),y&&this.#A(w),C))}else D&&(D.get="miss")}#B(g,m){this.#f[m]=g,this.#u[g]=m}#M(g){g!==this.#i&&(g===this.#a?this.#a=this.#u[g]:this.#B(this.#f[g],this.#u[g]),this.#B(this.#i,g),this.#i=g)}delete(g){return this.#C(g,"delete")}#C(g,m){let b=!1;if(this.#o!==0){let y=this.#r.get(g);if(y!==void 0)if(b=!0,this.#o===1)this.#V(m);else{this.#T(y);let _=this.#e[y];if(this.#t(_)?_.__abortController.abort(new Error("deleted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(_,g,m),this.#c&&this.#s?.push([_,g,m])),this.#r.delete(g),this.#n[y]=void 0,this.#e[y]=void 0,y===this.#i)this.#i=this.#f[y];else if(y===this.#a)this.#a=this.#u[y];else{let D=this.#f[y];this.#u[D]=this.#u[y];let w=this.#u[y];this.#f[w]=this.#f[y]}this.#o--,this.#v.push(y)}}if(this.#c&&this.#s?.length){let y=this.#s,_;for(;_=y?.shift();)this.#m?.(..._)}return b}clear(){return this.#V("delete")}#V(g){for(let m of this.#D({allowStale:!0})){let b=this.#e[m];if(this.#t(b))b.__abortController.abort(new Error("deleted"));else{let y=this.#n[m];this.#_&&this.#g?.(b,y,g),this.#c&&this.#s?.push([b,y,g])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#h&&this.#w&&(this.#h.fill(0),this.#w.fill(0)),this.#b&&this.#b.fill(0),this.#a=0,this.#i=0,this.#v.length=0,this.#y=0,this.#o=0,this.#c&&this.#s){let m=this.#s,b;for(;b=m?.shift();)this.#m?.(...b)}}};e.LRUCache=h}),Pr=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(o=0){this.iteratorType=o}equals(o){return this.o===o.o}};e.ContainerIterator=t;var n=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=n;var r=class extends n{};e.Container=r}),IN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pr(),n=class extends t.Base{constructor(o=[]){super(),this.S=[];let i=this;o.forEach(function(s){i.push(s)})}clear(){this.i=0,this.S=[]}push(o){return this.S.push(o),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=n;e.default=r}),AN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pr(),n=class extends t.Base{constructor(o=[]){super(),this.j=0,this.q=[];let i=this;o.forEach(function(s){i.push(s)})}clear(){this.q=[],this.i=this.j=0}push(o){let i=this.q.length;if(this.j/i>.5&&this.j+this.i>=i&&i>4096){let s=this.i;for(let a=0;a<s;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=o}else this.q[this.j+this.i]=o;return++this.i}pop(){if(this.i===0)return;let o=this.q[this.j++];return this.i-=1,o}front(){if(this.i!==0)return this.q[this.j]}},r=n;e.default=r}),TN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pr(),n=class extends t.Base{constructor(o=[],i=function(a,l){return a>l?-1:a<l?1:0},s=!0){if(super(),this.v=i,Array.isArray(o))this.C=s?[...o]:o;else{this.C=[];let l=this;o.forEach(function(u){l.C.push(u)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(o){let i=this.C[o];for(;o>0;){let s=o-1>>1,a=this.C[s];if(this.v(a,i)<=0)break;this.C[o]=a,o=s}this.C[o]=i}k(o,i){let s=this.C[o];for(;o<i;){let a=o<<1|1,l=a+1,u=this.C[a];if(l<this.i&&this.v(u,this.C[l])>0&&(a=l,u=this.C[l]),this.v(u,s)>=0)break;this.C[o]=u,o=a}this.C[o]=s}clear(){this.i=0,this.C.length=0}push(o){this.C.push(o),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let o=this.C[0],i=this.C.pop();return this.i-=1,this.i&&(this.C[0]=i,this.k(0,this.i>>1)),o}top(){return this.C[0]}find(o){return this.C.indexOf(o)>=0}remove(o){let i=this.C.indexOf(o);return i<0?!1:(i===0?this.pop():i===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(i,1,this.C.pop()),this.i-=1,this.m(i),this.k(i,this.i>>1)),!0)}updateItem(o){let i=this.C.indexOf(o);return i<0?!1:(this.m(i),this.k(i,this.i>>1),!0)}toArray(){return[...this.C]}},r=n;e.default=r}),zm=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pr(),n=class extends t.Container{},r=n;e.default=r}),Fr=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),qE=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=Pr(),n=Fr(),r=class extends t.ContainerIterator{constructor(o,i){super(i),this.o=o,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,n.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,n.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,n.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,n.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(o){this.container.setElementByPos(this.o,o)}};e.RandomIterator=r}),MN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r(zm()),n=qE();function r(a){return a&&a.t?a:{default:a}}var o=class KE extends n.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new KE(this.o,this.container,this.iteratorType)}},i=class extends t.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let u=this;a.forEach(function(c){u.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let u=0;u<this.i;++u)this.J[u]!==a&&(this.J[l++]=this.J[u]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(u).fill(l)),this.i+=u,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new o(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*jr(this.J)}).bind(this)()}},s=i;e.default=s}),xN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(zm()),n=Pr(),r=Fr();function o(l){return l&&l.t?l:{default:l}}var i=class YE extends n.ContainerIterator{constructor(u,c,d,f){super(f),this.o=u,this.h=c,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=u}copy(){return new YE(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;l.forEach(function(c){u.pushBack(c)})}V(l){let{L:u,B:c}=l;u.B=c,c.L=u,l===this.p&&(this.p=c),l===this._&&(this._=u),this.i-=1}G(l,u){let c=u.B,d={l,L:u,B:c};u.B=d,c.L=d,u===this.h&&(this.p=d),c===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return u.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return this.V(u),this.i}eraseElementByValue(l){let u=this.p;for(;u!==this.h;)u.l===l&&this.V(u),u=u.B;return this.i}eraseElementByIterator(l){let u=l.o;return u===this.h&&(0,r.throwIteratorAccessError)(),l=l.next(),this.V(u),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,u){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;c.l=u}insert(l,u,c=1){if(l<0||l>this.i)throw new RangeError;if(c<=0)return this.i;if(l===0)for(;c--;)this.pushFront(u);else if(l===this.i)for(;c--;)this.pushBack(u);else{let d=this.p;for(let h=1;h<l;++h)d=d.B;let f=d.B;for(this.i+=c;c--;)d.B={l:u,L:d},d.B.L=d,d=d.B;d.B=f,f.L=d}return this.i}find(l){let u=this.p;for(;u!==this.h;){if(u.l===l)return new i(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,u=this._,c=0;for(;c<<1<this.i;){let d=l.l;l.l=u.l,u.l=d,l=l.B,u=u.L,c+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let u=l;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;l.B=u.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let u=[];this.forEach(function(d){u.push(d)}),u.sort(l);let c=this.p;u.forEach(function(d){c.l=d,c=c.B})}merge(l){let u=this;if(this.i===0)l.forEach(function(c){u.pushBack(c)});else{let c=this.p;l.forEach(function(d){for(;c!==u.h&&c.l<=d;)c=c.B;u.G(d,c.L)})}return this.i}forEach(l){let u=this.p,c=0;for(;u!==this.h;)l(u.l,c++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=s;e.default=a}),NN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r(zm()),n=qE();function r(a){return a&&a.t?a:{default:a}}var o=class QE extends n.RandomIterator{constructor(l,u,c){super(l,c),this.container=u}copy(){return new QE(this.o,this.container,this.iteratorType)}},i=class extends t.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(u/this.F),1);for(let f=0;f<this.P;++f)this.A.push(new Array(this.F));let c=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-u%this.F>>1;let d=this;a.forEach(function(f){d.pushBack(f)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let u=0;u<l;++u)a[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)a[a.length]=this.A[u];for(let u=0;u<this.R;++u)a[a.length]=this.A[u];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let u=0;u<l;++u)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,u=l%this.F,c=u-1,d=this.j+(l-u)/this.F;return u===0&&(d-=1),d%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.A[l][u]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:c}=this.O(a);this.A[u][c]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;u--;)this.pushFront(l);else if(a===this.i)for(;u--;)this.pushBack(l);else{let c=[];for(let d=a;d<this.i;++d)c.push(this.getElementByPos(d));this.cut(a-1);for(let d=0;d<u;++d)this.pushBack(l);for(let d=0;d<c.length;++d)this.pushBack(c[d])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.R=l,this.N=u,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let c=a+1;c<this.i;++c)l.push(this.getElementByPos(c));this.cut(a),this.popBack();let u=this;l.forEach(function(c){u.pushBack(c)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let c=0;c<this.i;++c){let d=this.getElementByPos(c);d!==a&&l.push(d)}let u=l.length;for(let c=0;c<u;++c)this.setElementByPos(c,l[c]);return this.cut(u-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new o(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let u=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,u),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let u=1;u<this.i;++u){let c=this.getElementByPos(u);c!==l&&(l=c,this.setElementByPos(a++,c))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let u=0;u<this.i;++u)l.push(this.getElementByPos(u));l.sort(a);for(let u=0;u<this.i;++u)this.setElementByPos(u,l[u])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},s=i;e.default=s}),RN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(r,o){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=o}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let o=r.tt;for(;o.U===r;)r=o,o=r.tt;r=o}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let o=r.tt;for(;o.W===r;)r=o,o=r.tt;return r.W!==o?o:r}}te(){let r=this.tt,o=this.W,i=o.U;return r.tt===this?r.tt=o:r.U===this?r.U=o:r.W=o,o.tt=r,o.U=this,this.tt=o,this.W=i,i&&(i.tt=this),o}se(){let r=this.tt,o=this.U,i=o.W;return r.tt===this?r.tt=o:r.U===this?r.U=o:r.W=o,o.tt=r,o.W=this,this.tt=o,this.U=i,i&&(i.tt=this),o}};e.TreeNode=t;var n=class extends t{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=n}),ZE=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=RN(),n=Pr(),r=Fr(),o=class extends n.Container{constructor(s=function(l,u){return l<u?-1:l>u?1:0},a=!1){super(),this.Y=void 0,this.v=s,a?(this.re=t.TreeNodeEnableIndex,this.M=function(l,u,c){let d=this.ne(l,u,c);if(d){let f=d.tt;for(;f!==this.h;)f.rt+=1,f=f.tt;let h=this.he(d);if(h){let{parentNode:v,grandParent:g,curNode:m}=h;v.ie(),g.ie(),m.ie()}}return this.i},this.V=function(l){let u=this.fe(l);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=t.TreeNode,this.M=function(l,u,c){let d=this.ne(l,u,c);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(s,a){let l=this.h;for(;s;){let u=this.v(s.u,a);if(u<0)s=s.W;else if(u>0)l=s,s=s.U;else return s}return l}Z(s,a){let l=this.h;for(;s;)this.v(s.u,a)<=0?s=s.W:(l=s,s=s.U);return l}$(s,a){let l=this.h;for(;s;){let u=this.v(s.u,a);if(u<0)l=s,s=s.W;else if(u>0)s=s.U;else return s}return l}rr(s,a){let l=this.h;for(;s;)this.v(s.u,a)<0?(l=s,s=s.W):s=s.U;return l}ue(s){for(;;){let a=s.tt;if(a===this.h)return;if(s.ee===1){s.ee=0;return}if(s===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,s=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,s=a)}}}fe(s){if(this.i===1)return this.clear(),this.h;let a=s;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[s.u,a.u]=[a.u,s.u],[s.l,a.l]=[a.l,s.l],s=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(s,a){return s===void 0?!1:this.oe(s.U,a)||a(s)?!0:this.oe(s.W,a)}he(s){for(;;){let a=s.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let u=l.W;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.W){if(s.ee=0,s.U&&(s.U.tt=a),s.W&&(s.W.tt=l),a.W=s.U,l.U=s.W,s.U=a,s.W=l,l===this.Y)this.Y=s,this.h.tt=s;else{let c=l.tt;c.U===l?c.U=s:c.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let u=l.U;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===a.U){if(s.ee=0,s.U&&(s.U.tt=l),s.W&&(s.W.tt=a),l.W=s.U,a.U=s.W,s.U=l,s.W=a,l===this.Y)this.Y=s,this.h.tt=s;else{let c=l.tt;c.U===l?c.U=s:c.W=s}return s.tt=l.tt,a.tt=s,l.tt=s,l.ee=1,{parentNode:a,grandParent:l,curNode:s}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(s,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,c=this.h.U,d=this.v(c.u,s);if(d===0){c.l=a;return}else if(d>0)c.U=new this.re(s,a),c.U.tt=c,u=c.U,this.h.U=u;else{let f=this.h.W,h=this.v(f.u,s);if(h===0){f.l=a;return}else if(h<0)f.W=new this.re(s,a),f.W.tt=f,u=f.W,this.h.W=u;else{if(l!==void 0){let v=l.o;if(v!==this.h){let g=this.v(v.u,s);if(g===0){v.l=a;return}else if(g>0){let m=v.L(),b=this.v(m.u,s);if(b===0){m.l=a;return}else b<0&&(u=new this.re(s,a),m.W===void 0?(m.W=u,u.tt=m):(v.U=u,u.tt=v))}}}if(u===void 0)for(u=this.Y;;){let v=this.v(u.u,s);if(v>0){if(u.U===void 0){u.U=new this.re(s,a),u.U.tt=u,u=u.U;break}u=u.U}else if(v<0){if(u.W===void 0){u.W=new this.re(s,a),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=a;return}}}}return this.i+=1,u}I(s,a){for(;s;){let l=this.v(s.u,a);if(l<0)s=s.W;else if(l>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,a){let l=s.o;if(l===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let u=l.L().u;if(this.v(u,a)>=0)return!1;let c=l.B().u;return this.v(c,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(u){return s===a?(l.V(u),!0):(a+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let a=this.I(this.Y,s);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(s){let a=s.o;a===this.h&&(0,r.throwIteratorAccessError)();let l=a.W===void 0;return s.iteratorType===0?l&&s.next():(!l||a.U===void 0)&&s.next(),this.V(a),s}forEach(s){let a=0;for(let l of this)s(l,a++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a,l=0;for(let u of this){if(l===s){a=u;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let s=function(a){return a?Math.max(s(a.U),s(a.W))+1:0};return s(this.Y)}},i=o;e.default=i}),JE=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Pr(),n=Fr(),r=class extends t.ContainerIterator{constructor(i,s,a){super(a),this.o=i,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let i=this.o,s=this.h.tt;if(i===this.h)return s?s.rt-1:0;let a=0;for(i.U&&(a+=i.U.rt);i!==s;){let l=i.tt;i===l.W&&(a+=1,l.U&&(a+=l.U.rt)),i=l}return a}},o=r;e.default=o}),ON=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(ZE()),n=o(JE()),r=Fr();function o(l){return l&&l.t?l:{default:l}}var i=class XE extends n.default{constructor(u,c,d,f){super(u,c,f),this.container=d}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new XE(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(l=[],u,c){super(u,c);let d=this;l.forEach(function(f){d.insert(f)})}*K(l){l!==void 0&&(yield*jr(this.K(l.U)),yield l.u,yield*jr(this.K(l.W)))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,u){return this.M(l,void 0,u)}find(l){let u=this.I(this.Y,l);return new i(u,this.h,this)}lowerBound(l){let u=this.X(this.Y,l);return new i(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new i(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new i(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new i(u,this.h,this)}union(l){let u=this;return l.forEach(function(c){u.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a}),kN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(ZE()),n=o(JE()),r=Fr();function o(l){return l&&l.t?l:{default:l}}var i=class eD extends n.default{constructor(u,c,d,f){super(u,c,f),this.container=d}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(c,d,f){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=f,!0}})}copy(){return new eD(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(l=[],u,c){super(u,c);let d=this;l.forEach(function(f){d.setElement(f[0],f[1])})}*K(l){l!==void 0&&(yield*jr(this.K(l.U)),yield[l.u,l.l],yield*jr(this.K(l.W)))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let u=this.X(this.Y,l);return new i(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new i(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new i(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new i(u,this.h,this)}setElement(l,u,c){return this.M(l,u,c)}find(l){let u=this.I(this.Y,l);return new i(u,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let u=this;return l.forEach(function(c){u.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=s;e.default=a}),tD=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(n){let r=typeof n;return r==="object"&&n!==null||r==="function"}}),nD=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=Pr(),n=o(tD()),r=Fr();function o(a){return a&&a.t?a:{default:a}}var i=class extends t.ContainerIterator{constructor(a,l,u){super(u),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=i;var s=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:u}=a;l.B=u,u.L=l,a===this.p&&(this.p=u),a===this._&&(this._=l),this.i-=1}M(a,l,u){u===void 0&&(u=(0,n.default)(a));let c;if(u){let d=a[this.HASH_TAG];if(d!==void 0)return this.H[d].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:a,l,L:this._,B:this.h},this.H.push(c)}else{let d=this.g[a];if(d)return d.l=l,this.i;c={u:a,l,L:this._,B:this.h},this.g[a]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(a,l){if(l===void 0&&(l=(0,n.default)(a)),l){let u=a[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let u;if(l===void 0&&(l=(0,n.default)(a)),l){let c=a[this.HASH_TAG];if(c===void 0)return!1;delete a[this.HASH_TAG],u=this.H[c],delete this.H[c]}else{if(u=this.g[a],u===void 0)return!1;delete this.g[a]}return this.V(u),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,r.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};e.HashContainer=s}),PN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=nD(),n=Fr(),r=class rD extends t.HashContainerIterator{constructor(a,l,u,c){super(a,l,c),this.container=u}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new rD(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.HashContainer{constructor(s=[]){super();let a=this;s.forEach(function(l){a.insert(l)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,a){return this.M(s,void 0,a)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let a=this.p;for(;s--;)a=a.B;return a.u}find(s,a){let l=this.I(s,a);return new r(l,this.h,this)}forEach(s){let a=0,l=this.p;for(;l!==this.h;)s(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}).bind(this)()}},i=o;e.default=i}),FN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=nD(),n=o(tD()),r=Fr();function o(l){return l&&l.t?l:{default:l}}var i=class oD extends t.HashContainerIterator{constructor(u,c,d,f){super(u,c,f),this.container=d}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,d){if(d==="0")return u.o.u;if(d==="1")return u.o.l},set(c,d,f){if(d!=="1")throw new TypeError("props must be 1");return u.o.l=f,!0}})}copy(){return new oD(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.HashContainer{constructor(l=[]){super();let u=this;l.forEach(function(c){u.setElement(c[0],c[1])})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,u,c){return this.M(l,u,c)}getElementByKey(l,u){if(u===void 0&&(u=(0,n.default)(l)),u){let d=l[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let c=this.g[l];return c?c.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return[u.u,u.l]}find(l,u){let c=this.I(l,u);return new i(c,this.h,this)}forEach(l){let u=0,c=this.p;for(;c!==this.h;)l([c.u,c.l],u++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=s;e.default=a}),LN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return o.default}});var t=d(IN()),n=d(AN()),r=d(TN()),o=d(MN()),i=d(xN()),s=d(NN()),a=d(ON()),l=d(kN()),u=d(PN()),c=d(FN());function d(f){return f&&f.t?f:{default:f}}}),jN=he((e,t)=>{"use strict";ue(),de(),ce();var n=LN().OrderedSet,r=Or()("number-allocator:trace"),o=Or()("number-allocator:error");function i(a,l){this.low=a,this.high=l}i.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},i.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function s(a,l){if(!(this instanceof s))return new s(a,l);this.min=a,this.max=l,this.ss=new n([],(u,c)=>u.compare(c)),r("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,u=a.pointer.high,c=l;return c+1<=u?this.ss.updateKeyByIterator(a,new i(l+1,u)):this.ss.eraseElementByPos(0),r("alloc():"+c),c},s.prototype.use=function(a){let l=new i(a,a),u=this.ss.lowerBound(l);if(!u.equals(this.ss.end())){let c=u.pointer.low,d=u.pointer.high;return u.pointer.equals(l)?(this.ss.eraseElementByIterator(u),r("use():"+a),!0):c>a?!1:c===a?(this.ss.updateKeyByIterator(u,new i(c+1,d)),r("use():"+a),!0):d===a?(this.ss.updateKeyByIterator(u,new i(c,d-1)),r("use():"+a),!0):(this.ss.updateKeyByIterator(u,new i(a+1,d)),this.ss.insert(new i(c,a-1)),r("use():"+a),!0)}return r("use():failed"),!1},s.prototype.free=function(a){if(a<this.min||a>this.max){o("free():"+a+" is out of range");return}let l=new i(a,a),u=this.ss.upperBound(l);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(l);return}u.pre();let c=u.pointer.high;u.pointer.high+1===a?this.ss.updateKeyByIterator(u,new i(c,a)):this.ss.insert(l)}else if(u.equals(this.ss.begin()))if(a+1===u.pointer.low){let c=u.pointer.high;this.ss.updateKeyByIterator(u,new i(a,c))}else this.ss.insert(l);else{let c=u.pointer.low,d=u.pointer.high;u.pre();let f=u.pointer.low;u.pointer.high+1===a?a+1===c?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new i(f,d))):this.ss.updateKeyByIterator(u,new i(f,a)):a+1===c?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new i(a,d))):this.ss.insert(l)}r("free():"+a)},s.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new i(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},t.exports=s}),iD=he((e,t)=>{ue(),de(),ce();var n=jN();t.exports.NumberAllocator=n}),BN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=SN(),n=iD(),r=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(o){o>0&&(this.aliasToTopic=new t.LRUCache({max:o}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,o),this.max=o,this.length=0)}put(o,i){if(i===0||i>this.max)return!1;let s=this.aliasToTopic.get(i);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(i,o),this.topicToAlias[o]=i,this.numberAllocator.use(i),this.length=this.aliasToTopic.size,!0}getTopicByAlias(o){return this.aliasToTopic.get(o)}getAliasByTopic(o){let i=this.topicToAlias[o];return typeof i<"u"&&this.aliasToTopic.get(i),i}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=r}),VN=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var n=$c(),r=t(BN()),o=ss(),i=(s,a)=>{s.log("_handleConnack");let{options:l}=s,u=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(s.topicAliasSend=new r.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(u===0)s.reconnecting=!1,s._onConnect(a);else if(u>0){let c=new o.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[u]}`,u);s.emit("error",c),s.options.reconnectOnConnackError&&s._cleanUp(!0)}};e.default=i}),UN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=(n,r,o)=>{n.log("handling pubrel packet");let i=typeof o<"u"?o:n.noop,{messageId:s}=r,a={cmd:"pubcomp",messageId:s};n.incomingStore.get(r,(l,u)=>{l?n._sendPacket(a,i):(n.emit("message",u.topic,u.payload,u),n.handleMessage(u,c=>{if(c)return i(c);n.incomingStore.del(u,n.noop),n._sendPacket(a,i)}))})};e.default=t}),$N=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(EN()),r=t(CN()),o=t(VN()),i=t($c()),s=t(UN()),a=(l,u,c)=>{let{options:d}=l;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<u.length)return l.emit("error",new Error(`exceeding packets size ${u.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",u),u.cmd){case"publish":(0,n.default)(l,u,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,i.default)(l,u),c();break;case"pubrel":l.reschedulePing(),(0,s.default)(l,u,c);break;case"connack":(0,o.default)(l,u),c();break;case"auth":l.reschedulePing(),(0,r.default)(l,u),c();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),c();break;case"disconnect":l.emit("disconnect",u),c();break;default:l.log("_handlePacket :: unknown command"),c();break}};e.default=a}),sD=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let n=this.nextId++;return this.nextId===65536&&(this.nextId=1),n}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(n){return!0}deallocate(n){}clear(){}};e.default=t}),HN=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{aliasToTopic;max;length;constructor(n){this.aliasToTopic={},this.max=n}put(n,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=n,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(n){return this.aliasToTopic[n]}clear(){this.aliasToTopic={}}};e.default=t}),WN=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var n=t((Jo(),rt(uo))),r=ss(),o=class{};e.TypedEventEmitter=o,(0,r.applyMixin)(o,n.default)}),Hc=he((e,t)=>{ue(),de(),ce();function n(r){"@babel/helpers - typeof";return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,n(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),zN=he((e,t)=>{ue(),de(),ce();var n=Hc().default;function r(o,i){if(n(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i||"default");if(n(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),GN=he((e,t)=>{ue(),de(),ce();var n=Hc().default,r=zN();function o(i){var s=r(i,"string");return n(s)=="symbol"?s:s+""}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),qN=he((e,t)=>{ue(),de(),ce();var n=GN();function r(o,i,s){return(i=n(i))in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),KN=he((e,t)=>{ue(),de(),ce();function n(r){if(Array.isArray(r))return r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),YN=he((e,t)=>{ue(),de(),ce();function n(r,o){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var s,a,l,u,c=[],d=!0,f=!1;try{if(l=(i=i.call(r)).next,o===0){if(Object(i)!==i)return;d=!1}else for(;!(d=(s=l.call(i)).done)&&(c.push(s.value),c.length!==o);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&i.return!=null&&(u=i.return(),Object(u)!==u))return}finally{if(f)throw a}}return c}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),QN=he((e,t)=>{ue(),de(),ce();function n(r,o){(o==null||o>r.length)&&(o=r.length);for(var i=0,s=Array(o);i<o;i++)s[i]=r[i];return s}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),ZN=he((e,t)=>{ue(),de(),ce();var n=QN();function r(o,i){if(o){if(typeof o=="string")return n(o,i);var s={}.toString.call(o).slice(8,-1);return s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set"?Array.from(o):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(o,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),JN=he((e,t)=>{ue(),de(),ce();function n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),XN=he((e,t)=>{ue(),de(),ce();var n=KN(),r=YN(),o=ZN(),i=JN();function s(a,l){return n(a)||r(a,l)||o(a,l)||i()}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports}),aD=he((e,t)=>{ue(),de(),ce(),(function(n,r){typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))})(e,function(n){"use strict";var r=function(h){return function(v){var g=h(v);return v.add(g),g}},o=function(h){return function(v,g){return h.set(v,g),g}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=s*2,l=function(h,v){return function(g){var m=v.get(g),b=m===void 0?g.size:m<a?m+1:0;if(!g.has(b))return h(g,b);if(g.size<s){for(;g.has(b);)b=Math.floor(Math.random()*a);return h(g,b)}if(g.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;g.has(b);)b=Math.floor(Math.random()*i);return h(g,b)}},u=new WeakMap,c=o(u),d=l(c,u),f=r(d);n.addUniqueNumber=f,n.generateUniqueNumber=d})}),eR=he((e,t)=>{ue(),de(),ce();function n(o,i,s,a,l,u,c){try{var d=o[u](c),f=d.value}catch(h){return void s(h)}d.done?i(f):Promise.resolve(f).then(a,l)}function r(o){return function(){var i=this,s=arguments;return new Promise(function(a,l){var u=o.apply(i,s);function c(f){n(u,a,l,c,d,"next",f)}function d(f){n(u,a,l,c,d,"throw",f)}c(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),lD=he((e,t)=>{ue(),de(),ce();function n(r,o){this.v=r,this.k=o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),uD=he((e,t)=>{ue(),de(),ce();function n(r,o,i,s){var a=Object.defineProperty;try{a({},"",{})}catch{a=0}t.exports=n=function(l,u,c,d){function f(h,v){n(l,h,function(g){return this._invoke(h,v,g)})}u?a?a(l,u,{value:c,enumerable:!d,configurable:!d,writable:!d}):l[u]=c:(f("next",0),f("throw",1),f("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,n(r,o,i,s)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),cD=he((e,t)=>{ue(),de(),ce();var n=uD();function r(){var o,i,s=typeof Symbol=="function"?Symbol:{},a=s.iterator||"@@iterator",l=s.toStringTag||"@@toStringTag";function u(b,y,_,D){var w=y&&y.prototype instanceof d?y:d,C=Object.create(w.prototype);return n(C,"_invoke",(function(S,A,N){var R,F,T,V=0,H=N||[],L=!1,oe={p:0,n:0,v:o,a:X,f:X.bind(o,4),d:function(z,re){return R=z,F=0,T=o,oe.n=re,c}};function X(z,re){for(F=z,T=re,i=0;!L&&V&&!B&&i<H.length;i++){var B,ee=H[i],x=oe.p,Y=ee[2];z>3?(B=Y===re)&&(T=ee[(F=ee[4])?5:(F=3,3)],ee[4]=ee[5]=o):ee[0]<=x&&((B=z<2&&x<ee[1])?(F=0,oe.v=re,oe.n=ee[1]):x<Y&&(B=z<3||ee[0]>re||re>Y)&&(ee[4]=z,ee[5]=re,oe.n=Y,F=0))}if(B||z>1)return c;throw L=!0,re}return function(z,re,B){if(V>1)throw TypeError("Generator is already running");for(L&&re===1&&X(re,B),F=re,T=B;(i=F<2?o:T)||!L;){R||(F?F<3?(F>1&&(oe.n=-1),X(F,T)):oe.n=T:oe.v=T);try{if(V=2,R){if(F||(z="next"),i=R[z]){if(!(i=i.call(R,T)))throw TypeError("iterator result is not an object");if(!i.done)return i;T=i.value,F<2&&(F=0)}else F===1&&(i=R.return)&&i.call(R),F<2&&(T=TypeError("The iterator does not provide a '"+z+"' method"),F=1);R=o}else if((i=(L=oe.n<0)?T:S.call(A,oe))!==c)break}catch(ee){R=o,F=1,T=ee}finally{V=1}}return{value:i,done:L}}})(b,_,D),!0),C}var c={};function d(){}function f(){}function h(){}i=Object.getPrototypeOf;var v=[][a]?i(i([][a]())):(n(i={},a,function(){return this}),i),g=h.prototype=d.prototype=Object.create(v);function m(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,h):(b.__proto__=h,n(b,l,"GeneratorFunction")),b.prototype=Object.create(g),b}return f.prototype=h,n(g,"constructor",h),n(h,"constructor",f),f.displayName="GeneratorFunction",n(h,l,"GeneratorFunction"),n(g),n(g,l,"Generator"),n(g,a,function(){return this}),n(g,"toString",function(){return"[object Generator]"}),(t.exports=r=function(){return{w:u,m}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),dD=he((e,t)=>{ue(),de(),ce();var n=lD(),r=uD();function o(i,s){function a(u,c,d,f){try{var h=i[u](c),v=h.value;return v instanceof n?s.resolve(v.v).then(function(g){a("next",g,d,f)},function(g){a("throw",g,d,f)}):s.resolve(v).then(function(g){h.value=g,d(h)},function(g){return a("throw",g,d,f)})}catch(g){f(g)}}var l;this.next||(r(o.prototype),r(o.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(u,c,d){function f(){return new s(function(h,v){a(u,d,h,v)})}return l=l?l.then(f,f):f()},!0)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),fD=he((e,t)=>{ue(),de(),ce();var n=cD(),r=dD();function o(i,s,a,l,u){return new r(n().w(i,s,a,l),u||Promise)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}),tR=he((e,t)=>{ue(),de(),ce();var n=fD();function r(o,i,s,a,l){var u=n(o,i,s,a,l);return u.next().then(function(c){return c.done?c.value:u.next()})}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),nR=he((e,t)=>{ue(),de(),ce();function n(r){var o=Object(r),i=[];for(var s in o)i.unshift(s);return function a(){for(;i.length;)if((s=i.pop())in o)return a.value=s,a.done=!1,a;return a.done=!0,a}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}),rR=he((e,t)=>{ue(),de(),ce();var n=Hc().default;function r(o){if(o!=null){var i=o[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],s=0;if(i)return i.call(o);if(typeof o.next=="function")return o;if(!isNaN(o.length))return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}}}throw new TypeError(n(o)+" is not iterable")}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}),oR=he((e,t)=>{ue(),de(),ce();var n=lD(),r=cD(),o=tR(),i=fD(),s=dD(),a=nR(),l=rR();function u(){"use strict";var c=r(),d=c.m(u),f=(Object.getPrototypeOf?Object.getPrototypeOf(d):d.__proto__).constructor;function h(m){var b=typeof m=="function"&&m.constructor;return!!b&&(b===f||(b.displayName||b.name)==="GeneratorFunction")}var v={throw:1,return:2,break:3,continue:3};function g(m){var b,y;return function(_){b||(b={stop:function(){return y(_.a,2)},catch:function(){return _.v},abrupt:function(D,w){return y(_.a,v[D],w)},delegateYield:function(D,w,C){return b.resultName=w,y(_.d,l(D),C)},finish:function(D){return y(_.f,D)}},y=function(D,w,C){_.p=b.prev,_.n=b.next;try{return D(w,C)}finally{b.next=_.n}}),b.resultName&&(b[b.resultName]=_.v,b.resultName=void 0),b.sent=_.v,b.next=_.n;try{return m.call(this,b)}finally{_.p=b.prev,_.n=b.next}}}return(t.exports=u=function(){return{wrap:function(m,b,y,_){return c.w(g(m),b,y,_&&_.reverse())},isGeneratorFunction:h,mark:c.m,awrap:function(m,b){return new n(m,b)},AsyncIterator:s,async:function(m,b,y,_,D){return(h(b)?i:o)(g(m),b,y,_,D)},keys:a,values:l}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=u,t.exports.__esModule=!0,t.exports.default=t.exports}),iR=he((e,t)=>{ue(),de(),ce();var n=oR()();t.exports=n;try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}),sR=he((e,t)=>{ue(),de(),ce(),(function(n,r){typeof e=="object"&&typeof t<"u"?r(e,qN(),XN(),aD(),eR(),iR()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.brokerFactory={},n._defineProperty,n._slicedToArray,n.fastUniqueNumbers,n._asyncToGenerator,n._regeneratorRuntime))})(e,function(n,r,o,i,s,a){"use strict";var l=function(y){return typeof y.start=="function"},u=new WeakMap;function c(y,_){var D=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);_&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),D.push.apply(D,w)}return D}function d(y){for(var _=1;_<arguments.length;_++){var D=arguments[_]!=null?arguments[_]:{};_%2?c(Object(D),!0).forEach(function(w){r(y,w,D[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(D)):c(Object(D)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(D,w))})}return y}var f=function(y){return d(d({},y),{},{connect:function(_){var D=_.call;return s(a.mark(function w(){var C,S,A,N;return a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return C=new MessageChannel,S=C.port1,A=C.port2,R.next=1,D("connect",{port:S},[S]);case 1:return N=R.sent,u.set(A,N),R.abrupt("return",A);case 2:case"end":return R.stop()}},w)}))},disconnect:function(_){var D=_.call;return(function(){var w=s(a.mark(function C(S){var A;return a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(A=u.get(S),A!==void 0){N.next=1;break}throw new Error("The given port is not connected.");case 1:return N.next=2,D("disconnect",{portId:A});case 2:case"end":return N.stop()}},C)}));return function(C){return w.apply(this,arguments)}})()},isSupported:function(_){var D=_.call;return function(){return D("isSupported")}}})};function h(y,_){var D=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);_&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),D.push.apply(D,w)}return D}function v(y){for(var _=1;_<arguments.length;_++){var D=arguments[_]!=null?arguments[_]:{};_%2?h(Object(D),!0).forEach(function(w){r(y,w,D[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(D)):h(Object(D)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(D,w))})}return y}var g=new WeakMap,m=function(y){if(g.has(y))return g.get(y);var _=new Map;return g.set(y,_),_},b=function(y){var _=f(y);return function(D){var w=m(D);D.addEventListener("message",function(H){var L=H.data,oe=L.id;if(oe!==null&&w.has(oe)){var X=w.get(oe),z=X.reject,re=X.resolve;w.delete(oe),L.error===void 0?re(L.result):z(new Error(L.error.message))}}),l(D)&&D.start();for(var C=function(H){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(X,z){var re=i.generateUniqueNumber(w);w.set(re,{reject:z,resolve:X}),L===null?D.postMessage({id:re,method:H},oe):D.postMessage({id:re,method:H,params:L},oe)})},S=function(H,L){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];D.postMessage({id:null,method:H,params:L},oe)},A={},N=0,R=Object.entries(_);N<R.length;N++){var F=o(R[N],2),T=F[0],V=F[1];A=v(v({},A),{},r({},T,V({call:C,notify:S})))}return v({},A)}};n.createBroker=b})}),aR=he((e,t)=>{ue(),de(),ce(),(function(n,r){typeof e=="object"&&typeof t<"u"?r(e,Hc(),sR(),aD()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimersBroker={},n._typeof,n.brokerFactory,n.fastUniqueNumbers))})(e,function(n,r,o,i){"use strict";var s=new Map([[0,null]]),a=new Map([[0,null]]),l=o.createBroker({clearInterval:function(c){var d=c.call;return function(f){r(s.get(f))==="symbol"&&(s.set(f,null),d("clear",{timerId:f,timerType:"interval"}).then(function(){s.delete(f)}))}},clearTimeout:function(c){var d=c.call;return function(f){r(a.get(f))==="symbol"&&(a.set(f,null),d("clear",{timerId:f,timerType:"timeout"}).then(function(){a.delete(f)}))}},setInterval:function(c){var d=c.call;return function(f){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length,g=new Array(v>2?v-2:0),m=2;m<v;m++)g[m-2]=arguments[m];var b=Symbol(),y=i.generateUniqueNumber(s);s.set(y,b);var _=function(){return d("set",{delay:h,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"interval"}).then(function(){var D=s.get(y);if(D===void 0)throw new Error("The timer is in an undefined state.");D===b&&(f.apply(void 0,g),s.get(y)===b&&_())})};return _(),y}},setTimeout:function(c){var d=c.call;return function(f){for(var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length,g=new Array(v>2?v-2:0),m=2;m<v;m++)g[m-2]=arguments[m];var b=Symbol(),y=i.generateUniqueNumber(a);return a.set(y,b),d("set",{delay:h,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"timeout"}).then(function(){var _=a.get(y);if(_===void 0)throw new Error("The timer is in an undefined state.");_===b&&(a.delete(y),f.apply(void 0,g))}),y}}}),u=function(c){var d=new Worker(c);return l(d)};n.load=u,n.wrap=l})}),lR=he((e,t)=>{ue(),de(),ce(),(function(n,r){typeof e=="object"&&typeof t<"u"?r(e,aR()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimers={},n.workerTimersBroker))})(e,function(n,r){"use strict";var o=function(d,f){var h=null;return function(){if(h!==null)return h;var v=new Blob([f],{type:"application/javascript; charset=utf-8"}),g=URL.createObjectURL(v);return h=d(g),setTimeout(function(){return URL.revokeObjectURL(g)}),h}},i=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=o(r.load,i),a=function(d){return s().clearInterval(d)},l=function(d){return s().clearTimeout(d)},u=function(){var d;return(d=s()).setInterval.apply(d,arguments)},c=function(){var d;return(d=s()).setTimeout.apply(d,arguments)};n.clearInterval=a,n.clearTimeout=l,n.setInterval=u,n.setTimeout=c})}),Wc=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&it?.versions?!Object.prototype.hasOwnProperty.call(it.versions,"electron"):typeof window.document<"u":!1,n=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",o=t()||n()||r();e.isWebWorker=n(),e.isReactNativeBrowser=r(),e.default=o}),uR=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__createBinding||(Object.create?function(u,c,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(u,f,h)}:function(u,c,d,f){f===void 0&&(f=d),u[f]=c[d]}),n=e&&e.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),r=e&&e.__importStar||(function(){var u=function(c){return u=Object.getOwnPropertyNames||function(d){var f=[];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[f.length]=h);return f},u(c)};return function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var f=u(c),h=0;h<f.length;h++)f[h]!=="default"&&t(d,c,f[h]);return n(d,c),d}})();Object.defineProperty(e,"__esModule",{value:!0});var o=lR(),i=r(Wc()),s={set:o.setInterval,clear:o.clearInterval},a={set:(u,c)=>setInterval(u,c),clear:u=>clearInterval(u)},l=u=>{switch(u){case"native":return a;case"worker":return s;case"auto":default:return i.default&&!i.isWebWorker&&!i.isReactNativeBrowser?s:a}};e.default=l}),hD=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(uR()),r=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(o,i){this.client=o,this.timer=typeof i=="object"&&"set"in i&&"clear"in i?i:(0,n.default)(i),this.setKeepalive(o.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(o){if(o*=1e3,isNaN(o)||o<=0||o>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${o}`);this._keepalive=o,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${o}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let o=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+o,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=r}),Zg=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__createBinding||(Object.create?function(w,C,S,A){A===void 0&&(A=S);var N=Object.getOwnPropertyDescriptor(C,S);(!N||("get"in N?!C.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return C[S]}}),Object.defineProperty(w,A,N)}:function(w,C,S,A){A===void 0&&(A=S),w[A]=C[S]}),n=e&&e.__setModuleDefault||(Object.create?function(w,C){Object.defineProperty(w,"default",{enumerable:!0,value:C})}:function(w,C){w.default=C}),r=e&&e.__importStar||(function(){var w=function(C){return w=Object.getOwnPropertyNames||function(S){var A=[];for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(A[A.length]=N);return A},w(C)};return function(C){if(C&&C.__esModule)return C;var S={};if(C!=null)for(var A=w(C),N=0;N<A.length;N++)A[N]!=="default"&&t(S,C,A[N]);return n(S,C),S}})(),o=e&&e.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(vN()),s=ei(),a=o(wN()),l=o(Or()),u=r(_N()),c=o(HE()),d=o($N()),f=o(sD()),h=o(HN()),v=ss(),g=WN(),m=o(hD()),b=r(Wc()),y=globalThis.setImmediate||((...w)=>{let C=w.shift();(0,v.nextTick)(()=>{C(...w)})}),_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},D=class Jg extends g.TypedEventEmitter{static VERSION=v.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(C,S){super(),this.options=S||{};for(let A in _)typeof this.options[A]>"u"?this.options[A]=_[A]:this.options[A]=S[A];this.log=this.options.log||(0,l.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Jg.VERSION),b.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",b.default?"browser":"node"),this.log("MqttClient :: options.protocol",S.protocol),this.log("MqttClient :: options.protocolVersion",S.protocolVersion),this.log("MqttClient :: options.username",S.username),this.log("MqttClient :: options.keepalive",S.keepalive),this.log("MqttClient :: options.reconnectPeriod",S.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",S.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",S.properties?S.properties.topicAliasMaximum:void 0),this.options.clientId=typeof S.clientId=="string"?S.clientId:Jg.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=S.protocolVersion===5&&S.customHandleAcks?S.customHandleAcks:(...A)=>{A[3](null,0)},this.options.writeCache||(i.default.writeToStream.cacheNumbers=!1),this.streamBuilder=C,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new f.default:this.options.messageIdProvider,this.outgoingStore=S.outgoingStore||new c.default,this.incomingStore=S.incomingStore||new c.default,this.queueQoSZero=S.queueQoSZero===void 0?!0:S.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,S.properties&&S.properties.topicAliasMaximum>0&&(S.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new h.default(S.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:A}=this,N=()=>{let R=A.shift();this.log("deliver :: entry %o",R);let F=null;if(!R){this._resubscribe();return}F=R.packet,this.log("deliver :: call _sendPacket for %o",F);let T=!0;F.messageId&&F.messageId!==0&&(this.messageIdProvider.register(F.messageId)||(T=!1)),T?this._sendPacket(F,V=>{R.cb&&R.cb(V),N()}):(this.log("messageId: %d has already used. The message is skipped and removed.",F.messageId),N())};this.log("connect :: sending queued packets"),N()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(C,S){S()}handleMessage(C,S){S()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let C=new s.Writable,S=i.default.parser(this.options),A=null,N=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),S.on("packet",H=>{this.log("parser :: on packet push to packets array."),N.push(H)});let R=()=>{this.log("work :: getting next packet in queue");let H=N.shift();if(H)this.log("work :: packet pulled from queue"),(0,d.default)(this,H,F);else{this.log("work :: no packets in queue");let L=A;A=null,this.log("work :: done flag is %s",!!L),L&&L()}},F=()=>{if(N.length)(0,v.nextTick)(R);else{let H=A;A=null,H()}};C._write=(H,L,oe)=>{A=oe,this.log("writable stream :: parsing buffer"),S.parse(H),R()};let T=H=>{this.log("streamErrorHandler :: error",H.message),H.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",H)):this.noop(H)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(C),this.stream.on("error",T),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let V={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(V.will=Oe(be({},this.options.will),{payload:this.options.will?.payload})),this.topicAliasRecv&&(V.properties||(V.properties={}),this.topicAliasRecv&&(V.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(V),S.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let H=be({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(H)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(C,S,A,N){this.log("publish :: message `%s` to topic `%s`",S,C);let{options:R}=this;typeof A=="function"&&(N=A,A=null),A=A||{},A=be({qos:0,retain:!1,dup:!1},A);let{qos:F,retain:T,dup:V,properties:H,cbStorePut:L}=A;if(this._checkDisconnecting(N))return this;let oe=()=>{let X=0;if((F===1||F===2)&&(X=this._nextId(),X===null))return this.log("No messageId left"),!1;let z={cmd:"publish",topic:C,payload:S,qos:F,retain:T,messageId:X,dup:V};switch(R.protocolVersion===5&&(z.properties=H),this.log("publish :: qos",F),F){case 1:case 2:this.outgoing[z.messageId]={volatile:!1,cb:N||this.noop},this.log("MqttClient:publish: packet cmd: %s",z.cmd),this._sendPacket(z,void 0,L);break;default:this.log("MqttClient:publish: packet cmd: %s",z.cmd),this._sendPacket(z,N,L);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!oe())&&this._storeProcessingQueue.push({invoke:oe,cbStorePut:A.cbStorePut,callback:N}),this}publishAsync(C,S,A){return new Promise((N,R)=>{this.publish(C,S,A,(F,T)=>{F?R(F):N(T)})})}subscribe(C,S,A){let N=this.options.protocolVersion;typeof S=="function"&&(A=S),A=A||this.noop;let R=!1,F=[];typeof C=="string"?(C=[C],F=C):Array.isArray(C)?F=C:typeof C=="object"&&(R=C.resubscribe,delete C.resubscribe,F=Object.keys(C));let T=u.validateTopics(F);if(T!==null)return y(A,new Error(`Invalid topic ${T}`)),this;if(this._checkDisconnecting(A))return this.log("subscribe: discconecting true"),this;let V={qos:0};N===5&&(V.nl=!1,V.rap=!1,V.rh=0),S=be(be({},V),S);let{properties:H}=S,L=[],oe=(re,B)=>{if(B=B||S,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,re)||this._resubscribeTopics[re].qos<B.qos||R){let ee={topic:re,qos:B.qos};N===5&&(ee.nl=B.nl,ee.rap=B.rap,ee.rh=B.rh,ee.properties=H),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ee.topic,ee.qos),L.push(ee)}};if(Array.isArray(C)?C.forEach(re=>{this.log("subscribe: array topic %s",re),oe(re)}):Object.keys(C).forEach(re=>{this.log("subscribe: object topic %s, %o",re,C[re]),oe(re,C[re])}),!L.length)return A(null,[]),this;let X=(re,B)=>{let ee={cmd:"subscribe",subscriptions:re,messageId:B};if(H&&(ee.properties=H),this.options.resubscribe){this.log("subscribe :: resubscribe true");let Y=[];re.forEach(ge=>{if(this.options.reconnectPeriod>0){let te={qos:ge.qos};N===5&&(te.nl=ge.nl||!1,te.rap=ge.rap||!1,te.rh=ge.rh||0,te.properties=ge.properties),this._resubscribeTopics[ge.topic]=te,Y.push(ge.topic)}}),this.messageIdToTopic[ee.messageId]=Y}let x=new Promise((Y,ge)=>{this.outgoing[ee.messageId]={volatile:!0,cb(te,Ee){if(!te){let{granted:G}=Ee;for(let P=0;P<G.length;P+=1)re[P].qos=G[P]}te?ge(new v.ErrorWithSubackPacket(te.message,Ee)):Y(Ee)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(ee),x},z=()=>{let re=this.options.subscribeBatchSize??L.length,B=[];for(let ee=0;ee<L.length;ee+=re){let x=L.slice(ee,ee+re),Y=this._nextId();if(Y===null)return this.log("No messageId left"),!1;B.push(X(x,Y))}return Promise.all(B).then(ee=>{A(null,L,ee.at(-1))}).catch(ee=>{A(ee,L,ee.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!z())&&this._storeProcessingQueue.push({invoke:z,callback:A}),this}subscribeAsync(C,S){return new Promise((A,N)=>{this.subscribe(C,S,(R,F)=>{R?N(R):A(F)})})}unsubscribe(C,S,A){typeof C=="string"&&(C=[C]),typeof S=="function"&&(A=S),A=A||this.noop;let N=u.validateTopics(C);if(N!==null)return y(A,new Error(`Invalid topic ${N}`)),this;if(this._checkDisconnecting(A))return this;let R=()=>{let F=this._nextId();if(F===null)return this.log("No messageId left"),!1;let T={cmd:"unsubscribe",messageId:F,unsubscriptions:[]};return typeof C=="string"?T.unsubscriptions=[C]:Array.isArray(C)&&(T.unsubscriptions=C),this.options.resubscribe&&T.unsubscriptions.forEach(V=>{delete this._resubscribeTopics[V]}),typeof S=="object"&&S.properties&&(T.properties=S.properties),this.outgoing[T.messageId]={volatile:!0,cb:A},this.log("unsubscribe: call _sendPacket"),this._sendPacket(T),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!R())&&this._storeProcessingQueue.push({invoke:R,callback:A}),this}unsubscribeAsync(C,S){return new Promise((A,N)=>{this.unsubscribe(C,S,(R,F)=>{R?N(R):A(F)})})}end(C,S,A){this.log("end :: (%s)",this.options.clientId),(C==null||typeof C!="boolean")&&(A=A||S,S=C,C=!1),typeof S!="object"&&(A=A||S,S=null),this.log("end :: cb? %s",!!A),(!A||typeof A!="function")&&(A=this.noop);let N=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(F=>{this.outgoingStore.close(T=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),A){let V=F||T;this.log("end :: closeStores: invoking callback with args"),A(V)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},R=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,C),this._cleanUp(C,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,v.nextTick)(N)},S)};return this.disconnecting?(A(),this):(this._clearReconnect(),this.disconnecting=!0,!C&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,R,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),R()),this)}endAsync(C,S){return new Promise((A,N)=>{this.end(C,S,R=>{R?N(R):A()})})}removeOutgoingMessage(C){if(this.outgoing[C]){let{cb:S}=this.outgoing[C];this._removeOutgoingAndStoreMessage(C,()=>{S(new Error("Message removed"))})}return this}reconnect(C){this.log("client reconnect");let S=()=>{C?(this.options.incomingStore=C.incomingStore,this.options.outgoingStore=C.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new c.default,this.outgoingStore=this.options.outgoingStore||new c.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=S:S(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(C=>{this.outgoing[C].volatile&&typeof this.outgoing[C].cb=="function"&&(this.outgoing[C].cb(new Error("Connection closed")),delete this.outgoing[C])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(C=>{typeof this.outgoing[C].cb=="function"&&(this.outgoing[C].cb(new Error("Connection closed")),delete this.outgoing[C])}))}_removeTopicAliasAndRecoverTopicName(C){let S;C.properties&&(S=C.properties.topicAlias);let A=C.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",S,A),A.length===0){if(typeof S>"u")return new Error("Unregistered Topic Alias");if(A=this.topicAliasSend.getTopicByAlias(S),typeof A>"u")return new Error("Unregistered Topic Alias");C.topic=A}S&&delete C.properties.topicAlias}_checkDisconnecting(C){return this.disconnecting&&(C&&C!==this.noop?C(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(C,S,A={}){if(S&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",S)),this.log("_cleanUp :: forced? %s",C),C)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let N=be({cmd:"disconnect"},A);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(N,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),S&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",S),S())}_storeAndSend(C,S,A){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",C.cmd);let N=C,R;if(N.cmd==="publish"&&(N=(0,a.default)(C),R=this._removeTopicAliasAndRecoverTopicName(N),R))return S&&S(R);this.outgoingStore.put(N,F=>{if(F)return S&&S(F);A(),this._writePacket(C,S)})}_applyTopicAlias(C){if(this.options.protocolVersion===5&&C.cmd==="publish"){let S;C.properties&&(S=C.properties.topicAlias);let A=C.topic.toString();if(this.topicAliasSend)if(S){if(A.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",A,S),!this.topicAliasSend.put(A,S)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",A,S),new Error("Sending Topic Alias out of range")}else A.length!==0&&(this.options.autoAssignTopicAlias?(S=this.topicAliasSend.getAliasByTopic(A),S?(C.topic="",C.properties=Oe(be({},C.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",A,S)):(S=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(A,S),C.properties=Oe(be({},C.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",A,S))):this.options.autoUseTopicAlias&&(S=this.topicAliasSend.getAliasByTopic(A),S&&(C.topic="",C.properties=Oe(be({},C.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",A,S))));else if(S)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",A,S),new Error("Sending Topic Alias out of range")}}_noop(C){this.log("noop ::",C)}_writePacket(C,S){this.log("_writePacket :: packet: %O",C),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",C),this.log("_writePacket :: writing to stream");let A=i.default.writeToStream(C,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",A),!A&&S&&S!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",S)):S&&(this.log("_writePacket :: invoking cb"),S())}_sendPacket(C,S,A,N){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),A=A||this.noop,S=S||this.noop;let R=this._applyTopicAlias(C);if(R){S(R);return}if(!this.connected){if(C.cmd==="auth"){this._writePacket(C,S);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(C,S,A);return}if(N){this._writePacket(C,S);return}switch(C.cmd){case"publish":break;case"pubrel":this._storeAndSend(C,S,A);return;default:this._writePacket(C,S);return}switch(C.qos){case 2:case 1:this._storeAndSend(C,S,A);break;case 0:default:this._writePacket(C,S);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(C,S,A){this.log("_storePacket :: packet: %o",C),this.log("_storePacket :: cb? %s",!!S),A=A||this.noop;let N=C;if(N.cmd==="publish"){N=(0,a.default)(C);let F=this._removeTopicAliasAndRecoverTopicName(N);if(F)return S&&S(F)}let R=N.qos||0;R===0&&this.queueQoSZero||N.cmd!=="publish"?this.queue.push({packet:N,cb:S}):R>0?(S=this.outgoing[N.messageId]?this.outgoing[N.messageId].cb:null,this.outgoingStore.put(N,F=>{if(F)return S&&S(F);A()})):S&&S(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new m.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(C=!1){this.keepaliveManager&&this.options.keepalive&&(C||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let C=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&C.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let S=0;S<C.length;S++){let A={};A[C[S]]=this._resubscribeTopics[C[S]],A.resubscribe=!0,this.subscribe(A,{properties:A[C[S]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(C){if(this.disconnected){this.emit("connect",C);return}this.connackPacket=C,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let S=()=>{let A=this.outgoingStore.createStream(),N=()=>{A.destroy(),A=null,this._flushStoreProcessingQueue(),R()},R=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",N),A.on("error",T=>{R(),this._flushStoreProcessingQueue(),this.removeListener("close",N),this.emit("error",T)});let F=()=>{if(!A)return;let T=A.read(1),V;if(!T){A.once("readable",F);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[T.messageId]){F();return}!this.disconnecting&&!this.reconnectTimer?(V=this.outgoing[T.messageId]?this.outgoing[T.messageId].cb:null,this.outgoing[T.messageId]={volatile:!1,cb(H,L){V&&V(H,L),F()}},this._packetIdsDuringStoreProcessing[T.messageId]=!0,this.messageIdProvider.register(T.messageId)?this._sendPacket(T,void 0,void 0,!0):this.log("messageId: %d has already used.",T.messageId)):A.destroy&&A.destroy()};A.on("end",()=>{let T=!0;for(let V in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[V]){T=!1;break}this.removeListener("close",N),T?(R(),this._invokeAllStoreProcessingQueue(),this.emit("connect",C)):S()}),F()};S()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let C=this._storeProcessingQueue[0];if(C&&C.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let C of this._storeProcessingQueue)C.cbStorePut&&C.cbStorePut(new Error("Connection closed")),C.callback&&C.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(C,S){delete this.outgoing[C],this.outgoingStore.del({messageId:C},(A,N)=>{S(A,N),this.messageIdProvider.deallocate(C),this._invokeStoreProcessingQueue()})}};e.default=D}),cR=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=iD(),n=class{numberAllocator;lastId;constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};e.default=n});function dR(){if(Xg)return pc;Xg=!0;let e=2147483647,t=36,n=1,r=26,o=38,i=700,s=72,a=128,l="-",u=/^xn--/,c=/[^\0-\x7F]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=t-n,v=Math.floor,g=String.fromCharCode;function m(R){throw new RangeError(f[R])}function b(R,F){let T=[],V=R.length;for(;V--;)T[V]=F(R[V]);return T}function y(R,F){let T=R.split("@"),V="";T.length>1&&(V=T[0]+"@",R=T[1]),R=R.replace(d,".");let H=R.split("."),L=b(H,F).join(".");return V+L}function _(R){let F=[],T=0,V=R.length;for(;T<V;){let H=R.charCodeAt(T++);if(H>=55296&&H<=56319&&T<V){let L=R.charCodeAt(T++);(L&64512)==56320?F.push(((H&1023)<<10)+(L&1023)+65536):(F.push(H),T--)}else F.push(H)}return F}let D=R=>String.fromCodePoint(...R),w=function(R){return R>=48&&R<58?26+(R-48):R>=65&&R<91?R-65:R>=97&&R<123?R-97:t},C=function(R,F){return R+22+75*(R<26)-((F!=0)<<5)},S=function(R,F,T){let V=0;for(R=T?v(R/i):R>>1,R+=v(R/F);R>h*r>>1;V+=t)R=v(R/h);return v(V+(h+1)*R/(R+o))},A=function(R){let F=[],T=R.length,V=0,H=a,L=s,oe=R.lastIndexOf(l);oe<0&&(oe=0);for(let X=0;X<oe;++X)R.charCodeAt(X)>=128&&m("not-basic"),F.push(R.charCodeAt(X));for(let X=oe>0?oe+1:0;X<T;){let z=V;for(let B=1,ee=t;;ee+=t){X>=T&&m("invalid-input");let x=w(R.charCodeAt(X++));x>=t&&m("invalid-input"),x>v((e-V)/B)&&m("overflow"),V+=x*B;let Y=ee<=L?n:ee>=L+r?r:ee-L;if(x<Y)break;let ge=t-Y;B>v(e/ge)&&m("overflow"),B*=ge}let re=F.length+1;L=S(V-z,re,z==0),v(V/re)>e-H&&m("overflow"),H+=v(V/re),V%=re,F.splice(V++,0,H)}return String.fromCodePoint(...F)},N=function(R){let F=[];R=_(R);let T=R.length,V=a,H=0,L=s;for(let z of R)z<128&&F.push(g(z));let oe=F.length,X=oe;for(oe&&F.push(l);X<T;){let z=e;for(let B of R)B>=V&&B<z&&(z=B);let re=X+1;z-V>v((e-H)/re)&&m("overflow"),H+=(z-V)*re,V=z;for(let B of R)if(B<V&&++H>e&&m("overflow"),B===V){let ee=H;for(let x=t;;x+=t){let Y=x<=L?n:x>=L+r?r:x-L;if(ee<Y)break;let ge=ee-Y,te=t-Y;F.push(g(C(Y+ge%te,0))),ee=v(ge/te)}F.push(g(C(ee,0))),L=S(H,re,X===oe),H=0,++X}++H,++V}return F.join("")};return pc={version:"2.3.1",ucs2:{decode:_,encode:D},decode:A,encode:N,toASCII:function(R){return y(R,function(F){return c.test(F)?"xn--"+N(F):F})},toUnicode:function(R){return y(R,function(F){return u.test(F)?A(F.slice(4).toLowerCase()):F})}},pc}var pc,Xg,ao,fR,hR,pR,gR,mR,yR,vR=cn(()=>{ue(),de(),ce(),pc={},Xg=!1,ao=dR(),fR=ao.decode,hR=ao.encode,pR=ao.toASCII,gR=ao.toUnicode,mR=ao.ucs2,yR=ao.version});function bR(){return tm||(tm=!0,em=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0}),em}function wR(){return rm||(rm=!0,nm=Error),nm}function _R(){return im||(im=!0,om=EvalError),om}function ER(){return am||(am=!0,sm=RangeError),sm}function DR(){return um||(um=!0,lm=ReferenceError),lm}function pD(){return dm||(dm=!0,cm=SyntaxError),cm}function La(){return hm||(hm=!0,fm=TypeError),fm}function CR(){return gm||(gm=!0,pm=URIError),pm}function SR(){if(mm)return gc;mm=!0;var e=typeof Symbol<"u"&&Symbol,t=bR();return gc=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},gc}function IR(){if(ym)return mc;ym=!0;var e={__proto__:null,foo:{}},t=Object;return mc=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},mc}function AR(){if(vm)return yc;vm=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(a,l){for(var u=[],c=0;c<a.length;c+=1)u[c]=a[c];for(var d=0;d<l.length;d+=1)u[d+a.length]=l[d];return u},i=function(a,l){for(var u=[],c=l,d=0;c<a.length;c+=1,d+=1)u[d]=a[c];return u},s=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return yc=function(a){var l=this;if(typeof l!="function"||t.apply(l)!==r)throw new TypeError(e+l);for(var u=i(arguments,1),c,d=function(){if(this instanceof c){var m=l.apply(this,o(u,arguments));return Object(m)===m?m:this}return l.apply(a,o(u,arguments))},f=n(0,l.length-u.length),h=[],v=0;v<f;v++)h[v]="$"+v;if(c=Function("binder","return function ("+s(h,",")+"){ return binder.apply(this,arguments); }")(d),l.prototype){var g=function(){};g.prototype=l.prototype,c.prototype=new g,g.prototype=null}return c},yc}function Gm(){if(bm)return vc;bm=!0;var e=AR();return vc=Function.prototype.bind||e,vc}function TR(){if(wm)return bc;wm=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Gm();return bc=n.call(e,t),bc}function as(){if(_m)return wc;_m=!0;var e,t=wR(),n=_R(),r=ER(),o=DR(),i=pD(),s=La(),a=CR(),l=Function,u=function(X){try{return l('"use strict"; return ('+X+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var d=function(){throw new s},f=c?(function(){try{return arguments.callee,d}catch{try{return c(arguments,"callee").get}catch{return d}}})():d,h=SR()(),v=IR()(),g=Object.getPrototypeOf||(v?function(X){return X.__proto__}:null),m={},b=typeof Uint8Array>"u"||!g?e:g(Uint8Array),y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":h&&g?g([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":m,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&g?g(g([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!h||!g?e:g(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":r,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!h||!g?e:g(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&g?g(""[Symbol.iterator]()):e,"%Symbol%":h?Symbol:e,"%SyntaxError%":i,"%ThrowTypeError%":f,"%TypedArray%":b,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(g)try{null.error}catch(X){var _=g(g(X));y["%Error.prototype%"]=_}var D=function X(z){var re;if(z==="%AsyncFunction%")re=u("async function () {}");else if(z==="%GeneratorFunction%")re=u("function* () {}");else if(z==="%AsyncGeneratorFunction%")re=u("async function* () {}");else if(z==="%AsyncGenerator%"){var B=X("%AsyncGeneratorFunction%");B&&(re=B.prototype)}else if(z==="%AsyncIteratorPrototype%"){var ee=X("%AsyncGenerator%");ee&&g&&(re=g(ee.prototype))}return y[z]=re,re},w={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=Gm(),S=TR(),A=C.call(Function.call,Array.prototype.concat),N=C.call(Function.apply,Array.prototype.splice),R=C.call(Function.call,String.prototype.replace),F=C.call(Function.call,String.prototype.slice),T=C.call(Function.call,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,L=function(X){var z=F(X,0,1),re=F(X,-1);if(z==="%"&&re!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&z!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var B=[];return R(X,V,function(ee,x,Y,ge){B[B.length]=Y?R(ge,H,"$1"):x||ee}),B},oe=function(X,z){var re=X,B;if(S(w,re)&&(B=w[re],re="%"+B[0]+"%"),S(y,re)){var ee=y[re];if(ee===m&&(ee=D(re)),typeof ee>"u"&&!z)throw new s("intrinsic "+X+" exists, but is not available. Please file an issue!");return{alias:B,name:re,value:ee}}throw new i("intrinsic "+X+" does not exist!")};return wc=function(X,z){if(typeof X!="string"||X.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new s('"allowMissing" argument must be a boolean');if(T(/^%?[^%]*%?$/,X)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=L(X),B=re.length>0?re[0]:"",ee=oe("%"+B+"%",z),x=ee.name,Y=ee.value,ge=!1,te=ee.alias;te&&(B=te[0],N(re,A([0,1],te)));for(var Ee=1,G=!0;Ee<re.length;Ee+=1){var P=re[Ee],ae=F(P,0,1),J=F(P,-1);if((ae==='"'||ae==="'"||ae==="`"||J==='"'||J==="'"||J==="`")&&ae!==J)throw new i("property names with quotes must have matching quotes");if((P==="constructor"||!G)&&(ge=!0),B+="."+P,x="%"+B+"%",S(y,x))Y=y[x];else if(Y!=null){if(!(P in Y)){if(!z)throw new s("base intrinsic for "+X+" exists, but the property is not available.");return}if(c&&Ee+1>=re.length){var q=c(Y,P);G=!!q,G&&"get"in q&&!("originalValue"in q.get)?Y=q.get:Y=Y[P]}else G=S(Y,P),Y=Y[P];G&&!ge&&(y[x]=Y)}}return Y},wc}function qm(){if(Em)return _c;Em=!0;var e=as(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return _c=t,_c}function gD(){if(Dm)return Ec;Dm=!0;var e=as(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return Ec=t,Ec}function MR(){if(Cm)return Dc;Cm=!0;var e=qm(),t=pD(),n=La(),r=gD();return Dc=function(o,i,s){if(!o||typeof o!="object"&&typeof o!="function")throw new n("`obj` must be an object or a function`");if(typeof i!="string"&&typeof i!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,d=!!r&&r(o,i);if(e)e(o,i,{configurable:u===null&&d?d.configurable:!u,enumerable:a===null&&d?d.enumerable:!a,value:s,writable:l===null&&d?d.writable:!l});else if(c||!a&&!l&&!u)o[i]=s;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Dc}function xR(){if(Sm)return Cc;Sm=!0;var e=qm(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Cc=t,Cc}function NR(){if(Im)return Sc;Im=!0;var e=as(),t=MR(),n=xR()(),r=gD(),o=La(),i=e("%Math.floor%");return Sc=function(s,a){if(typeof s!="function")throw new o("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||i(a)!==a)throw new o("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],u=!0,c=!0;if("length"in s&&r){var d=r(s,"length");d&&!d.configurable&&(u=!1),d&&!d.writable&&(c=!1)}return(u||c||!l)&&(n?t(s,"length",a,!0,!0):t(s,"length",a)),s},Sc}function RR(){if(Am)return rs;Am=!0;var e=Gm(),t=as(),n=NR(),r=La(),o=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(i,o),a=qm(),l=t("%Math.max%");rs=function(c){if(typeof c!="function")throw new r("a function is required");var d=s(e,i,arguments);return n(d,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return s(e,o,arguments)};return a?a(rs,"apply",{value:u}):rs.apply=u,rs}function OR(){if(Tm)return Ic;Tm=!0;var e=as(),t=RR(),n=t(e("String.prototype.indexOf"));return Ic=function(r,o){var i=e(r,!!o);return typeof i=="function"&&n(r,".prototype.")>-1?t(i):i},Ic}var em,tm,nm,rm,om,im,sm,am,lm,um,cm,dm,fm,hm,pm,gm,gc,mm,mc,ym,yc,vm,vc,bm,bc,wm,wc,_m,_c,Em,Ec,Dm,Dc,Cm,Cc,Sm,Sc,Im,rs,Am,Ic,Tm,kR=cn(()=>{ue(),de(),ce(),em={},tm=!1,nm={},rm=!1,om={},im=!1,sm={},am=!1,lm={},um=!1,cm={},dm=!1,fm={},hm=!1,pm={},gm=!1,gc={},mm=!1,mc={},ym=!1,yc={},vm=!1,vc={},bm=!1,bc={},wm=!1,wc={},_m=!1,_c={},Em=!1,Ec={},Dm=!1,Dc={},Cm=!1,Cc={},Sm=!1,Sc={},Im=!1,rs={},Am=!1,Ic={},Tm=!1});function Km(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function PR(){!Zo||!Yo||(Zo=!1,Yo.length?nr=Yo.concat(nr):ka=-1,nr.length&&mD())}function mD(){if(!Zo){var e=setTimeout(PR,0);Zo=!0;for(var t=nr.length;t;){for(Yo=nr,nr=[];++ka<t;)Yo&&Yo[ka].run();ka=-1,t=nr.length}Yo=null,Zo=!1,clearTimeout(e)}}function FR(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];nr.push(new yD(e,t)),nr.length===1&&!Zo&&setTimeout(mD,0)}function yD(e,t){this.fun=e,this.array=t}function Gt(){}function LR(e){Km("_linkedBinding")}function jR(e){Km("dlopen")}function BR(){return[]}function VR(){return[]}function UR(e,t){if(!e)throw new Error(t||"assertion error")}function $R(){return!1}function HR(){return Nr.now()/1e3}function Vp(e){var t=Math.floor((Date.now()-Nr.now())*.001),n=Nr.now()*.001,r=Math.floor(n)+t,o=Math.floor(n%1*1e9);return e&&(r=r-e[0],o=o-e[1],o<0&&(r--,o+=Ac)),[r,o]}function io(){return Ym}function WR(e){return[]}var nr,Zo,Yo,ka,s_,a_,l_,u_,c_,d_,f_,h_,p_,g_,m_,y_,v_,b_,w_,__,E_,D_,C_,S_,I_,cc,A_,T_,M_,x_,N_,R_,O_,k_,P_,F_,L_,j_,B_,V_,U_,$_,H_,W_,z_,G_,q_,K_,Y_,Q_,Z_,Nr,Up,Ac,J_,X_,eE,tE,nE,rE,oE,iE,sE,aE,lE,Ym,vD=cn(()=>{ue(),de(),ce(),nr=[],Zo=!1,ka=-1,yD.prototype.run=function(){this.fun.apply(null,this.array)},s_="browser",a_="x64",l_="browser",u_={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},c_=["/usr/bin/node"],d_=[],f_="v16.8.0",h_={},p_=function(e,t){console.warn((t?t+": ":"")+e)},g_=function(e){Km("binding")},m_=function(e){return 0},y_=function(){return"/"},v_=function(e){},b_={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},w_=Gt,__=[],E_={},D_=!1,C_={},S_=Gt,I_=Gt,cc=function(){return{}},A_=cc,T_=cc,M_=Gt,x_=Gt,N_=Gt,R_={},O_={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},k_=Gt,P_=Gt,F_=Gt,L_=Gt,j_=Gt,B_=Gt,V_=Gt,U_=void 0,$_=void 0,H_=void 0,W_=Gt,z_=2,G_=1,q_="/bin/usr/node",K_=9229,Y_="node",Q_=[],Z_=Gt,Nr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Nr.now===void 0&&(Up=Date.now(),Nr.timing&&Nr.timing.navigationStart&&(Up=Nr.timing.navigationStart),Nr.now=()=>Date.now()-Up),Ac=1e9,Vp.bigint=function(e){var t=Vp(e);return typeof BigInt>"u"?t[0]*Ac+t[1]:BigInt(t[0]*Ac)+BigInt(t[1])},J_=10,X_={},eE=0,tE=io,nE=io,rE=io,oE=io,iE=io,sE=Gt,aE=io,lE=io,Ym={version:f_,versions:h_,arch:a_,platform:l_,release:b_,_rawDebug:w_,moduleLoadList:__,binding:g_,_linkedBinding:LR,_events:X_,_eventsCount:eE,_maxListeners:J_,on:io,addListener:tE,once:nE,off:rE,removeListener:oE,removeAllListeners:iE,emit:sE,prependListener:aE,prependOnceListener:lE,listeners:WR,domain:E_,_exiting:D_,config:C_,dlopen:jR,uptime:HR,_getActiveRequests:BR,_getActiveHandles:VR,reallyExit:S_,_kill:I_,cpuUsage:cc,resourceUsage:A_,memoryUsage:T_,kill:M_,exit:x_,openStdin:N_,allowedNodeEnvironmentFlags:R_,assert:UR,features:O_,_fatalExceptions:k_,setUncaughtExceptionCaptureCallback:P_,hasUncaughtExceptionCaptureCallback:$R,emitWarning:p_,nextTick:FR,_tickCallback:F_,_debugProcess:L_,_debugEnd:j_,_startProfilerIdleNotifier:B_,_stopProfilerIdleNotifier:V_,stdout:U_,stdin:H_,stderr:$_,abort:W_,umask:m_,chdir:v_,cwd:y_,env:u_,title:s_,argv:c_,execArgv:d_,pid:z_,ppid:G_,execPath:q_,debugPort:K_,hrtime:Vp,argv0:Y_,_preload_modules:Q_,setSourceMapsEnabled:Z_}});function zR(){if(Mm)return Tc;Mm=!0;var e=Ym;function t(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function n(i,s){for(var a="",l=0,u=-1,c=0,d,f=0;f<=i.length;++f){if(f<i.length)d=i.charCodeAt(f);else{if(d===47)break;d=47}if(d===47){if(!(u===f-1||c===1))if(u!==f-1&&c===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var h=a.lastIndexOf("/");if(h!==a.length-1){h===-1?(a="",l=0):(a=a.slice(0,h),l=a.length-1-a.lastIndexOf("/")),u=f,c=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=f,c=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+i.slice(u+1,f):a=i.slice(u+1,f),l=f-u-1;u=f,c=0}else d===46&&c!==-1?++c:c=-1}return a}function r(i,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+i+l:l}var o={resolve:function(){for(var i="",s=!1,a,l=arguments.length-1;l>=-1&&!s;l--){var u;l>=0?u=arguments[l]:(a===void 0&&(a=e.cwd()),u=a),t(u),u.length!==0&&(i=u+"/"+i,s=u.charCodeAt(0)===47)}return i=n(i,!s),s?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(t(i),i.length===0)return".";var s=i.charCodeAt(0)===47,a=i.charCodeAt(i.length-1)===47;return i=n(i,!s),i.length===0&&!s&&(i="."),i.length>0&&a&&(i+="/"),s?"/"+i:i},isAbsolute:function(i){return t(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,s=0;s<arguments.length;++s){var a=arguments[s];t(a),a.length>0&&(i===void 0?i=a:i+="/"+a)}return i===void 0?".":o.normalize(i)},relative:function(i,s){if(t(i),t(s),i===s||(i=o.resolve(i),s=o.resolve(s),i===s))return"";for(var a=1;a<i.length&&i.charCodeAt(a)===47;++a);for(var l=i.length,u=l-a,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var d=s.length,f=d-c,h=u<f?u:f,v=-1,g=0;g<=h;++g){if(g===h){if(f>h){if(s.charCodeAt(c+g)===47)return s.slice(c+g+1);if(g===0)return s.slice(c+g)}else u>h&&(i.charCodeAt(a+g)===47?v=g:g===0&&(v=0));break}var m=i.charCodeAt(a+g),b=s.charCodeAt(c+g);if(m!==b)break;m===47&&(v=g)}var y="";for(g=a+v+1;g<=l;++g)(g===l||i.charCodeAt(g)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+v):(c+=v,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(i){return i},dirname:function(i){if(t(i),i.length===0)return".";for(var s=i.charCodeAt(0),a=s===47,l=-1,u=!0,c=i.length-1;c>=1;--c)if(s=i.charCodeAt(c),s===47){if(!u){l=c;break}}else u=!1;return l===-1?a?"/":".":a&&l===1?"//":i.slice(0,l)},basename:function(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(i);var a=0,l=-1,u=!0,c;if(s!==void 0&&s.length>0&&s.length<=i.length){if(s.length===i.length&&s===i)return"";var d=s.length-1,f=-1;for(c=i.length-1;c>=0;--c){var h=i.charCodeAt(c);if(h===47){if(!u){a=c+1;break}}else f===-1&&(u=!1,f=c+1),d>=0&&(h===s.charCodeAt(d)?--d===-1&&(l=c):(d=-1,l=f))}return a===l?l=f:l===-1&&(l=i.length),i.slice(a,l)}else{for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!u){a=c+1;break}}else l===-1&&(u=!1,l=c+1);return l===-1?"":i.slice(a,l)}},extname:function(i){t(i);for(var s=-1,a=0,l=-1,u=!0,c=0,d=i.length-1;d>=0;--d){var f=i.charCodeAt(d);if(f===47){if(!u){a=d+1;break}continue}l===-1&&(u=!1,l=d+1),f===46?s===-1?s=d:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||l===-1||c===0||c===1&&s===l-1&&s===a+1?"":i.slice(s,l)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return r("/",i)},parse:function(i){t(i);var s={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return s;var a=i.charCodeAt(0),l=a===47,u;l?(s.root="/",u=1):u=0;for(var c=-1,d=0,f=-1,h=!0,v=i.length-1,g=0;v>=u;--v){if(a=i.charCodeAt(v),a===47){if(!h){d=v+1;break}continue}f===-1&&(h=!1,f=v+1),a===46?c===-1?c=v:g!==1&&(g=1):c!==-1&&(g=-1)}return c===-1||f===-1||g===0||g===1&&c===f-1&&c===d+1?f!==-1&&(d===0&&l?s.base=s.name=i.slice(1,f):s.base=s.name=i.slice(d,f)):(d===0&&l?(s.name=i.slice(1,c),s.base=i.slice(1,f)):(s.name=i.slice(d,c),s.base=i.slice(d,f)),s.ext=i.slice(c,f)),d>0?s.dir=i.slice(0,d-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,Tc=o,Tc}var Tc,Mm,xm,GR=cn(()=>{ue(),de(),ce(),vD(),Tc={},Mm=!1,xm=zR()}),bD={};os(bD,{URL:()=>MD,Url:()=>CD,default:()=>qt,fileURLToPath:()=>_D,format:()=>SD,parse:()=>TD,pathToFileURL:()=>ED,resolve:()=>ID,resolveObject:()=>AD});function qR(){if(Nm)return Mc;Nm=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=e&&t&&typeof t.get=="function"?t.get:null,r=e&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=o&&i&&typeof i.get=="function"?i.get:null,a=o&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,d=c?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,h=f?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,b=String.prototype.match,y=String.prototype.slice,_=String.prototype.replace,D=String.prototype.toUpperCase,w=String.prototype.toLowerCase,C=RegExp.prototype.test,S=Array.prototype.concat,A=Array.prototype.join,N=Array.prototype.slice,R=Math.floor,F=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,H=typeof Symbol=="function"&&typeof Symbol.iterator=="object",L=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===H||!0)?Symbol.toStringTag:null,oe=Object.prototype.propertyIsEnumerable,X=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(K){return K.__proto__}:null);function z(K,ne){if(K===1/0||K===-1/0||K!==K||K&&K>-1e3&&K<1e3||C.call(/e/,ne))return ne;var Te=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof K=="number"){var Me=K<0?-R(-K):R(K);if(Me!==K){var Le=String(Me),$e=y.call(ne,Le.length+1);return _.call(Le,Te,"$&_")+"."+_.call(_.call($e,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(ne,Te,"$&_")}var re=DD,B=re.custom,ee=q(B)?B:null;Mc=function K(ne,Te,Me,Le){var $e=Te||{};if(pe($e,"quoteStyle")&&$e.quoteStyle!=="single"&&$e.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pe($e,"maxStringLength")&&(typeof $e.maxStringLength=="number"?$e.maxStringLength<0&&$e.maxStringLength!==1/0:$e.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var jn=pe($e,"customInspect")?$e.customInspect:!0;if(typeof jn!="boolean"&&jn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pe($e,"indent")&&$e.indent!==null&&$e.indent!=="	"&&!(parseInt($e.indent,10)===$e.indent&&$e.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(pe($e,"numericSeparator")&&typeof $e.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Bn=$e.numericSeparator;if(typeof ne>"u")return"undefined";if(ne===null)return"null";if(typeof ne=="boolean")return ne?"true":"false";if(typeof ne=="string")return me(ne,$e);if(typeof ne=="number"){if(ne===0)return 1/0/ne>0?"0":"-0";var Vt=String(ne);return Bn?z(ne,Vt):Vt}if(typeof ne=="bigint"){var Vn=String(ne)+"n";return Bn?z(ne,Vn):Vn}var ti=typeof $e.depth>"u"?5:$e.depth;if(typeof Me>"u"&&(Me=0),Me>=ti&&ti>0&&typeof ne=="object")return ge(ne)?"[Array]":"[Object]";var Un=W($e,Me);if(typeof Le>"u")Le=[];else if(Z(Le,ne)>=0)return"[Circular]";function dn($n,Lr,po){if(Lr&&(Le=N.call(Le),Le.push(Lr)),po){var Hn={depth:$e.depth};return pe($e,"quoteStyle")&&(Hn.quoteStyle=$e.quoteStyle),K($n,Hn,Me+1,Le)}return K($n,$e,Me+1,Le)}if(typeof ne=="function"&&!Ee(ne)){var Wa=j(ne),ni=_e(ne,dn);return"[Function"+(Wa?": "+Wa:" (anonymous)")+"]"+(ni.length>0?" { "+A.call(ni,", ")+" }":"")}if(q(ne)){var fs=H?_.call(String(ne),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(ne);return typeof ne=="object"&&!H?p(fs):fs}if(Ce(ne)){for(var M="<"+w.call(String(ne.nodeName)),k=ne.attributes||[],De=0;De<k.length;De++)M+=" "+k[De].name+"="+x(Y(k[De].value),"double",$e);return M+=">",ne.childNodes&&ne.childNodes.length&&(M+="..."),M+="</"+w.call(String(ne.nodeName))+">",M}if(ge(ne)){if(ne.length===0)return"[]";var Se=_e(ne,dn);return Un&&!U(Se)?"["+ie(Se,Un)+"]":"[ "+A.call(Se,", ")+" ]"}if(G(ne)){var Ae=_e(ne,dn);return!("cause"in Error.prototype)&&"cause"in ne&&!oe.call(ne,"cause")?"{ ["+String(ne)+"] "+A.call(S.call("[cause]: "+dn(ne.cause),Ae),", ")+" }":Ae.length===0?"["+String(ne)+"]":"{ ["+String(ne)+"] "+A.call(Ae,", ")+" }"}if(typeof ne=="object"&&jn){if(ee&&typeof ne[ee]=="function"&&re)return re(ne,{depth:ti-Me});if(jn!=="symbol"&&typeof ne.inspect=="function")return ne.inspect()}if(se(ne)){var Dt=[];return r&&r.call(ne,function($n,Lr){Dt.push(dn(Lr,ne,!0)+" => "+dn($n,ne))}),I("Map",n.call(ne),Dt,Un)}if($(ne)){var Kt=[];return a&&a.call(ne,function($n){Kt.push(dn($n,ne))}),I("Set",s.call(ne),Kt,Un)}if(fe(ne))return E("WeakMap");if(le(ne))return E("WeakSet");if(ye(ne))return E("WeakRef");if(ae(ne))return p(dn(Number(ne)));if(Q(ne))return p(dn(F.call(ne)));if(J(ne))return p(v.call(ne));if(P(ne))return p(dn(String(ne)));if(typeof window<"u"&&ne===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ne===globalThis||typeof xc<"u"&&ne===xc)return"{ [object globalThis] }";if(!te(ne)&&!Ee(ne)){var Mn=_e(ne,dn),hs=X?X(ne)===Object.prototype:ne instanceof Object||ne.constructor===Object,ps=ne instanceof Object?"":"null prototype",gs=!hs&&L&&Object(ne)===ne&&L in ne?y.call(O(ne),8,-1):ps?"Object":"",za=hs||typeof ne.constructor!="function"?"":ne.constructor.name?ne.constructor.name+" ":"",ho=za+(gs||ps?"["+A.call(S.call([],gs||[],ps||[]),": ")+"] ":"");return Mn.length===0?ho+"{}":Un?ho+"{"+ie(Mn,Un)+"}":ho+"{ "+A.call(Mn,", ")+" }"}return String(ne)};function x(K,ne,Te){var Me=(Te.quoteStyle||ne)==="double"?'"':"'";return Me+K+Me}function Y(K){return _.call(String(K),/"/g,"&quot;")}function ge(K){return O(K)==="[object Array]"&&(!L||!(typeof K=="object"&&L in K))}function te(K){return O(K)==="[object Date]"&&(!L||!(typeof K=="object"&&L in K))}function Ee(K){return O(K)==="[object RegExp]"&&(!L||!(typeof K=="object"&&L in K))}function G(K){return O(K)==="[object Error]"&&(!L||!(typeof K=="object"&&L in K))}function P(K){return O(K)==="[object String]"&&(!L||!(typeof K=="object"&&L in K))}function ae(K){return O(K)==="[object Number]"&&(!L||!(typeof K=="object"&&L in K))}function J(K){return O(K)==="[object Boolean]"&&(!L||!(typeof K=="object"&&L in K))}function q(K){if(H)return K&&typeof K=="object"&&K instanceof Symbol;if(typeof K=="symbol")return!0;if(!K||typeof K!="object"||!V)return!1;try{return V.call(K),!0}catch{}return!1}function Q(K){if(!K||typeof K!="object"||!F)return!1;try{return F.call(K),!0}catch{}return!1}var ve=Object.prototype.hasOwnProperty||function(K){return K in(this||xc)};function pe(K,ne){return ve.call(K,ne)}function O(K){return g.call(K)}function j(K){if(K.name)return K.name;var ne=b.call(m.call(K),/^function\s*([\w$]+)/);return ne?ne[1]:null}function Z(K,ne){if(K.indexOf)return K.indexOf(ne);for(var Te=0,Me=K.length;Te<Me;Te++)if(K[Te]===ne)return Te;return-1}function se(K){if(!n||!K||typeof K!="object")return!1;try{n.call(K);try{s.call(K)}catch{return!0}return K instanceof Map}catch{}return!1}function fe(K){if(!u||!K||typeof K!="object")return!1;try{u.call(K,u);try{d.call(K,d)}catch{return!0}return K instanceof WeakMap}catch{}return!1}function ye(K){if(!h||!K||typeof K!="object")return!1;try{return h.call(K),!0}catch{}return!1}function $(K){if(!s||!K||typeof K!="object")return!1;try{s.call(K);try{n.call(K)}catch{return!0}return K instanceof Set}catch{}return!1}function le(K){if(!d||!K||typeof K!="object")return!1;try{d.call(K,d);try{u.call(K,u)}catch{return!0}return K instanceof WeakSet}catch{}return!1}function Ce(K){return!K||typeof K!="object"?!1:typeof HTMLElement<"u"&&K instanceof HTMLElement?!0:typeof K.nodeName=="string"&&typeof K.getAttribute=="function"}function me(K,ne){if(K.length>ne.maxStringLength){var Te=K.length-ne.maxStringLength,Me="... "+Te+" more character"+(Te>1?"s":"");return me(y.call(K,0,ne.maxStringLength),ne)+Me}var Le=_.call(_.call(K,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ie);return x(Le,"single",ne)}function Ie(K){var ne=K.charCodeAt(0),Te={8:"b",9:"t",10:"n",12:"f",13:"r"}[ne];return Te?"\\"+Te:"\\x"+(ne<16?"0":"")+D.call(ne.toString(16))}function p(K){return"Object("+K+")"}function E(K){return K+" { ? }"}function I(K,ne,Te,Me){var Le=Me?ie(Te,Me):A.call(Te,", ");return K+" ("+ne+") {"+Le+"}"}function U(K){for(var ne=0;ne<K.length;ne++)if(Z(K[ne],`
`)>=0)return!1;return!0}function W(K,ne){var Te;if(K.indent==="	")Te="	";else if(typeof K.indent=="number"&&K.indent>0)Te=A.call(Array(K.indent+1)," ");else return null;return{base:Te,prev:A.call(Array(ne+1),Te)}}function ie(K,ne){if(K.length===0)return"";var Te=`
`+ne.prev+ne.base;return Te+A.call(K,","+Te)+`
`+ne.prev}function _e(K,ne){var Te=ge(K),Me=[];if(Te){Me.length=K.length;for(var Le=0;Le<K.length;Le++)Me[Le]=pe(K,Le)?ne(K[Le],K):""}var $e=typeof T=="function"?T(K):[],jn;if(H){jn={};for(var Bn=0;Bn<$e.length;Bn++)jn["$"+$e[Bn]]=$e[Bn]}for(var Vt in K)pe(K,Vt)&&(Te&&String(Number(Vt))===Vt&&Vt<K.length||H&&jn["$"+Vt]instanceof Symbol||(C.call(/[^\w$]/,Vt)?Me.push(ne(Vt,K)+": "+ne(K[Vt],K)):Me.push(Vt+": "+ne(K[Vt],K))));if(typeof T=="function")for(var Vn=0;Vn<$e.length;Vn++)oe.call(K,$e[Vn])&&Me.push("["+ne($e[Vn])+"]: "+ne(K[$e[Vn]],K));return Me}return Mc}function KR(){if(Rm)return Nc;Rm=!0;var e=as(),t=OR(),n=qR(),r=La(),o=e("%WeakMap%",!0),i=e("%Map%",!0),s=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),c=t("Map.prototype.set",!0),d=t("Map.prototype.has",!0),f=function(m,b){for(var y=m,_;(_=y.next)!==null;y=_)if(_.key===b)return y.next=_.next,_.next=m.next,m.next=_,_},h=function(m,b){var y=f(m,b);return y&&y.value},v=function(m,b,y){var _=f(m,b);_?_.value=y:m.next={key:b,next:m.next,value:y}},g=function(m,b){return!!f(m,b)};return Nc=function(){var m,b,y,_={assert:function(D){if(!_.has(D))throw new r("Side channel does not contain "+n(D))},get:function(D){if(o&&D&&(typeof D=="object"||typeof D=="function")){if(m)return s(m,D)}else if(i){if(b)return u(b,D)}else if(y)return h(y,D)},has:function(D){if(o&&D&&(typeof D=="object"||typeof D=="function")){if(m)return l(m,D)}else if(i){if(b)return d(b,D)}else if(y)return g(y,D);return!1},set:function(D,w){o&&D&&(typeof D=="object"||typeof D=="function")?(m||(m=new o),a(m,D,w)):i?(b||(b=new i),c(b,D,w)):(y||(y={key:{},next:null}),v(y,D,w))}};return _},Nc}function Qm(){if(Om)return Rc;Om=!0;var e=String.prototype.replace,t=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Rc={default:n.RFC3986,formatters:{RFC1738:function(r){return e.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},Rc}function wD(){if(km)return Oc;km=!0;var e=Qm(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var m=[],b=0;b<256;++b)m.push("%"+((b<16?"0":"")+b.toString(16)).toUpperCase());return m})(),o=function(m){for(;m.length>1;){var b=m.pop(),y=b.obj[b.prop];if(n(y)){for(var _=[],D=0;D<y.length;++D)typeof y[D]<"u"&&_.push(y[D]);b.obj[b.prop]=_}}},i=function(m,b){for(var y=b&&b.plainObjects?Object.create(null):{},_=0;_<m.length;++_)typeof m[_]<"u"&&(y[_]=m[_]);return y},s=function m(b,y,_){if(!y)return b;if(typeof y!="object"){if(n(b))b.push(y);else if(b&&typeof b=="object")(_&&(_.plainObjects||_.allowPrototypes)||!t.call(Object.prototype,y))&&(b[y]=!0);else return[b,y];return b}if(!b||typeof b!="object")return[b].concat(y);var D=b;return n(b)&&!n(y)&&(D=i(b,_)),n(b)&&n(y)?(y.forEach(function(w,C){if(t.call(b,C)){var S=b[C];S&&typeof S=="object"&&w&&typeof w=="object"?b[C]=m(S,w,_):b.push(w)}else b[C]=w}),b):Object.keys(y).reduce(function(w,C){var S=y[C];return t.call(w,C)?w[C]=m(w[C],S,_):w[C]=S,w},D)},a=function(m,b){return Object.keys(b).reduce(function(y,_){return y[_]=b[_],y},m)},l=function(m,b,y){var _=m.replace(/\+/g," ");if(y==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},u=1024,c=function(m,b,y,_,D){if(m.length===0)return m;var w=m;if(typeof m=="symbol"?w=Symbol.prototype.toString.call(m):typeof m!="string"&&(w=String(m)),y==="iso-8859-1")return escape(w).replace(/%u[0-9a-f]{4}/gi,function(T){return"%26%23"+parseInt(T.slice(2),16)+"%3B"});for(var C="",S=0;S<w.length;S+=u){for(var A=w.length>=u?w.slice(S,S+u):w,N=[],R=0;R<A.length;++R){var F=A.charCodeAt(R);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||D===e.RFC1738&&(F===40||F===41)){N[N.length]=A.charAt(R);continue}if(F<128){N[N.length]=r[F];continue}if(F<2048){N[N.length]=r[192|F>>6]+r[128|F&63];continue}if(F<55296||F>=57344){N[N.length]=r[224|F>>12]+r[128|F>>6&63]+r[128|F&63];continue}R+=1,F=65536+((F&1023)<<10|A.charCodeAt(R)&1023),N[N.length]=r[240|F>>18]+r[128|F>>12&63]+r[128|F>>6&63]+r[128|F&63]}C+=N.join("")}return C},d=function(m){for(var b=[{obj:{o:m},prop:"o"}],y=[],_=0;_<b.length;++_)for(var D=b[_],w=D.obj[D.prop],C=Object.keys(w),S=0;S<C.length;++S){var A=C[S],N=w[A];typeof N=="object"&&N!==null&&y.indexOf(N)===-1&&(b.push({obj:w,prop:A}),y.push(N))}return o(b),m},f=function(m){return Object.prototype.toString.call(m)==="[object RegExp]"},h=function(m){return!m||typeof m!="object"?!1:!!(m.constructor&&m.constructor.isBuffer&&m.constructor.isBuffer(m))},v=function(m,b){return[].concat(m,b)},g=function(m,b){if(n(m)){for(var y=[],_=0;_<m.length;_+=1)y.push(b(m[_]));return y}return b(m)};return Oc={arrayToObject:i,assign:a,combine:v,compact:d,decode:l,encode:c,isBuffer:h,isRegExp:f,maybeMap:g,merge:s},Oc}function YR(){if(Pm)return kc;Pm=!0;var e=KR(),t=wD(),n=Qm(),r=Object.prototype.hasOwnProperty,o={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,m){return g+"["+m+"]"},repeat:function(g){return g}},i=Array.isArray,s=Array.prototype.push,a=function(g,m){s.apply(g,i(m)?m:[m])},l=Date.prototype.toISOString,u=n.default,c={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:n.formatters[u],indices:!1,serializeDate:function(g){return l.call(g)},skipNulls:!1,strictNullHandling:!1},d=function(g){return typeof g=="string"||typeof g=="number"||typeof g=="boolean"||typeof g=="symbol"||typeof g=="bigint"},f={},h=function g(m,b,y,_,D,w,C,S,A,N,R,F,T,V,H,L,oe,X){for(var z=m,re=X,B=0,ee=!1;(re=re.get(f))!==void 0&&!ee;){var x=re.get(m);if(B+=1,typeof x<"u"){if(x===B)throw new RangeError("Cyclic object value");ee=!0}typeof re.get(f)>"u"&&(B=0)}if(typeof N=="function"?z=N(b,z):z instanceof Date?z=T(z):y==="comma"&&i(z)&&(z=t.maybeMap(z,function(O){return O instanceof Date?T(O):O})),z===null){if(w)return A&&!L?A(b,c.encoder,oe,"key",V):b;z=""}if(d(z)||t.isBuffer(z)){if(A){var Y=L?b:A(b,c.encoder,oe,"key",V);return[H(Y)+"="+H(A(z,c.encoder,oe,"value",V))]}return[H(b)+"="+H(String(z))]}var ge=[];if(typeof z>"u")return ge;var te;if(y==="comma"&&i(z))L&&A&&(z=t.maybeMap(z,A)),te=[{value:z.length>0?z.join(",")||null:void 0}];else if(i(N))te=N;else{var Ee=Object.keys(z);te=R?Ee.sort(R):Ee}var G=S?b.replace(/\./g,"%2E"):b,P=_&&i(z)&&z.length===1?G+"[]":G;if(D&&i(z)&&z.length===0)return P+"[]";for(var ae=0;ae<te.length;++ae){var J=te[ae],q=typeof J=="object"&&typeof J.value<"u"?J.value:z[J];if(!(C&&q===null)){var Q=F&&S?J.replace(/\./g,"%2E"):J,ve=i(z)?typeof y=="function"?y(P,Q):P:P+(F?"."+Q:"["+Q+"]");X.set(m,B);var pe=e();pe.set(f,X),a(ge,g(q,ve,y,_,D,w,C,S,y==="comma"&&L&&i(z)?null:A,N,R,F,T,V,H,L,oe,pe))}}return ge},v=function(g){if(!g)return c;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.encodeDotInKeys<"u"&&typeof g.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(g.encoder!==null&&typeof g.encoder<"u"&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var m=g.charset||c.charset;if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=n.default;if(typeof g.format<"u"){if(!r.call(n.formatters,g.format))throw new TypeError("Unknown format option provided.");b=g.format}var y=n.formatters[b],_=c.filter;(typeof g.filter=="function"||i(g.filter))&&(_=g.filter);var D;if(g.arrayFormat in o?D=g.arrayFormat:"indices"in g?D=g.indices?"indices":"repeat":D=c.arrayFormat,"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var w=typeof g.allowDots>"u"?g.encodeDotInKeys===!0?!0:c.allowDots:!!g.allowDots;return{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:c.addQueryPrefix,allowDots:w,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:c.allowEmptyArrays,arrayFormat:D,charset:m,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:c.charsetSentinel,commaRoundTrip:g.commaRoundTrip,delimiter:typeof g.delimiter>"u"?c.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:c.encode,encodeDotInKeys:typeof g.encodeDotInKeys=="boolean"?g.encodeDotInKeys:c.encodeDotInKeys,encoder:typeof g.encoder=="function"?g.encoder:c.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:c.encodeValuesOnly,filter:_,format:b,formatter:y,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:c.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:c.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:c.strictNullHandling}};return kc=function(g,m){var b=g,y=v(m),_,D;typeof y.filter=="function"?(D=y.filter,b=D("",b)):i(y.filter)&&(D=y.filter,_=D);var w=[];if(typeof b!="object"||b===null)return"";var C=o[y.arrayFormat],S=C==="comma"&&y.commaRoundTrip;_||(_=Object.keys(b)),y.sort&&_.sort(y.sort);for(var A=e(),N=0;N<_.length;++N){var R=_[N];y.skipNulls&&b[R]===null||a(w,h(b[R],R,C,S,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,A))}var F=w.join(y.delimiter),T=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),F.length>0?T+F:""},kc}function QR(){if(Fm)return Pc;Fm=!0;var e=wD(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},o=function(f){return f.replace(/&#(\d+);/g,function(h,v){return String.fromCharCode(parseInt(v,10))})},i=function(f,h){return f&&typeof f=="string"&&h.comma&&f.indexOf(",")>-1?f.split(","):f},s="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(f,h){var v={__proto__:null},g=h.ignoreQueryPrefix?f.replace(/^\?/,""):f;g=g.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var m=h.parameterLimit===1/0?void 0:h.parameterLimit,b=g.split(h.delimiter,m),y=-1,_,D=h.charset;if(h.charsetSentinel)for(_=0;_<b.length;++_)b[_].indexOf("utf8=")===0&&(b[_]===a?D="utf-8":b[_]===s&&(D="iso-8859-1"),y=_,_=b.length);for(_=0;_<b.length;++_)if(_!==y){var w=b[_],C=w.indexOf("]="),S=C===-1?w.indexOf("="):C+1,A,N;S===-1?(A=h.decoder(w,r.decoder,D,"key"),N=h.strictNullHandling?null:""):(A=h.decoder(w.slice(0,S),r.decoder,D,"key"),N=e.maybeMap(i(w.slice(S+1),h),function(F){return h.decoder(F,r.decoder,D,"value")})),N&&h.interpretNumericEntities&&D==="iso-8859-1"&&(N=o(N)),w.indexOf("[]=")>-1&&(N=n(N)?[N]:N);var R=t.call(v,A);R&&h.duplicates==="combine"?v[A]=e.combine(v[A],N):(!R||h.duplicates==="last")&&(v[A]=N)}return v},u=function(f,h,v,g){for(var m=g?h:i(h,v),b=f.length-1;b>=0;--b){var y,_=f[b];if(_==="[]"&&v.parseArrays)y=v.allowEmptyArrays&&(m===""||v.strictNullHandling&&m===null)?[]:[].concat(m);else{y=v.plainObjects?Object.create(null):{};var D=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,w=v.decodeDotInKeys?D.replace(/%2E/g,"."):D,C=parseInt(w,10);!v.parseArrays&&w===""?y={0:m}:!isNaN(C)&&_!==w&&String(C)===w&&C>=0&&v.parseArrays&&C<=v.arrayLimit?(y=[],y[C]=m):w!=="__proto__"&&(y[w]=m)}m=y}return m},c=function(f,h,v,g){if(f){var m=v.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f,b=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,_=v.depth>0&&b.exec(m),D=_?m.slice(0,_.index):m,w=[];if(D){if(!v.plainObjects&&t.call(Object.prototype,D)&&!v.allowPrototypes)return;w.push(D)}for(var C=0;v.depth>0&&(_=y.exec(m))!==null&&C<v.depth;){if(C+=1,!v.plainObjects&&t.call(Object.prototype,_[1].slice(1,-1))&&!v.allowPrototypes)return;w.push(_[1])}if(_){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");w.push("["+m.slice(_.index)+"]")}return u(w,h,v,g)}},d=function(f){if(!f)return r;if(typeof f.allowEmptyArrays<"u"&&typeof f.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof f.decodeDotInKeys<"u"&&typeof f.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(f.decoder!==null&&typeof f.decoder<"u"&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset<"u"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var h=typeof f.charset>"u"?r.charset:f.charset,v=typeof f.duplicates>"u"?r.duplicates:f.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var g=typeof f.allowDots>"u"?f.decodeDotInKeys===!0?!0:r.allowDots:!!f.allowDots;return{allowDots:g,allowEmptyArrays:typeof f.allowEmptyArrays=="boolean"?!!f.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:r.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:r.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:r.arrayLimit,charset:h,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:r.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:r.comma,decodeDotInKeys:typeof f.decodeDotInKeys=="boolean"?f.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof f.decoder=="function"?f.decoder:r.decoder,delimiter:typeof f.delimiter=="string"||e.isRegExp(f.delimiter)?f.delimiter:r.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:r.depth,duplicates:v,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:r.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:r.plainObjects,strictDepth:typeof f.strictDepth=="boolean"?!!f.strictDepth:r.strictDepth,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:r.strictNullHandling}};return Pc=function(f,h){var v=d(h);if(f===""||f===null||typeof f>"u")return v.plainObjects?Object.create(null):{};for(var g=typeof f=="string"?l(f,v):f,m=v.plainObjects?Object.create(null):{},b=Object.keys(g),y=0;y<b.length;++y){var _=b[y],D=c(_,g[_],v,typeof f=="string");m=e.merge(m,D,v)}return v.allowSparse===!0?m:e.compact(m)},Pc}function ZR(){if(Lm)return Fc;Lm=!0;var e=YR(),t=QR(),n=Qm();return Fc={formats:n,parse:t,stringify:e},Fc}function JR(){if(jm)return lo;jm=!0;var e=ao;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var n=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(i),a=["'"].concat(s),l=["%","/","?",";","#"].concat(a),u=["/","?","#"],c=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=ZR();function b(w,C,S){if(w&&typeof w=="object"&&w instanceof t)return w;var A=new t;return A.parse(w,C,S),A}t.prototype.parse=function(w,C,S){if(typeof w!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof w);var A=w.indexOf("?"),N=A!==-1&&A<w.indexOf("#")?"?":"#",R=w.split(N),F=/\\/g;R[0]=R[0].replace(F,"/"),w=R.join(N);var T=w;if(T=T.trim(),!S&&w.split("#").length===1){var V=o.exec(T);if(V)return this.path=T,this.href=T,this.pathname=V[1],V[2]?(this.search=V[2],C?this.query=m.parse(this.search.substr(1)):this.query=this.search.substr(1)):C&&(this.search="",this.query={}),this}var H=n.exec(T);if(H){H=H[0];var L=H.toLowerCase();this.protocol=L,T=T.substr(H.length)}if(S||H||T.match(/^\/\/[^@/]+@[^@/]+/)){var oe=T.substr(0,2)==="//";oe&&!(H&&v[H])&&(T=T.substr(2),this.slashes=!0)}if(!v[H]&&(oe||H&&!g[H])){for(var X=-1,z=0;z<u.length;z++){var re=T.indexOf(u[z]);re!==-1&&(X===-1||re<X)&&(X=re)}var B,ee;X===-1?ee=T.lastIndexOf("@"):ee=T.lastIndexOf("@",X),ee!==-1&&(B=T.slice(0,ee),T=T.slice(ee+1),this.auth=decodeURIComponent(B)),X=-1;for(var z=0;z<l.length;z++){var re=T.indexOf(l[z]);re!==-1&&(X===-1||re<X)&&(X=re)}X===-1&&(X=T.length),this.host=T.slice(0,X),T=T.slice(X),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var Y=this.hostname.split(/\./),z=0,ge=Y.length;z<ge;z++){var te=Y[z];if(te&&!te.match(d)){for(var Ee="",G=0,P=te.length;G<P;G++)te.charCodeAt(G)>127?Ee+="x":Ee+=te[G];if(!Ee.match(d)){var ae=Y.slice(0,z),J=Y.slice(z+1),q=te.match(f);q&&(ae.push(q[1]),J.unshift(q[2])),J.length&&(T="/"+J.join(".")+T),this.hostname=ae.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=e.toASCII(this.hostname));var Q=this.port?":"+this.port:"",ve=this.hostname||"";this.host=ve+Q,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!h[L])for(var z=0,ge=a.length;z<ge;z++){var pe=a[z];if(T.indexOf(pe)!==-1){var O=encodeURIComponent(pe);O===pe&&(O=escape(pe)),T=T.split(pe).join(O)}}var j=T.indexOf("#");j!==-1&&(this.hash=T.substr(j),T=T.slice(0,j));var Z=T.indexOf("?");if(Z!==-1?(this.search=T.substr(Z),this.query=T.substr(Z+1),C&&(this.query=m.parse(this.query)),T=T.slice(0,Z)):C&&(this.search="",this.query={}),T&&(this.pathname=T),g[L]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",se=this.search||"";this.path=Q+se}return this.href=this.format(),this};function y(w){return typeof w=="string"&&(w=b(w)),w instanceof t?w.format():t.prototype.format.call(w)}t.prototype.format=function(){var w=this.auth||"";w&&(w=encodeURIComponent(w),w=w.replace(/%3A/i,":"),w+="@");var C=this.protocol||"",S=this.pathname||"",A=this.hash||"",N=!1,R="";this.host?N=w+this.host:this.hostname&&(N=w+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(N+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(R=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var F=this.search||R&&"?"+R||"";return C&&C.substr(-1)!==":"&&(C+=":"),this.slashes||(!C||g[C])&&N!==!1?(N="//"+(N||""),S&&S.charAt(0)!=="/"&&(S="/"+S)):N||(N=""),A&&A.charAt(0)!=="#"&&(A="#"+A),F&&F.charAt(0)!=="?"&&(F="?"+F),S=S.replace(/[?#]/g,function(T){return encodeURIComponent(T)}),F=F.replace("#","%23"),C+N+S+F+A};function _(w,C){return b(w,!1,!0).resolve(C)}t.prototype.resolve=function(w){return this.resolveObject(b(w,!1,!0)).format()};function D(w,C){return w?b(w,!1,!0).resolveObject(C):C}return t.prototype.resolveObject=function(w){if(typeof w=="string"){var C=new t;C.parse(w,!1,!0),w=C}for(var S=new t,A=Object.keys(this),N=0;N<A.length;N++){var R=A[N];S[R]=this[R]}if(S.hash=w.hash,w.href==="")return S.href=S.format(),S;if(w.slashes&&!w.protocol){for(var F=Object.keys(w),T=0;T<F.length;T++){var V=F[T];V!=="protocol"&&(S[V]=w[V])}return g[S.protocol]&&S.hostname&&!S.pathname&&(S.pathname="/",S.path=S.pathname),S.href=S.format(),S}if(w.protocol&&w.protocol!==S.protocol){if(!g[w.protocol]){for(var H=Object.keys(w),L=0;L<H.length;L++){var oe=H[L];S[oe]=w[oe]}return S.href=S.format(),S}if(S.protocol=w.protocol,!w.host&&!v[w.protocol]){for(var ge=(w.pathname||"").split("/");ge.length&&!(w.host=ge.shift()););w.host||(w.host=""),w.hostname||(w.hostname=""),ge[0]!==""&&ge.unshift(""),ge.length<2&&ge.unshift(""),S.pathname=ge.join("/")}else S.pathname=w.pathname;if(S.search=w.search,S.query=w.query,S.host=w.host||"",S.auth=w.auth,S.hostname=w.hostname||w.host,S.port=w.port,S.pathname||S.search){var X=S.pathname||"",z=S.search||"";S.path=X+z}return S.slashes=S.slashes||w.slashes,S.href=S.format(),S}var re=S.pathname&&S.pathname.charAt(0)==="/",B=w.host||w.pathname&&w.pathname.charAt(0)==="/",ee=B||re||S.host&&w.pathname,x=ee,Y=S.pathname&&S.pathname.split("/")||[],ge=w.pathname&&w.pathname.split("/")||[],te=S.protocol&&!g[S.protocol];if(te&&(S.hostname="",S.port=null,S.host&&(Y[0]===""?Y[0]=S.host:Y.unshift(S.host)),S.host="",w.protocol&&(w.hostname=null,w.port=null,w.host&&(ge[0]===""?ge[0]=w.host:ge.unshift(w.host)),w.host=null),ee=ee&&(ge[0]===""||Y[0]==="")),B)S.host=w.host||w.host===""?w.host:S.host,S.hostname=w.hostname||w.hostname===""?w.hostname:S.hostname,S.search=w.search,S.query=w.query,Y=ge;else if(ge.length)Y||(Y=[]),Y.pop(),Y=Y.concat(ge),S.search=w.search,S.query=w.query;else if(w.search!=null){if(te){S.host=Y.shift(),S.hostname=S.host;var Ee=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;Ee&&(S.auth=Ee.shift(),S.hostname=Ee.shift(),S.host=S.hostname)}return S.search=w.search,S.query=w.query,(S.pathname!==null||S.search!==null)&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.href=S.format(),S}if(!Y.length)return S.pathname=null,S.search?S.path="/"+S.search:S.path=null,S.href=S.format(),S;for(var G=Y.slice(-1)[0],P=(S.host||w.host||Y.length>1)&&(G==="."||G==="..")||G==="",ae=0,J=Y.length;J>=0;J--)G=Y[J],G==="."?Y.splice(J,1):G===".."?(Y.splice(J,1),ae++):ae&&(Y.splice(J,1),ae--);if(!ee&&!x)for(;ae--;ae)Y.unshift("..");ee&&Y[0]!==""&&(!Y[0]||Y[0].charAt(0)!=="/")&&Y.unshift(""),P&&Y.join("/").substr(-1)!=="/"&&Y.push("");var q=Y[0]===""||Y[0]&&Y[0].charAt(0)==="/";if(te){S.hostname=q?"":Y.length?Y.shift():"",S.host=S.hostname;var Ee=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;Ee&&(S.auth=Ee.shift(),S.hostname=Ee.shift(),S.host=S.hostname)}return ee=ee||S.host&&Y.length,ee&&!q&&Y.unshift(""),Y.length>0?S.pathname=Y.join("/"):(S.pathname=null,S.path=null),(S.pathname!==null||S.search!==null)&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.auth=w.auth||S.auth,S.slashes=S.slashes||w.slashes,S.href=S.format(),S},t.prototype.parseHost=function(){var w=this.host,C=r.exec(w);C&&(C=C[0],C!==":"&&(this.port=C.substr(1)),w=w.substr(0,w.length-C.length)),w&&(this.hostname=w)},lo.parse=b,lo.resolve=_,lo.resolveObject=D,lo.format=y,lo.Url=t,lo}function _D(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return jc?XR(e):eO(e)}function XR(e){let t=e.hostname,n=e.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let o=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&o===102||n[r+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(kD,"\\"),n=decodeURIComponent(n),t!=="")return`\\\\${t}${n}`;{let r=n.codePointAt(1)|32,o=n[2];if(r<RD||r>OD||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function eO(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let r=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function ED(e){let t=xm.resolve(e),n=e.charCodeAt(e.length-1);(n===ND||jc&&n===xD)&&t[t.length-1]!==xm.sep&&(t+="/");let r=new URL("file://");return t.includes("%")&&(t=t.replace(PD,"%25")),!jc&&t.includes("\\")&&(t=t.replace(FD,"%5C")),t.includes(`
`)&&(t=t.replace(LD,"%0A")),t.includes("\r")&&(t=t.replace(jD,"%0D")),t.includes("	")&&(t=t.replace(BD,"%09")),r.pathname=t,r}var DD,Mc,Nm,xc,Nc,Rm,Rc,Om,Oc,km,kc,Pm,Pc,Fm,Fc,Lm,lo,jm,qt,uE,CD,SD,ID,AD,TD,MD,xD,ND,RD,OD,jc,kD,PD,FD,LD,jD,BD,tO=cn(()=>{ue(),de(),ce(),vR(),kR(),GR(),vD(),DD=Object.freeze(Object.create(null)),Mc={},Nm=!1,xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Nc={},Rm=!1,Rc={},Om=!1,Oc={},km=!1,kc={},Pm=!1,Pc={},Fm=!1,Fc={},Lm=!1,lo={},jm=!1,qt=JR(),qt.parse,qt.resolve,qt.resolveObject,qt.format,qt.Url,uE=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,qt.URL=typeof URL<"u"?URL:null,qt.pathToFileURL=ED,qt.fileURLToPath=_D,CD=qt.Url,SD=qt.format,ID=qt.resolve,AD=qt.resolveObject,TD=qt.parse,MD=qt.URL,xD=92,ND=47,RD=97,OD=122,jc=uE==="win32",kD=/\//g,PD=/%/g,FD=/\\/g,LD=/\n/g,jD=/\r/g,BD=/\t/g}),nO=he((e,t)=>{"use strict";ue(),de(),ce(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Zm=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=r;var t=ei(),n=(kt(),rt(Ot));function r(i,s){let a=new Array(i.length);for(let l=0;l<i.length;l++)typeof i[l].chunk=="string"?a[l]=n.Buffer.from(i[l].chunk,"utf8"):a[l]=i[l].chunk;this._write(n.Buffer.concat(a),"binary",s)}var o=class extends t.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(i,s,a){super({objectMode:!0}),this.proxy=s,this.socket=a,this.writeQueue=[],i.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{!this.destroyed&&this.readable&&this.push(l)})}_read(i){this.proxy.read(i)}_write(i,s,a){this.isSocketOpen?this.writeToProxy(i,s,a):this.writeQueue.push({chunk:i,encoding:s,cb:a})}_final(i){this.writeQueue=[],this.proxy.end(i)}_destroy(i,s){this.writeQueue=[],this.proxy.destroy(),s(i)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(i,s,a){this.proxy.write(i,s)===!1?this.proxy.once("drain",a):a()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:i,encoding:s,cb:a}=this.writeQueue.shift();this.writeToProxy(i,s,a)}}};e.BufferedDuplex=o}),dc=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var n=(kt(),rt(Ot)),r=t(nO()),o=t(Or()),i=ei(),s=t(Wc()),a=Zm(),l=(0,o.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(b,y){let _=`${b.protocol}://${b.hostname}:${b.port}${b.path}`;return typeof b.transformWsUrl=="function"&&(_=b.transformWsUrl(_,b,y)),_}function d(b){let y=b;return b.port||(b.protocol==="wss"?y.port=443:y.port=80),b.path||(y.path="/"),b.wsOptions||(y.wsOptions={}),!s.default&&!b.forceNativeWebSocket&&b.protocol==="wss"&&u.forEach(_=>{Object.prototype.hasOwnProperty.call(b,_)&&!Object.prototype.hasOwnProperty.call(b.wsOptions,_)&&(y.wsOptions[_]=b[_])}),y}function f(b){let y=d(b);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let _=new URL(document.URL);y.hostname=_.hostname,y.port||(y.port=Number(_.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function h(b,y,_){l("createWebSocket"),l(`protocol: ${_.protocolId} ${_.protocolVersion}`);let D=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${y} and protocol: ${D}`);let w;return _.createWebsocket?w=_.createWebsocket(y,[D],_):w=new r.default(y,[D],_.wsOptions),w}function v(b,y){let _=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",D=c(y,b),w;return y.createWebsocket?w=y.createWebsocket(D,[_],y):w=new WebSocket(D,[_]),w.binaryType="arraybuffer",w}var g=(b,y)=>{l("streamBuilder");let _=d(y);_.hostname=_.hostname||_.host||"localhost";let D=c(_,b),w=h(b,D,_),C=r.default.createWebSocketStream(w,_.wsOptions);return C.url=D,w.on("close",()=>{C.destroy()}),C};e.streamBuilder=g;var m=(b,y)=>{l("browserStreamBuilder");let _,D=f(y).browserBufferSize||1024*512,w=y.browserBufferTimeout||1e3,C=!y.objectMode,S=v(b,y),A=R(y,L,oe);y.objectMode||(A._writev=a.writev.bind(A)),A.on("close",()=>{S.close()});let N=typeof S.addEventListener<"u";S.readyState===S.OPEN?(_=A,_.socket=S):(_=new a.BufferedDuplex(y,A,S),N?S.addEventListener("open",F):S.onopen=F),N?(S.addEventListener("close",T),S.addEventListener("error",V),S.addEventListener("message",H)):(S.onclose=T,S.onerror=V,S.onmessage=H);function R(X,z,re){let B=new i.Transform({objectMode:X.objectMode});return B._write=z,B._flush=re,B}function F(){l("WebSocket onOpen"),_ instanceof a.BufferedDuplex&&_.socketReady()}function T(X){l("WebSocket onClose",X),_.end(),_.destroy()}function V(X){l("WebSocket onError",X);let z=new Error("WebSocket error");z.event=X,_.destroy(z)}function H(X){return Xe(this,null,function*(){if(!A||!A.readable||!A.writable)return;let{data:z}=X;z instanceof ArrayBuffer?z=n.Buffer.from(z):z instanceof Blob?z=n.Buffer.from(yield new Response(z).arrayBuffer()):z=n.Buffer.from(z,"utf8"),A.push(z)})}function L(X,z,re){if(S.bufferedAmount>D){setTimeout(L,w,X,z,re);return}C&&typeof X=="string"&&(X=n.Buffer.from(X,"utf8"));try{S.send(X)}catch(B){return re(B)}re()}function oe(X){S.close(),X()}return _};e.browserStreamBuilder=m}),Jm={};os(Jm,{Server:()=>lt,Socket:()=>lt,Stream:()=>lt,_createServerHandle:()=>lt,_normalizeArgs:()=>lt,_setSimultaneousAccepts:()=>lt,connect:()=>lt,createConnection:()=>lt,createServer:()=>lt,default:()=>VD,isIP:()=>lt,isIPv4:()=>lt,isIPv6:()=>lt});function lt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var VD,UD=cn(()=>{ue(),de(),ce(),VD={_createServerHandle:lt,_normalizeArgs:lt,_setSimultaneousAccepts:lt,connect:lt,createConnection:lt,createServer:lt,isIP:lt,isIPv4:lt,isIPv6:lt,Server:lt,Socket:lt,Stream:lt}}),$D=he((e,t)=>{ue(),de(),ce(),t.exports={}}),cE=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var n=t((UD(),rt(Jm))),r=t(Or()),o=t($D()),i=(0,r.default)("mqttjs:tcp"),s=(a,l)=>{if(l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost",l.socksProxy)return(0,o.default)(l.hostname,l.port,l.socksProxy,{timeout:l.socksTimeout});let{port:u,path:c}=l,d=l.hostname;return i("port %d and host %s",u,d),n.default.createConnection({port:u,host:d,path:c})};e.default=s}),HD={};os(HD,{default:()=>WD});var WD,rO=cn(()=>{ue(),de(),ce(),WD={}}),dE=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var n=(rO(),rt(HD)),r=t((UD(),rt(Jm))),o=t(Or()),i=t($D()),s=(0,o.default)("mqttjs:tls");function a(u){let v=u,{host:c,port:d,socksProxy:f}=v,h=cd(v,["host","port","socksProxy"]);if(f!==void 0){let g=(0,i.default)(c,d,f,{timeout:u.socksTimeout});return(0,n.connect)(Oe(be({},h),{socket:g}))}return(0,n.connect)(u)}var l=(u,c)=>{c.port=c.port||8883,c.host=c.hostname||c.host||"localhost",r.default.isIP(c.host)===0&&(c.servername=c.host),c.rejectUnauthorized=c.rejectUnauthorized!==!1,delete c.path,s("port %d host %s rejectUnauthorized %b",c.port,c.host,c.rejectUnauthorized);let d=a(c);d.on("secureConnect",()=>{c.rejectUnauthorized&&!d.authorized?d.emit("error",new Error("TLS not authorized")):d.removeListener("error",f)});function f(h){c.rejectUnauthorized&&u.emit("error",h),d.end()}return d.on("error",f),d};e.default=l}),fE=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=(kt(),rt(Ot)),n=ei(),r=Zm(),o,i,s;function a(){let f=new n.Transform;return f._write=(h,v,g)=>{o.send({data:h.buffer,success(){g()},fail(m){g(new Error(m))}})},f._flush=h=>{o.close({success(){h()}})},f}function l(f){f.hostname||(f.hostname="localhost"),f.path||(f.path="/"),f.wsOptions||(f.wsOptions={})}function u(f,h){let v=f.protocol==="wxs"?"wss":"ws",g=`${v}://${f.hostname}${f.path}`;return f.port&&f.port!==80&&f.port!==443&&(g=`${v}://${f.hostname}:${f.port}${f.path}`),typeof f.transformWsUrl=="function"&&(g=f.transformWsUrl(g,f,h)),g}function c(){o.onOpen(()=>{s.socketReady()}),o.onMessage(f=>{let{data:h}=f;h instanceof ArrayBuffer?h=t.Buffer.from(h):h=t.Buffer.from(h,"utf8"),i.push(h)}),o.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),o.onError(f=>{let h=new Error(f.errMsg);s.destroy(h)})}var d=(f,h)=>{if(h.hostname=h.hostname||h.host,!h.hostname)throw new Error("Could not determine host. Specify host manually.");let v=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt";l(h);let g=u(h,f);o=wx.connectSocket({url:g,protocols:[v]}),i=a(),s=new r.BufferedDuplex(h,i,o),s._destroy=(b,y)=>{o.close({success(){y&&y(b)}})};let m=s.destroy;return s.destroy=(b,y)=>(s.destroy=m,setTimeout(()=>{o.close({fail(){s._destroy(b,y)}})},0),s),c(),s};e.default=d}),hE=he(e=>{"use strict";ue(),de(),ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=(kt(),rt(Ot)),n=ei(),r=Zm(),o,i,s,a=!1;function l(){let h=new n.Transform;return h._write=(v,g,m)=>{o.sendSocketMessage({data:v.buffer,success(){m()},fail(){m(new Error)}})},h._flush=v=>{o.closeSocket({success(){v()}})},h}function u(h){h.hostname||(h.hostname="localhost"),h.path||(h.path="/"),h.wsOptions||(h.wsOptions={})}function c(h,v){let g=h.protocol==="alis"?"wss":"ws",m=`${g}://${h.hostname}${h.path}`;return h.port&&h.port!==80&&h.port!==443&&(m=`${g}://${h.hostname}:${h.port}${h.path}`),typeof h.transformWsUrl=="function"&&(m=h.transformWsUrl(m,h,v)),m}function d(){a||(a=!0,o.onSocketOpen(()=>{s.socketReady()}),o.onSocketMessage(h=>{if(typeof h.data=="string"){let v=t.Buffer.from(h.data,"base64");i.push(v)}else{let v=new FileReader;v.addEventListener("load",()=>{if(v.result instanceof ArrayBuffer){i.push(t.Buffer.from(v.result));return}i.push(t.Buffer.from(v.result,"utf-8"))}),v.readAsArrayBuffer(h.data)}}),o.onSocketClose(()=>{s.end(),s.destroy()}),o.onSocketError(h=>{s.destroy(h)}))}var f=(h,v)=>{if(v.hostname=v.hostname||v.host,!v.hostname)throw new Error("Could not determine host. Specify host manually.");let g=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";u(v);let m=c(v,h);return o=v.my,o.connectSocket({url:m,protocols:g}),i=l(),s=new r.BufferedDuplex(v,i,o),d(),s};e.default=f}),oO=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=c;var n=t(Or()),r=t((tO(),rt(bD))),o=t(Zg()),i=t(Wc());typeof it?.nextTick!="function"&&(it.nextTick=setImmediate);var s=(0,n.default)("mqttjs"),a=null;function l(d){let f;if(d.auth)if(f=d.auth.match(/^(.+):(.+)$/),f){let[,h,v]=f;d.username=h,d.password=v}else d.username=d.auth}function u(d,f){if(s("connecting to an MQTT broker..."),typeof d=="object"&&!f&&(f=d,d=""),f=f||{},d&&typeof d=="string"){let g=r.default.parse(d,!0),m={};if(g.port!=null&&(m.port=Number(g.port)),m.host=g.hostname,m.query=g.query,m.auth=g.auth,m.protocol=g.protocol,m.path=g.path,f=be(be({},m),f),!f.protocol)throw new Error("Missing protocol");f.protocol=f.protocol.replace(/:$/,"")}if(f.unixSocket=f.unixSocket||f.protocol?.includes("+unix"),f.unixSocket?f.protocol=f.protocol.replace("+unix",""):!f.protocol?.startsWith("ws")&&!f.protocol?.startsWith("wx")&&delete f.path,l(f),f.query&&typeof f.query.clientId=="string"&&(f.clientId=f.query.clientId),i.default||f.unixSocket?f.socksProxy=void 0:f.socksProxy===void 0&&typeof it<"u"&&(f.socksProxy=it.env.MQTTJS_SOCKS_PROXY),f.cert&&f.key)if(f.protocol){if(["mqtts","wss","wxs","alis"].indexOf(f.protocol)===-1)switch(f.protocol){case"mqtt":f.protocol="mqtts";break;case"ws":f.protocol="wss";break;case"wx":f.protocol="wxs";break;case"ali":f.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${f.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(a||(a={},!i.default&&!f.forceNativeWebSocket?(a.ws=dc().streamBuilder,a.wss=dc().streamBuilder,a.mqtt=cE().default,a.tcp=cE().default,a.ssl=dE().default,a.tls=a.ssl,a.mqtts=dE().default):(a.ws=dc().browserStreamBuilder,a.wss=dc().browserStreamBuilder,a.wx=fE().default,a.wxs=fE().default,a.ali=hE().default,a.alis=hE().default)),!a[f.protocol]){let g=["mqtts","wss"].indexOf(f.protocol)!==-1;f.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((m,b)=>g&&b%2===0?!1:typeof a[m]=="function")[0]}if(f.clean===!1&&!f.clientId)throw new Error("Missing clientId for unclean clients");f.protocol&&(f.defaultProtocol=f.protocol);function h(g){return f.servers&&((!g._reconnectCount||g._reconnectCount===f.servers.length)&&(g._reconnectCount=0),f.host=f.servers[g._reconnectCount].host,f.port=f.servers[g._reconnectCount].port,f.protocol=f.servers[g._reconnectCount].protocol?f.servers[g._reconnectCount].protocol:f.defaultProtocol,f.hostname=f.host,g._reconnectCount++),s("calling streambuilder for",f.protocol),a[f.protocol](g,f)}let v=new o.default(h,f);return v.on("error",()=>{}),v}function c(d,f,h=!0){return new Promise((v,g)=>{let m=u(d,f),b={connect:_=>{y(),v(m)},end:()=>{y(),v(m)},error:_=>{y(),m.end(),g(_)}};h===!1&&(b.close=()=>{b.error(new Error("Couldn't connect to server"))});function y(){Object.keys(b).forEach(_=>{m.off(_,b[_])})}Object.keys(b).forEach(_=>{m.on(_,b[_])})})}e.default=u}),pE=he(e=>{"use strict";ue(),de(),ce();var t=e&&e.__createBinding||(Object.create?function(h,v,g,m){m===void 0&&(m=g);var b=Object.getOwnPropertyDescriptor(v,g);(!b||("get"in b?!v.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return v[g]}}),Object.defineProperty(h,m,b)}:function(h,v,g,m){m===void 0&&(m=g),h[m]=v[g]}),n=e&&e.__setModuleDefault||(Object.create?function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}:function(h,v){h.default=v}),r=e&&e.__importStar||(function(){var h=function(v){return h=Object.getOwnPropertyNames||function(g){var m=[];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(m[m.length]=b);return m},h(v)};return function(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var m=h(v),b=0;b<m.length;b++)m[b]!=="default"&&t(g,v,m[b]);return n(g,v),g}})(),o=e&&e.__exportStar||function(h,v){for(var g in h)g!=="default"&&!Object.prototype.hasOwnProperty.call(v,g)&&t(v,h,g)},i=e&&e.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var s=i(Zg());e.MqttClient=s.default;var a=i(sD());e.DefaultMessageIdProvider=a.default;var l=i(cR());e.UniqueMessageIdProvider=l.default;var u=i(HE());e.Store=u.default;var c=r(oO());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var d=i(hD());e.KeepaliveManager=d.default,e.Client=s.default,o(Zg(),e),o(ss(),e);var f=$c();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return f.ReasonCodes}})}),iO=he(e=>{ue(),de(),ce();var t=e&&e.__createBinding||(Object.create?function(s,a,l,u){u===void 0&&(u=l);var c=Object.getOwnPropertyDescriptor(a,l);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,u,c)}:function(s,a,l,u){u===void 0&&(u=l),s[u]=a[l]}),n=e&&e.__setModuleDefault||(Object.create?function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}:function(s,a){s.default=a}),r=e&&e.__importStar||(function(){var s=function(a){return s=Object.getOwnPropertyNames||function(l){var u=[];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(u[u.length]=c);return u},s(a)};return function(a){if(a&&a.__esModule)return a;var l={};if(a!=null)for(var u=s(a),c=0;c<u.length;c++)u[c]!=="default"&&t(l,a,u[c]);return n(l,a),l}})(),o=e&&e.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0});var i=r(pE());e.default=i,o(pE(),e)}),zD=iO();var rr=class e{users=[{username:"client-admin",password:"megaPassword1"},{username:"client-maison",password:"megaPassword1"},{username:"client-chalet",password:"megaPassword1"}];currentUser=null;constructor(){let t=localStorage.getItem("currentUser");t&&(this.currentUser=t)}login(t,n){return Xe(this,null,function*(){let r=this.users.find(i=>i.username===t);if(!r)return!1;let o=n===r.password;return o&&(this.currentUser=t,localStorage.setItem("currentUser",t)),o})}logout(){this.currentUser=null,localStorage.removeItem("currentUser")}isAuthenticated(){return this.currentUser!==null}getCurrentUser(){return this.currentUser}getPasswordForUser(t){return this.users.find(r=>r.username===t)?.password}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})};var or=class e{toasts=[];show(t,n={}){let r=be({message:t,delay:5e3},n);this.toasts.push(r),r.delay&&r.delay>0&&setTimeout(()=>this.remove(r),r.delay)}remove(t){this.toasts=this.toasts.filter(n=>n!==t)}success(t,n="Succ\xE8s"){this.show(t,{header:n,classname:"bg-green-600 border-l-4 border-green-800"})}error(t,n="Erreur"){this.show(t,{header:n,classname:"bg-red-600 border-l-4 border-red-800",delay:8e3})}info(t,n="Information"){this.show(t,{header:n,classname:"bg-blue-600 border-l-4 border-blue-800"})}flashSuccess(t){localStorage.setItem("flashToast",JSON.stringify({type:"success",msg:t}))}flashError(t){localStorage.setItem("flashToast",JSON.stringify({type:"error",msg:t}))}popFlashToast(){let t=localStorage.getItem("flashToast");if(!t)return;let n=JSON.parse(t);switch(n.type){case"success":this.success(n.msg);break;case"error":this.error(n.msg);break;case"info":this.info(n.msg);break;default:this.show(n.msg);break}localStorage.removeItem("flashToast")}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})};var Tn=class e{client=null;authService=we(rr);userConnecter;toastService=we(or);brokerUrl="wss://mqtt.objexcontrol.me/mqtt";structureSubject=new bt({emplacements:[]});structure$=this.structureSubject.asObservable();connectionStatusSubject=new bt("disconnected");connectionStatus$=this.connectionStatusSubject.asObservable();connect(t=this.brokerUrl){if(this.client&&this.client.connected)return;if(this.userConnecter=this.authService.getCurrentUser(),!this.userConnecter){this.connectionStatusSubject.next("unauthenticated");return}let n=this.authService.getPasswordForUser(this.userConnecter);if(!n){this.connectionStatusSubject.next("error");return}let r={username:this.userConnecter,password:n,reconnectPeriod:3e3,clean:!0};this.connectionStatusSubject.next("connecting"),this.client=zD.connect(t,r),this.client.on("connect",()=>{switch(this.connectionStatusSubject.next("connected"),this.subscribeTopic("system/structure","structure"),this.userConnecter){case"client-admin":this.subscribeTopic("#","tous les topics");break;case"client-maison":this.subscribeTopic("maison/#","maison");break;case"client-chalet":this.subscribeTopic("chalet/#","chalet");break}}),this.client.on("message",(o,i)=>{let s=i.toString(),a;try{a=JSON.parse(s)}catch{a={state:s}}if(o==="system/structure"){this.handleStructureUpdate(a);return}if(a.type==="device-removed"&&a.topic){this.removeObjectFromStructure(a.topic);return}this.handleObjectUpdate(o,a)}),this.client.on("error",o=>{this.connectionStatusSubject.next("error")}),this.client.on("close",()=>{this.connectionStatusSubject.next("disconnected")})}subscribeTopic(t,n){this.client?.subscribe(t)}hasAccessToEmplacement(t){return this.userConnecter==="client-admin"?!0:this.userConnecter==="client-maison"?t==="maison":this.userConnecter==="client-chalet"?t==="chalet":!1}filterStructureByPermissions(t){return this.userConnecter==="client-admin"?t:{emplacements:t.emplacements.filter(n=>this.hasAccessToEmplacement(n.nom))}}handleStructureUpdate(t){let n=this.filterStructureByPermissions(t);this.structureSubject.next(n)}handleObjectUpdate(t,n){let r=t.split("/");if(r.length<3)return;let[o,i,s]=r;if(!this.hasAccessToEmplacement(o))return;let a=Number(n.state),l=Date.now(),u=this.structureSubject.value,d=u.emplacements.flatMap(h=>h.pieces).flatMap(h=>h.objets).find(h=>h.topic===t)?.state,f=u.emplacements.map(h=>h.nom!==o?h:Oe(be({},h),{pieces:h.pieces.map(v=>v.nom!==i?v:Oe(be({},v),{objets:v.objets.map(g=>g.nom!==s?g:Oe(be({},g),{state:a,topic:t,ts:n.ts??l,reason:n.reason,src:n.src,stateText:n.stateText,deviceType:n.deviceType}))}))}));this.structureSubject.next({emplacements:f}),n.src!=="angular"&&d!==void 0&&d!==a&&this.toastService.success(`L'objet "${s}" a chang\xE9 dans Packet Tracer : ${d} \u2192 ${a}`)}removeObjectFromStructure(t){let n=t.split("/");if(n.length<3)return;let[r,o,i]=n,a=this.structureSubject.value.emplacements.map(l=>{if(l.nom!==r)return l;let u=l.pieces.map(c=>{if(c.nom!==o)return c;let d=c.objets.filter(f=>f.nom!==i);return Oe(be({},c),{objets:d})}).filter(c=>c.objets.length>0);return Oe(be({},l),{pieces:u})}).filter(l=>l.pieces.length>0);this.structureSubject.next({emplacements:a})}publish(t,n){if(!this.client?.connected)return;let r=t.split("/")[0];this.hasAccessToEmplacement(r)&&this.client.publish(t,JSON.stringify({state:n,reason:"front-end",src:"angular",ts:Date.now()}))}publishUpdate(t){this.client?.connected&&this.hasAccessToEmplacement(t.emplacement)&&this.client.publish(t.topic,JSON.stringify(t))}disconnect(){this.client&&(this.client.end(!0),this.client=null,this.connectionStatusSubject.next("disconnected"))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})};var zc=class e{objet=Zn.required();mqttService=we(Tn);toastService=we(or);toggleState(t){let n=Number(t.state??0),r=n===0?1:0,o=r===0?"Off":"On",[i,s,a]=t.topic.split("/"),l={type:"update",emplacement:i,piece:s,objet:t.nom??a,state:r,stateText:o,topic:t.topic,ts:Date.now(),src:"angular",reason:"front-toggle",deviceType:t.deviceType};t.state=r,t.stateText=o,this.mqttService.publishUpdate(l),this.toastService.flashSuccess(`L'objet "${t.nom}" a chang\xE9 : ${n} \u2192 ${r}`),this.toastService.popFlashToast()}formatString(t){if(!t)return;let n=t.substring(0,1),r=t.substring(1);return n.toUpperCase()+r}formatDate(t){return t?new Date(t).toLocaleString("fr-CA",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-carte-objet"]],inputs:{objet:[1,"objet"]},decls:16,vars:5,consts:[[1,"border","border-slate-300","rounded-2xl","p-4","w-64","bg-slate-700","h-[175px]","me-3","mb-3"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-slate-300"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","rounded-full","peer","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","peer-checked:bg-green-500"],[1,"text-xs","text-slate-300","mb-3"],[1,"border","border-slate-300","rounded-lg","p-2","text-sm","bg-slate-500"],[1,"text-slate-300"],[1,"text-xs","text-slate-300","mt-2"]],template:function(n,r){n&1&&(xt(0,"div",0)(1,"div",1)(2,"h2",2),Je(3),Nt(),xt(4,"label",3)(5,"input",4),Au("change",function(){return r.toggleState(r.objet())}),Nt(),ji(6,"div",5),Nt()(),xt(7,"p",6),Je(8),Nt(),xt(9,"div",7)(10,"p",8),Je(11," \xC9tat: "),xt(12,"span",8),Je(13),Nt()(),xt(14,"p",9),Je(15),Nt()()()),n&2&&(Ue(3),Bt(r.formatString(r.objet().nom)),Ue(2),Bi("checked",r.objet().state!=0),Ue(3),Cr("Topic: ",r.objet().topic),Ue(5),Cr(" ",r.objet().stateText," "),Ue(2),Cr("Derni\xE8re mise \xE0 jour: ",r.formatDate(r.objet().ts)))},encapsulation:2})};function sO(e,t){if(e&1&&jt(0,"app-carte-objet",3),e&2){let n=t.$implicit;Mt("objet",n)}}function aO(e,t){if(e&1&&(We(0,"h2",1),Je(1),Ge(),We(2,"div",2),Er(3,sO,1,1,"app-carte-objet",3,Uo),Ge()),e&2){let n=nt();Ue(),Bt(n.formatString(n.piece.nom)),Ue(2),Dr(n.piece.objets)}}var Gc=class e{piece;emplacementNom;mqttService=we(Tn);cdr=we(Ui);destroy$=new ht;isConnected=!1;ngOnInit(){this.mqttService.connectionStatus$.pipe($r(this.destroy$)).subscribe(t=>{this.isConnected=t==="connected",this.cdr.markForCheck()}),this.mqttService.structure$.pipe($r(this.destroy$)).subscribe(t=>{if(this.piece&&this.emplacementNom){let n=this.findPieceInStructure(t,this.emplacementNom,this.piece.nom);n&&(this.piece=be({},n))}this.cdr.markForCheck()})}findPieceInStructure(t,n,r){let o=t.emplacements.find(i=>i.nom===n);if(o)return o.pieces.find(i=>i.nom===r)}trackByTopic(t,n){return n.topic||n.src||t.toString()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}formatString(t){if(!t)return;let n=t.substring(0,1),r=t.substring(1);return n.toUpperCase()+r}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-objets"]],inputs:{piece:"piece",emplacementNom:"emplacementNom"},decls:2,vars:1,consts:[[1,"p-4","border","border-slate-300","rounded-lg","overflow-auto","max-h-[75%]"],[1,"text-2xl","mb-3","text-slate-300"],[1,"flex","flex-row"],[3,"objet"]],template:function(n,r){n&1&&(We(0,"div",0),$t(1,aO,5,1),Ge()),n&2&&(Ue(),Ht(r.piece?1:-1))},dependencies:[zc],encapsulation:2})};function lO(e,t){if(e&1){let n=ln();We(0,"div",5)(1,"app-btn-primary",6),mt("click",function(){let o=_t(n).$implicit,i=nt(2);return Et(i.changerEmplacement(o))}),Ge()()}if(e&2){let n=t.$implicit,r=nt(2);Ue(),Mt("text",r.formatString(n.nom)||"Aucun emplacement trouv\xE9")}}function uO(e,t){if(e&1){let n=ln();We(0,"div",1),mt("click",function(){_t(n);let o=nt();return Et(o.closeModal())})("keyup",function(){_t(n);let o=nt();return Et(o.closeModal())}),We(1,"div",2),mt("click",function(o){return _t(n),Et(o.stopPropagation())})("keyup",function(){_t(n);let o=nt();return Et(o.closeModal())}),We(2,"div",3)(3,"h2",4),Je(4," Choisir un nouvel emplacement "),Ge(),Er(5,lO,2,1,"div",5,Uo),Ge()()()}if(e&2){let n=nt();Ue(5),Dr(n.emplacements)}}var qc=class e{open;closeEvent=new st;emplacementChoisi=new st;mqttService=we(Tn);emplacements=[];ngOnInit(){this.mqttService.structure$.subscribe(t=>{this.emplacements=t.emplacements})}closeModal(){this.closeEvent.emit()}changerEmplacement(t){this.emplacementChoisi.emit(t),this.closeModal()}formatString(t){if(!t)return;let n=t.substring(0,1),r=t.substring(1);return n.toUpperCase()+r}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-emplacement-selection"]],inputs:{open:"open"},outputs:{closeEvent:"closeEvent",emplacementChoisi:"emplacementChoisi"},decls:1,vars:1,consts:[["tabindex","0",1,"fixed","top-0","left-0","w-full","h-full","bg-zinc-800/30","grid","place-items-center","z-[1000]"],["tabindex","0",1,"fixed","top-0","left-0","w-full","h-full","bg-zinc-800/30","grid","place-items-center","z-[1000]",3,"click","keyup"],["tabindex","0",1,"bg-slate-800","px-8","py-4","border","border-slate-300","rounded-2xl","flex","flex-col","z-[1001]",3,"click","keyup"],[1,"space-y-4","max-w-md"],[1,"text-2xl","font-bold","text-slate-300","mb-4"],[1,"mb-3"],[3,"click","text"]],template:function(n,r){n&1&&$t(0,uO,7,0,"div",0),n&2&&Ht(r.open?0:-1)},dependencies:[oo],encapsulation:2})};var cO=()=>[];function dO(e,t){e&1&&(We(0,"div",1)(1,"div",3)(2,"p",4),Je(3,"Veuillez vous connecter pour avoir acc\xE8s au objet"),Ge()()())}function fO(e,t){if(e&1){let n=ln();We(0,"div",5)(1,"div",3)(2,"h1",6),Je(3),Ge()(),We(4,"div",3)(5,"app-btn-primary",7),mt("click",function(){_t(n);let o=nt();return Et(o.openModal())}),Ge()()(),We(6,"div",8)(7,"app-pieces",9),mt("pieceSelected",function(o){_t(n);let i=nt();return Et(i.onSelectPiece(o))}),Ge(),jt(8,"app-objets",10),Ge()}if(e&2){let n=nt();Ue(3),Bt(n.formatString(n.emplacement==null?null:n.emplacement.nom)||"Aucun emplacement d\xE9tect\xE9"),Ue(2),Mt("text","Changer d'emplacements"),Ue(2),Mt("pieces",(n.emplacement==null?null:n.emplacement.pieces)||Kh(4,cO)),Ue(),Mt("piece",n.pieceActive)}}function hO(e,t){if(e&1){let n=ln();We(0,"app-emplacement-selection",11),mt("closeEvent",function(){_t(n);let o=nt();return Et(o.closeModal())})("emplacementChoisi",function(o){_t(n);let i=nt();return Et(i.closeModal(o))}),Ge()}if(e&2){let n=nt();Mt("open",n.statusModal)}}var Kc=class e{emplacement;pieceActive;connectionStatus="disconnected";mqttService=we(Tn);statusModal=!1;subscriptions=[];authService=we(rr);user=this.authService.isAuthenticated();ngOnInit(){this.mqttService.connect(),this.subscriptions.push(this.mqttService.structure$.subscribe(t=>{if(!t.emplacements||t.emplacements.length===0)return;let n=localStorage.getItem("emplacementActif");if(!this.emplacement){let i=t.emplacements[0];if(n){let s=t.emplacements.find(a=>a.nom===n);s&&(i=s)}this.emplacement=i,this.pieceActive=i.pieces[0];return}let r=this.emplacement.nom,o=t.emplacements.find(i=>i.nom===r);if(o&&(this.emplacement=o,this.pieceActive)){let i=o.pieces.find(s=>s.nom===this.pieceActive.nom);this.pieceActive=i??o.pieces[0]}})),this.subscriptions.push(this.mqttService.connectionStatus$.subscribe(t=>{this.connectionStatus=t}))}onSelectPiece(t){this.pieceActive=t}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}openModal(){this.statusModal=!0}closeModal(t){this.statusModal=!1,t&&(this.emplacement=t,this.pieceActive=t.pieces[0],localStorage.setItem("emplacementActif",this.emplacement.nom))}formatString(t){if(!t)return;let n=t.substring(0,1),r=t.substring(1);return n.toUpperCase()+r}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-emplacements"]],decls:4,vars:2,consts:[[1,"flex","flex-col","mt-20"],[1,"sm:px-12","flex","flex-row","gap-6","justify-between","p-6"],[3,"open"],[1,"flex","flex-row","gap-3","items-center"],[1,"text-xl","font-bold","text-slate-300"],[1,"flex","flex-row","gap-6","justify-between","p-6"],[1,"text-5xl","text-slate-300"],[3,"click","text"],[1,"flex","flex-row","gap-3","flex-grow","p-6","overflow-hidden"],[1,"basis-1/3","h-full","overflow-auto",3,"pieceSelected","pieces"],[1,"basis-2/3","h-full","overflow-auto",3,"piece"],[3,"closeEvent","emplacementChoisi","open"]],template:function(n,r){n&1&&(We(0,"div",0),$t(1,dO,4,0,"div",1)(2,fO,9,5),Ge(),$t(3,hO,1,1,"app-emplacement-selection",2)),n&2&&(Ue(),Ht(r.user?2:1),Ue(2),Ht(r.statusModal?3:-1))},dependencies:[xu,oo,uc,Gc,qc],encapsulation:2})};var GD=[{path:"",component:Kc}];var qD={providers:[Nf(),Zh({eventCoalescing:!0}),jp(GD)]};var nC=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(ct(Li),ct(wr))};static \u0275dir=an({type:e})}return e})(),pO=(()=>{class e extends nC{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Fi(e)))(o||e)}})();static \u0275dir=an({type:e,features:[_r]})}return e})(),rC=new Ne("");var gO={provide:rC,useExisting:Wr(()=>od),multi:!0};function mO(){let e=An()?An().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var yO=new Ne(""),od=(()=>{class e extends nC{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!mO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(ct(Li),ct(wr),ct(yO,8))};static \u0275dir=an({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&mt("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[ta([gO]),_r]})}return e})();var oC=new Ne(""),iC=new Ne("");function sC(e){return e!=null}function aC(e){return Vo(e)?ft(e):e}function lC(e){let t={};return e.forEach(n=>{t=n!=null?be(be({},t),n):t}),Object.keys(t).length===0?null:t}function uC(e,t){return t.map(n=>n(e))}function vO(e){return!e.validate}function cC(e){return e.map(t=>vO(t)?t:n=>t.validate(n))}function bO(e){if(!e)return null;let t=e.filter(sC);return t.length==0?null:function(n){return lC(uC(n,t))}}function dC(e){return e!=null?bO(cC(e)):null}function wO(e){if(!e)return null;let t=e.filter(sC);return t.length==0?null:function(n){let r=uC(n,t).map(aC);return Md(r).pipe(Ke(lC))}}function fC(e){return e!=null?wO(cC(e)):null}function KD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function hC(e){return e._rawValidators}function pC(e){return e._rawAsyncValidators}function Xm(e){return e?Array.isArray(e)?e:[e]:[]}function Zc(e,t){return Array.isArray(e)?e.includes(t):e===t}function YD(e,t){let n=Xm(t);return Xm(e).forEach(o=>{Zc(n,o)||n.push(o)}),n}function QD(e,t){return Xm(t).filter(n=>!Zc(e,n))}var Jc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=dC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=fC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},cs=class extends Jc{name;get formDirective(){return null}get path(){return null}},$a=class extends Jc{_parent=null;name=null;valueAccessor=null},Xc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_O={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Oq=Oe(be({},_O),{"[class.ng-submitted]":"isSubmitted"}),gC=(()=>{class e extends Xc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ct($a,2))};static \u0275dir=an({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&$o("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[_r]})}return e})(),mC=(()=>{class e extends Xc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ct(cs,10))};static \u0275dir=an({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&$o("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[_r]})}return e})();var ja="VALID",Yc="INVALID",ls="PENDING",Ba="DISABLED",fo=class{},ed=class extends fo{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Va=class extends fo{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ua=class extends fo{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},us=class extends fo{status;source;constructor(t,n){super(),this.status=t,this.source=n}},ey=class extends fo{source;constructor(t){super(),this.source=t}},Ha=class extends fo{source;constructor(t){super(),this.source=t}};function ry(e){return(id(e)?e.validators:e)||null}function EO(e){return Array.isArray(e)?dC(e):e||null}function oy(e,t){return(id(t)?t.asyncValidators:e)||null}function DO(e){return Array.isArray(e)?fC(e):e||null}function id(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function yC(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[n])throw new xe(1001,"")}function vC(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new xe(1002,"")})}var ds=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Wt(this.statusReactive)}set status(t){Wt(()=>this.statusReactive.set(t))}_status=Vi(()=>this.statusReactive());statusReactive=In(void 0);get valid(){return this.status===ja}get invalid(){return this.status===Yc}get pending(){return this.status==ls}get disabled(){return this.status===Ba}get enabled(){return this.status!==Ba}errors;get pristine(){return Wt(this.pristineReactive)}set pristine(t){Wt(()=>this.pristineReactive.set(t))}_pristine=Vi(()=>this.pristineReactive());pristineReactive=In(!0);get dirty(){return!this.pristine}get touched(){return Wt(this.touchedReactive)}set touched(t){Wt(()=>this.touchedReactive.set(t))}_touched=Vi(()=>this.touchedReactive());touchedReactive=In(!1);get untouched(){return!this.touched}_events=new ht;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(YD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(QD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(QD(t,this._rawAsyncValidators))}hasValidator(t){return Zc(this._rawValidators,t)}hasAsyncValidator(t){return Zc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Oe(be({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ua(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ua(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Oe(be({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Va(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Va(!0,r))}markAsPending(t={}){this.status=ls;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new us(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Oe(be({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ba,this.errors=null,this._forEachChild(o=>{o.disable(Oe(be({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ed(this.value,r)),this._events.next(new us(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Oe(be({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable(Oe(be({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Oe(be({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===ls)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ed(this.value,n)),this._events.next(new us(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Oe(be({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ba:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ls,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=aC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new us(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Ba:this.errors?Yc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ls)?ls:this._anyControlsHaveStatus(Yc)?Yc:ja}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Va(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ua(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){id(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=EO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=DO(this._rawAsyncValidators)}},td=class extends ds{constructor(t,n,r){super(ry(n),oy(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){vC(this,!0,t),Object.keys(t).forEach(r=>{yC(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ha(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var ty=class extends td{};var bC=new Ne("",{providedIn:"root",factory:()=>iy}),iy="always";function CO(e,t){return[...t.path,e]}function ZD(e,t,n=iy){sy(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),IO(e,t),TO(e,t),AO(e,t),SO(e,t)}function JD(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),rd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function nd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function SO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function sy(e,t){let n=hC(e);t.validator!==null?e.setValidators(KD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=pC(e);t.asyncValidator!==null?e.setAsyncValidators(KD(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();nd(t._rawValidators,o),nd(t._rawAsyncValidators,o)}function rd(e,t){let n=!1;if(e!==null){if(t.validator!==null){let o=hC(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(t.asyncValidator!==null){let o=pC(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}let r=()=>{};return nd(t._rawValidators,r),nd(t._rawAsyncValidators,r),n}function IO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&wC(e,t)})}function AO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&wC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function wC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function TO(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function MO(e,t){e==null,sy(e,t)}function xO(e,t){return rd(e,t)}function NO(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function RO(e){return Object.getPrototypeOf(e.constructor)===pO}function OO(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kO(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===od?n=i:RO(i)?r=i:o=i}),o||r||n||null}function PO(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function XD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function eC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Qc=class extends ds{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(ry(n),oy(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(n)&&(n.nonNullable||n.initialValueIsDefault)&&(eC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Ha(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){XD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){XD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){eC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var FO=e=>e instanceof Qc;var _C=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=an({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var EC=new Ne("");var LO={provide:cs,useExisting:Wr(()=>ay)},ay=(()=>{class e extends cs{callSetDisabledState;get submitted(){return Wt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Vi(()=>this._submittedReactive());_submittedReactive=In(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new st;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return ZD(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){JD(n.control||null,n,!1),PO(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),OO(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ey(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(JD(r||null,n),FO(o)&&(ZD(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);MO(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&xO(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sy(this.form,this),this._oldForm&&rd(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(ct(oC,10),ct(iC,10),ct(bC,8))};static \u0275dir=an({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&mt("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ta([LO]),_r,Bo]})}return e})();var jO={provide:$a,useExisting:Wr(()=>ly)},ly=(()=>{class e extends $a{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new st;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=kO(this,i)}ngOnChanges(n){this._added||this._setUpControl(),NO(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return CO(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(ct(cs,13),ct(oC,10),ct(iC,10),ct(rC,10),ct(EC,8))};static \u0275dir=an({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ta([jO]),_r,Bo]})}return e})();var BO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Xr({type:e});static \u0275inj=fr({})}return e})(),ny=class extends ds{constructor(t,n,r){super(ry(n),oy(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){vC(this,!1,t),t.forEach((r,o)=>{yC(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ha(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function tC(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var DC=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),i={};return tC(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new td(o,i)}record(n,r=null){let o=this._reduceControls(n);return new ty(o,r)}control(n,r,o){let i={};return this.useNonNullable?(tC(r)?i=r:(i.validators=r,i.asyncValidators=o),new Qc(n,Oe(be({},i),{nonNullable:!0}))):new Qc(n,r,o)}array(n,r,o){let i=n.map(s=>this._createControl(s));return new ny(i,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Qc)return n;if(n instanceof ds)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,i=n.length>2?n[2]:null;return this.control(r,o,i)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var CC=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:EC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:bC,useValue:n.callSetDisabledState??iy}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Xr({type:e});static \u0275inj=fr({imports:[BO]})}return e})();function UO(e,t){if(e&1){let n=ln();We(0,"p",4),Je(1,"Connect\xE9 en tant que: "),We(2,"strong"),Je(3),Ge()(),Ti(),We(4,"svg",5),mt("click",function(){_t(n);let o=nt();return Et(o.logout())}),jt(5,"path",6),Ge()}if(e&2){let n=nt();Ue(3),Bt(n.user)}}function $O(e,t){if(e&1){let n=ln();We(0,"form",7),mt("ngSubmit",function(){_t(n);let o=nt();return Et(o.onSubmit())}),jt(1,"input",8)(2,"input",9)(3,"app-btn-primary",10),Ge()}if(e&2){let n=nt();Mt("formGroup",n.loginForm),Ue(3),Mt("type","submit")("text","Envoyer")}}var sd=class e{menuOpen=!1;eRef=we(wr);authService=we(rr);toastService=we(or);user;formBuilder=we(DC);loginForm;constructor(){this.loginForm=this.formBuilder.nonNullable.group({username:[""],password:[""]})}ngOnInit(){this.user=this.authService.getCurrentUser(),this.toastService.popFlashToast()}onSubmit(){this.loginForm.valid&&this.authService.login(this.username.value,this.password.value).then(t=>{t?(this.user=this.authService.getCurrentUser(),this.toastService.flashSuccess("L'utilisateur a \xE9t\xE9 connect\xE9 avec succ\xE8s"),window.location.reload()):this.toastService.error("Nom d'utilisateur ou mot de passe incorrect.")}).catch(()=>{this.toastService.error("Une erreur est survenue lors de la connexion.")})}logout(){this.authService.logout(),this.toastService.flashSuccess("L'utilisateur a \xE9t\xE9 d\xE9connect\xE9 avec succ\xE8s"),window.location.reload()}get username(){return this.loginForm.controls.username}get password(){return this.loginForm.controls.password}toggleMenu(){this.menuOpen=!this.menuOpen}clickOutside(t){this.eRef.nativeElement.contains(t.target)||(this.menuOpen=!1)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-navbar"]],hostBindings:function(n,r){n&1&&mt("click",function(i){return r.clickOutside(i)},Ch)},decls:7,vars:1,consts:[[1,"flex","flex-row","justify-between","p-6","bg-slate-950","mb-6","fixed","top-0","left-0","w-full"],[1,"flex","flex-row","gap-3","items-center"],[1,"text-xl","text-slate-300"],[1,"inline-flex",3,"formGroup"],[1,"px-3","py-2","text-slate-300","rounded-2xl"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6","cursor-pointer","text-slate-300",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"],[1,"inline-flex",3,"ngSubmit","formGroup"],["type","text","formControlName","username","placeholder","Username",1,"block","w-full","rounded-lg","shadow-sm","bg-white","sm:text-sm","p-2","mr-2"],["type","password","formControlName","password","placeholder","Mot de passe",1,"block","w-full","rounded-lg","shadow-sm","bg-white","sm:text-sm","p-2","mr-2"],[3,"type","text"]],template:function(n,r){n&1&&(We(0,"nav",0)(1,"div",1)(2,"h1",2),Je(3,"ObjexControl"),Ge()(),We(4,"div",1),$t(5,UO,6,1)(6,$O,4,3,"form",3),Ge()()),n&2&&(Ue(5),Ht(r.user?5:6))},dependencies:[oo,CC,_C,od,gC,mC,ay,ly],encapsulation:2})};function HO(e,t){e&1&&(xt(0,"p"),Je(1,"Non connect\xE9"),Nt())}function WO(e,t){if(e&1&&(xt(0,"p"),Je(1),Nt()),e&2){let n=nt();Ue(),Cr("Connect\xE9 au broker ",n.broker)}}var ad=class e{mqttService=we(Tn);broker=this.mqttService.brokerUrl;authService=we(rr);user=this.authService.isAuthenticated();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-footer"]],decls:3,vars:1,consts:[[1,"sm:px-12","gap-6","text-center","p-4","bg-slate-950","fixed","bottom-0","w-full","left-0","text-slate-300"]],template:function(n,r){n&1&&(xt(0,"div",0),$t(1,HO,2,0,"p")(2,WO,2,1,"p"),Nt()),n&2&&(Ue(),Ht(r.user?2:1))},encapsulation:2})};function zO(e,t){if(e&1&&(We(0,"p",4),Je(1),Ge()),e&2){let n=nt().$implicit;Ue(),Bt(n.header)}}function GO(e,t){if(e&1){let n=ln();We(0,"div",1)(1,"div",2)(2,"div",3),$t(3,zO,2,1,"p",4),We(4,"p",5),Je(5),Ge()(),We(6,"div",6)(7,"button",7),mt("click",function(){let o=_t(n).$implicit,i=nt();return Et(i.removeToast(o))}),We(8,"span",8),Je(9,"Close"),Ge(),Ti(),We(10,"svg",9),jt(11,"path",10),Ge()()()()()}if(e&2){let n=t.$implicit;Mt("ngClass",n.classname||"bg-gray-800 border-l-4 border-gray-900"),Ue(3),Ht(n.header?3:-1),Ue(2),Bt(n.message)}}var ld=class e{toastService=we(or);removeToast(t){this.toastService.remove(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"fixed","right-4","bottom-4","z-[1000]","space-y-3","p-4"],["role","alert",1,"w-full","max-w-xs","p-4","text-white","rounded-lg","shadow-xl","transition-all","duration-300","ease-out","transform","translate-x-0",3,"ngClass"],[1,"flex","items-start"],[1,"text-sm","font-normal","flex-grow","min-w-0"],[1,"mb-1","font-bold"],[1,""],[1,"ml-4","flex-shrink-0"],["type","button","aria-label","Close",1,"inline-flex","h-8","w-8","items-center","justify-center","rounded-lg","bg-transparent","text-white/70","hover:bg-white/10","hover:text-white","focus:ring-2","focus:ring-white/30","p-1.5","transition-colors","duration-150",3,"click"],[1,"sr-only"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"h-4","w-4"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"]],template:function(n,r){n&1&&(We(0,"div",0),Er(1,GO,12,3,"div",1,Uo),Ge()),n&2&&(Ue(),Dr(r.toastService.toasts))},dependencies:[op],encapsulation:2})};var ud=class e{title=In("ProjetFinalObjet");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=at({type:e,selectors:[["app-root"]],decls:5,vars:0,template:function(n,r){n&1&&(jt(0,"app-navbar"),We(1,"main"),jt(2,"router-outlet")(3,"app-toast"),Ge(),jt(4,"app-footer"))},dependencies:[Sa,sd,ad,ld],encapsulation:2})};pp(ud,qD).catch();
